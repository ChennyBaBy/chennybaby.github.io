webpackJsonp([1],[,,,function(e,t,a){"use strict";var n={};n.dataPush=function(e,t){"undefined"!==typeof dataLayer&&dataLayer.push(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e,t))},n.event=function(e,t,a){"undefined"!==typeof dataLayer&&dataLayer.push({event:"GAEvent",eventCategory:e,eventAction:t,eventLabel:a})},n.pageview=function(e,t){"undefined"!==typeof dataLayer&&dataLayer.push({event:"VirtualPageview",virtualPagePath:e,virtualTitle:t})},e.exports=n},function(e,t,a){"use strict";var n=new(a(375));e.exports=n},,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=c(l),i=c(a(1)),s=c(a(15));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.commas=function(e){return e<1e4?e:a.addThousandsCommaTo(e)},a.sign=function(){return Number(a.props.amount)<0?"-":""},a.asMoney=function(){var e=Math.abs(Number(a.props.amount));return 0===e?"Nil":a.commas(a.decimals(e))},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"decimals",value:function(e){return e%1!==0?e.toFixed(2):e}},{key:"addThousandsCommaTo",value:function(e){var t=String(e).split("."),a=n(t,2),r=a[0],l=a[1],o=s.default.delimitWithCommas(r);return void 0===l?o:o+"."+l}},{key:"render",value:function(){return o.default.createElement("span",{className:"ac-money"},this.sign(),"\xa3",this.asMoney())}}]),t}();u.displayName="Money",u.propTypes={amount:i.default.number},t.default=u},,,function(e,t,a){"use strict";var n,r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=a(376),o={};o.isBrowser=function(){return"undefined"!==typeof window},o.isTouch=function(){return"boolean"===typeof n?n:"undefined"!==typeof window&&(n="ontouchstart"in window)},o.range=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a},o.camelCaseKeys=function(e){return Object.keys(e).reduce(function(t,a){return t[a.replace(/(\_[a-z])/g,function(e){return e.toUpperCase().replace("_","")})]=e[a],t},{})},o.snakeCaseKeys=function(e){return Object.keys(e).reduce(function(t,a){return t[a.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})]=e[a],t},{})},o.toQueryString=function(e){var t={};return Object.keys(e).forEach(function(a){("object"!==r(e[a])&&(!0===e[a]||e[a].length>0)||e[a]instanceof Array&&e[a].length>0)&&(t[a]=e[a])}),l.stringify(t,{arrayFormat:"brackets"})},o.delimitWithCommas=function(e){var t=e.toString();return e<1e4?t:t.replace(/\B(?=(\d{3})+(?!\d))/g,",")},o.randomInteger=function(e,t){return Math.floor(Math.random()*(e-t)+t)},o.flatten=function(e){return Array.isArray(e)?e[0]:e},o.debounce=function(e,t,a){var n,r,l,o,i,s=function s(){var c=Date.now()-o;c<t&&c>=0?n=setTimeout(s,t-c):(n=null,a||(i=e.apply(l,r),n||(l=r=null)))};return function(){var c=a&&!n;return l=this,r=arguments,o=Date.now(),n||(n=setTimeout(s,t)),c&&(i=e.apply(l,r),l=r=null),i}},o.arrayify=function(e){return Array.isArray(e)?e:[e]},o.indexOfArray=function(e,t){var a;for(a=0;a<e.length;a++)if(e[a][0]===t[0]&&e[a][1]===t[1])return a;return-1},o.uuid=function(){var e,t={},a=[];for(e=0;e<256;e++)a[e]=(e<16?"0":"")+e.toString(16);return t.generate=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[255&t]+a[t>>8&255]+"-"+a[t>>16&15|64]+a[t>>24&255]+"-"+a[63&n|128]+a[n>>8&255]+"-"+a[n>>16&255]+a[n>>24&255]+a[255&r]+a[r>>8&255]+a[r>>16&255]+a[r>>24&255]},t}(),e.exports=o},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=u(l),i=u(a(1)),s=u(a(4)),c=u(a(3));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={additionalProps:null,isOpen:!1},r.userRequestedOpen=function(e,t){if(r.props.id===e)return r.openModal(t)},r.openModal=function(e){r.props.setWindowHistory&&r.setWindowRestorePoint(),r.setState({additionalProps:e,initialPath:window.location.href,initialTitle:document.title,isOpen:!0},r.setWindowHistoryPoint),document.body.classList.add("ac-body--scrolling-locked"),r.props.trackOpen&&c.default.pageview(r.props.pageviewPath,r.props.pageviewTitle)},r.setWindowRestorePoint=function(){window.history.replaceState(r.state,""),window.addEventListener("popstate",r.popState)},r.setWindowHistoryPoint=function(){r.props.setWindowHistory&&window.history.pushState(r.state,"")},r.popState=function(e){if(e.state)return e.state.isOpen?r.openModal():e.state.isOpen?void 0:r.closeModal()},r.userRequestedClose=function(){if(r.state.isOpen)return r.props.setWindowHistory?window.history.back():void r.closeModal()},r.closeModal=function(){r.setState({isOpen:!1}),document.body.classList.remove("ac-body--scrolling-locked"),r.props.trackClose&&c.default.pageview(r.state.initialPath,r.state.initialTitle),s.default.emit("userClosedModal")},r.onKeyDown=function(e){if(27===e.keyCode)return r.userRequestedClose()},r.modalContent=function(){return r.state.additionalProps?o.default.cloneElement(r.props.children,n({},r.state.additionalProps)):r.props.children},p(r,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){s.default.on("openModal",this.userRequestedOpen),s.default.on("closeModal",this.userRequestedClose),window.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){return this.state.isOpen?o.default.createElement("div",{ref:"modal",className:"ac-modal__wrapper ac-animation--fade-in"},o.default.createElement("div",{ref:"mask",className:"ac-mask",onClick:this.userRequestedClose}),o.default.createElement("button",{ref:"closeButton",type:"button",className:"ac-modal__close ac-modal__close--"+this.props.id,onClick:this.userRequestedClose},o.default.createElement("span",{className:"ch-reader"},"Close")),this.modalContent()):null}}]),t}();f.displayName="Modal",f.propTypes={children:i.default.node,id:i.default.string,pageviewPath:i.default.string,pageviewTitle:i.default.string,setWindowHistory:i.default.bool,trackClose:i.default.bool,trackOpen:i.default.bool},t.default=f},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(12));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=["Monthly payment","Deposit","Initial Rental","Cash price","Cash price (inc VAT)","Deal price","Deal price (inc VAT)","Credit amount","Arrangement fee","Completion fee","Guaranteed future value","Additional discount","Arnold Clark deposit","Total amount payable"],u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.formatValue=function(e,t){return c.includes(e)||e.match(/ deposit$/)?l.default.createElement(o.default,{amount:t}):t},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("table",{className:"ac-illustration"},this.props.caption&&l.default.createElement("caption",{className:"ac-repexample__caption"},this.props.caption),l.default.createElement("tbody",{className:"ac-illustration__body"},Object.keys(this.props.financeData).map(function(t){if("Description"!==t&&"apr"!==t){var a=e.props.financeData[t];return l.default.createElement("tr",{key:t+"-"+a},l.default.createElement("th",null,t),l.default.createElement("td",null,e.formatValue(t,a)))}})),this.props.financeData.apr&&l.default.createElement("tfoot",{ref:"footer",className:"ac-illustration__footer"},l.default.createElement("tr",null,l.default.createElement("th",null,"Representative APR"),l.default.createElement("td",null,this.props.financeData.apr))))}}]),t}();t.default=u},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){return"make"===e.target.name||"model"===e.target.name?n.props.onChange(e.target.name,[e.target.value]):n.props.onChange?n.props.onChange(e.target.name,e.target.value):void 0},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"selectedOption",value:function(){return Array.isArray(this.props.selectedOption)?this.props.selectedOption[0]:this.props.selectedOption}},{key:"render",value:function(){var e=this;return this.props.defaultSelectedOption?l.default.createElement("select",{ref:"select",id:this.props.id,name:this.props.name,className:this.props.className,defaultValue:this.props.defaultSelectedOption,onChange:this.onChange},this.props.optionsForSelect.map(function(t){return l.default.createElement("option",{key:e.props.name+"-"+t[1],value:t[1]},t[0])})):l.default.createElement("select",{ref:function(t){e.selectInput=t},id:this.props.id,name:this.props.name,className:this.props.className,value:this.selectedOption(),onChange:this.onChange},this.props.optionsForSelect.map(function(t){return l.default.createElement("option",{key:e.props.name+"-"+t[1],value:t[1]},t[0])}))}}]),t}();c.propTypes={className:o.default.string,defaultSelectedOption:o.default.string,id:o.default.string,name:o.default.string,onChange:o.default.func,optionsForSelect:o.default.array,selectedOption:o.default.oneOfType([o.default.string,o.default.array])},c.defaultProps={optionsForSelect:[]},t.default=c},,,,,,function(e,t,a){"use strict";var n={},r=function(e,t,a,n){return a>n?t:e+(t-e)*((r=a/n)<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1);var r};n.scrollToElement=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,o=window.pageYOffset,i="HTML"===(t=e).nodeName?-window.pageYOffset:t.getBoundingClientRect().top+window.pageYOffset,s=Date.now(),c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)};!function t(){var u=Date.now()-s;l!==window?l.scrollTop=r(o,i,u,a):window.scroll(0,r(o,i,u,a)),u>a?"function"===typeof n&&n(e):c(t)}()},n.scrollHorizontally=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,n=arguments[3],l=e.scrollLeft,o=t,i=Date.now(),s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)};!function t(){var c=Date.now()-i;e.scrollLeft=r(l,o,c,a),c>a?"function"===typeof n&&n(e):s(t)}()},e.exports=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(8)),s=a(379);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getValue=function(){if(a.props.storeKey){var e=localStorage.getItem(a.props.storeKey);if(null!==e)return"number"===a.props.inputType?Number(e):e}return""},a.handleChange=function(e){a.setState({value:e.target.value})},a.checkValidationRequired=function(){(a.props.requiresValidation||a.props.requiresEmailValidation||a.props.requiresPhoneNumberValidation||a.props.requiresPostcodeValidation)&&a.handleValidation()},a.handleValidation=function(){return a.setState({hasBeenValidated:!0}),a.props.requiresValidation?a.validateNotEmpty():a.props.requiresEmailValidation?a.validateEmail():a.props.requiresPhoneNumberValidation?a.validatePhoneNumber():!!a.props.requiresPostcodeValidation&&a.validatePostcode()},a.validateNotEmpty=function(){if(a.state.value)return a.setState({isValid:!0}),!0;a.setState({isValid:!1})},a.validatePhoneNumber=function(){if(s.ValidPhoneNumber.test(a.state.value))return a.setState({isValid:!0}),!0;a.setState({isValid:!1})},a.validatePostcode=function(){if(s.ValidPostcode.test(a.state.value))return a.setState({isValid:!0}),!0;a.setState({isValid:!1})},a.validateEmail=function(){if(s.ValidEmailAddress.test(a.state.value))return a.setState({isValid:!0}),!0;a.setState({isValid:!1})},a.renderValidatonError=function(){if(!a.state.isValid)return l.default.createElement("p",{ref:"errorMessage",className:"ac-validation__message--fail ac-animation--fade-in"},a.props.errorMessage)},a.renderDescription=function(){if(a.props.description)return l.default.createElement("span",{ref:"description",className:"ac-input__description"},a.props.description)},a.state={value:a.getValue(),isValid:!0,hasBeenValidated:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("label",{ref:"label",className:"ch-label",htmlFor:this.props.inputId},this.props.labelName),this.renderDescription(),l.default.createElement("input",{ref:"input",id:this.props.inputId,className:(0,i.default)("ch-form__control",this.props.additionalInputClasses,{"ac-validation--invalid":!this.state.isValid&&this.state.hasBeenValidated},{"ac-validation--valid":this.state.isValid&&this.state.hasBeenValidated}),name:this.props.inputName,type:this.props.inputType,value:this.state.value,onChange:this.handleChange,onBlur:this.checkValidationRequired,placeholder:this.props.placeholder}),this.renderValidatonError())}}]),t}();u.propTypes={additionalInputClasses:o.default.string,description:o.default.string,errorMessage:o.default.string,inputId:o.default.string,inputName:o.default.string,inputType:o.default.string,labelName:o.default.string,placeholder:o.default.string,requiresEmailValidation:o.default.bool,requiresValidation:o.default.bool},u.defaultProps={inputType:"text",errorMessage:"This field is required."},t.default=u},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(3)),s=u(a(8)),c=u(a(15));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={autocompleteInitialised:!1,lat:n.props.lat,lng:n.props.lng,searchPostalCode:"",searchPostalTown:"",value:n.props.location,locationLoading:!1,isTouch:!1},n.updateValue=function(e){e.target.value||n.resetTracker(),n.setState({value:e.target.value})},n.locationSuccess=function(e){var t=new window.google.maps.Geocoder,a={lat:parseFloat(e.coords.latitude),lng:parseFloat(e.coords.longitude)},r=n;t.geocode({location:a},function(t,a){var n,l={lat:e.coords.latitude,lng:e.coords.longitude,value:"Current Location",locationLoading:!1};"OK"===a&&t[0]&&(n=t[0],l.value=n.address_components.find(function(e){return"postal_town"===e.types[0]}).long_name),r.setState(l),r.locationChanged(),n&&(r.placeChanged(n),r.trackLocation(n),l.place=n),"undefined"!==typeof Storage&&(localStorage.location=JSON.stringify(l))})},n.locationError=function(){return n.setState({locationLoading:!1})},n.getBrowserLocation=function(){n.setState({locationLoading:!0}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(n.locationSuccess,n.locationError)},n.buildGoogleAutocomplete=function(){if(window.google&&!n.state.autocompleteInitialised){var e=n,t=n.refs.locationInput,a=new window.google.maps.places.Autocomplete(t,{componentRestrictions:{country:"GB"},types:["geocode"]});n.setState({autocompleteInitialised:!0}),window.google.maps.event.addDomListener(t,"keydown",function(e){13===e.keyCode&&e.preventDefault()}),a.addListener("place_changed",function(){var t=a.getPlace();e.updateLocation(t),e.trackLocation(t),e.locationChanged(),e.placeChanged(t),"undefined"!==typeof Storage&&(e.state.place=t,localStorage.location=JSON.stringify(e.state))})}},n.updateLocation=function(e){return e.geometry?n.setState({lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),value:e.formatted_address}):n.setState({lat:"",lng:""})},n.trackLocation=function(e){if(e.address_components){var t=e.address_components.find(function(e){return"postal_town"===e.types[0]}),a=e.address_components.find(function(e){return"postal_code_prefix"===e.types[0]||"postal_code"===e.types[0]});i.default.dataPush("searchPostalCode",a?n.postcodePrefix(a):""),i.default.dataPush("searchPostalTown",t?t.long_name:""),n.setState({searchPostalCode:a?n.postcodePrefix(a):"",searchPostalTown:t?t.long_name:""})}},n.resetTracker=function(){i.default.dataPush("searchPostalCode",""),i.default.dataPush("searchPostalTown",""),n.setState({searchPostalCode:"",searchPostalTown:""})},n.postcodePrefix=function(e){return e.long_name.split(" ")[0]},n.locationChanged=function(){n.props.locationChanged&&n.props.locationChanged({location:n.state.value,location_lat:n.state.lat,location_lng:n.state.lng})},n.placeChanged=function(e){n.props.placeChanged&&e.geometry&&n.props.placeChanged(e)},n.mobileRequestLocation=function(){c.default.isTouch()&&n.getBrowserLocation()},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.buildGoogleAutocomplete(),this.setState({isTouch:c.default.isTouch()})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.location!==this.state.value&&this.setState({value:e.location,lat:e.lat,lng:e.lng})}},{key:"render",value:function(){return l.default.createElement("div",{ref:"group",className:"ac-location__group"},this.props.browserLocation&&this.state.isTouch&&l.default.createElement("div",{className:(0,s.default)("",{"ac-btn--loading ac-btn--loading-dark":this.state.locationLoading,"ac-location__button":!this.state.locationLoading}),onClick:this.getBrowserLocation}),l.default.createElement("input",{ref:"locationInput",type:"text",id:this.props.id,name:this.props.name,className:(0,s.default)("ch-form__control",{"ac-location__browser-location":this.props.browserLocation&&this.state.isTouch}),placeholder:"Postcode, city, etc",value:this.state.value,onChange:this.updateValue,onFocus:this.buildGoogleAutocomplete}),l.default.createElement("input",{type:"hidden",ref:"lat",name:this.props.name+"_lat",value:this.state.lat}),l.default.createElement("input",{type:"hidden",ref:"lng",name:this.props.name+"_lng",value:this.state.lng}),l.default.createElement("input",{type:"hidden",name:"search_postal_town",value:this.state.searchPostalTown}),l.default.createElement("input",{type:"hidden",name:"search_postal_code",value:this.state.searchPostalCode}))}}]),t}();f.displayName="LocationFinder",f.propTypes={browserLocation:o.default.bool,id:o.default.string,lat:o.default.oneOfType([o.default.string,o.default.number]),lng:o.default.oneOfType([o.default.string,o.default.number]),location:o.default.string,locationChanged:o.default.func,name:o.default.string,placeChanged:o.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(30));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onFormSubmit=function(e){e.preventDefault();var t=a.props.dealTotal,n=parseInt(a.deposit.value),r=parseInt(a.term.refs.select.value),l=a.props.mileageOptions?parseInt(a.mileage.refs.select.value):"";return a.props.calculatorChanged(r,n,t,l)},a.updateMileageOptions=function(e,t){var n=parseInt(t),r=a.newMileageOptions(n);a.setState({mileageOptions:r})},a.newMileageOptions=function(e){if(a.props.mileageOptions){var t=a.props.availableContractMileage/e*12;return a.props.mileageOptions.filter(function(e){return e[1]<=t})}},a.minDeposit=function(){return"pl"===a.props.type?0:a.props.equity<0?0-a.props.equity:0},a.defaultDeposit=function(){return"pl"===a.props.type?0:a.props.initialDeposit<a.minDeposit()?a.minDeposit():a.props.initialDeposit},a.state={mileageOptions:a.newMileageOptions(a.props.initialTerm)},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("form",{action:this.props.formAction,method:"POST",className:"js-off--hide ch-form ch-pt--2 ac-calculator",onSubmit:this.onFormSubmit},l.default.createElement("input",{name:"utf8",type:"hidden",value:"\u2713"}),l.default.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.authenticityToken}),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"deposit"},"Deposit (\xa3)"),l.default.createElement("input",{ref:function(t){return e.deposit=t},id:"deposit",name:"deposit",type:"number",min:this.minDeposit(),max:this.props.maxDeposit,required:!0,className:"ch-form__control",defaultValue:this.defaultDeposit()})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"term"},"Term"),l.default.createElement(i.default,{ref:function(t){return e.term=t},id:"term",name:"term",className:"ch-form__control",optionsForSelect:this.props.termOptions,defaultSelectedOption:this.props.initialTerm.toString(),onChange:this.updateMileageOptions})),this.props.mileageOptions&&l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"mileage"},"Annual mileage"),l.default.createElement(i.default,{ref:function(t){return e.mileage=t},id:"mileage",name:"mileage",className:"ch-form__control",optionsForSelect:this.state.mileageOptions,defaultSelectedOption:this.props.initialAnnualMileage.toString()})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("button",{className:"ch-btn ch-btn--primary ch-btn--block",type:"submit"},"Calculate your finance")))}}]),t}();c.propTypes={authenticityToken:o.default.string,calculatorChanged:o.default.func,dealTotal:o.default.number,equity:o.default.number,formAction:o.default.string,initialAnnualMileage:o.default.number,initialDeposit:o.default.number,initialTerm:o.default.number,maxDeposit:o.default.number,mileageOptions:o.default.array,termOptions:o.default.array},t.default=c},,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{ref:"cashPrice",className:"ac-pricing__cash"},l.default.createElement("span",{className:"ac-pricing__prefix"},this.props.prefix," "),l.default.createElement(i.default,{amount:this.props.amount}),this.props.suffix&&l.default.createElement("span",{className:"ac-pricing__suffix"}," ",this.props.suffix))}}]),t}();c.propTypes={amount:o.default.number.isRequired,prefix:o.default.string,suffix:o.default.string},c.defaultProps={prefix:"Only"},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(12)),s=c(a(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.openModal=function(){s.default.emit("openModal","finance-illustration",{financeHeading:n.props.financeHeading,stockReference:n.props.stockReference,vehicleUrl:n.props.vehicleUrl})},n.renderInlineIllustration=function(){if(n.props.showTooltip&&n.props.stockReference)return l.default.createElement("button",{type:"button",onClick:n.openModal,className:"ac-finance__tooltip ac-finance__tooltip--hover"},l.default.createElement("span",{className:"ch-reader"},"View this car\u2019s full finance example"))},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{ref:"monthlyPayment",className:"ac-pricing__monthly"},this.props.prefix&&l.default.createElement("span",{className:"ac-pricing__prefix"},this.props.prefix),l.default.createElement(i.default,{amount:this.props.amount}),l.default.createElement("span",{className:"ac-pricing__suffix"}," per month"),this.renderInlineIllustration())}}]),t}();p.propTypes={amount:o.default.number.isRequired,financeHeading:o.default.string,prefix:o.default.string,showTooltip:o.default.bool,stockReference:o.default.string,vehicleUrl:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{ref:"saving",className:"ac-pricing__saving"},this.props.prefix||"Save ",l.default.createElement(i.default,{amount:this.props.amount}),this.props.suffix)}}]),t}();c.propTypes={amount:o.default.number.isRequired,prefix:o.default.string,suffix:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isOpen:!1,positionOffset:0},n.openTooltip=function(){n.setState({isOpen:!0},n.checkPosition),n.closeOtherTooltips()},n.closeTooltip=function(){return n.setState({isOpen:!1})},n.toggleTooltip=function(){return n.state.isOpen?n.closeTooltip():n.openTooltip()},n.closeOtherTooltips=function(){return i.default.emit("closeTooltips",n.props.id)},n.checkForClosure=function(e){if(n.props.id!==e)return n.closeTooltip()},n.checkPosition=function(){var e=window.innerWidth,t=n.tooltip.getBoundingClientRect().right,a=Math.floor(e-t);if(a<0){n.setState({positionOffset:a-14})}},n.getStyle=function(){if(n.state.positionOffset<0)return{transform:"translateX("+n.state.positionOffset+"px)"}},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.on("closeTooltips",this.checkForClosure)}},{key:"render",value:function(){var e=this;return l.default.createElement("span",{className:"ac-tooltip__anchor"},l.default.createElement("button",{className:(0,s.default)("ac-tooltip__link",{"ac-tooltip__link--open":this.state.isOpen}),onClick:this.toggleTooltip,ref:function(t){return e.link=t},type:"button"},this.props.title),this.state.isOpen&&l.default.createElement("div",{className:"ac-tooltip",ref:function(t){return e.tooltip=t},style:this.getStyle()},l.default.createElement("button",{className:"ac-tooltip__close",onClick:this.closeTooltip,ref:function(t){return e.close=t},type:"button"},l.default.createElement("span",{className:"ch-reader"},"Close")),this.props.children))}}]),t}();p.displayName="Tooltip",p.propTypes={children:o.default.node,id:o.default.string,title:o.default.string},t.default=p},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.renderVariant=function(){return l.default.createElement("small",{className:"ac-vehicle__title-variant"},n.props.variant)},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return this.props.url?l.default.createElement("h2",{ref:"title",className:"ac-vehicle__title"},l.default.createElement("a",{ref:"vehicleLink",href:this.props.url,className:this.props.dataAction&&"gtm-track","data-category":this.props.dataCategory,"data-action":this.props.dataAction,"data-label":this.props.dataLabel},this.props.name," ",this.renderVariant())):l.default.createElement("h1",{ref:"title",className:"ac-vehicle__title"},this.props.name," ",this.renderVariant())}}]),t}();c.propTypes={dataAction:o.default.string,dataCategory:o.default.string,dataLabel:o.default.string,name:o.default.string.isRequired,url:o.default.string,variant:o.default.string.isRequired},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isShortlisted:!1,shortlist:[]},n.readShortlist=function(){var e=localStorage.getItem("shortlist");return""===e?n.updateShortlist([]):e?n.updateShortlist(e.split(",")):void 0},n.updateShortlist=function(e){e!==n.state.shortlist&&n.setState({isShortlisted:e.includes(n.props.stockReference),shortlist:e})},n.updateShortlistedState=function(){return n.state.isShortlisted?n.removeFromShortlist():n.addToShortlist()},n.addToShortlist=function(){return i.default.emit("shortlistAdd",n.props.stockReference)},n.removeFromShortlist=function(){return i.default.emit("shortlistRemove",n.props.stockReference)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.readShortlist(),i.default.on("shortlistUpdate",this.updateShortlist)}},{key:"render",value:function(){return l.default.createElement("button",{type:"button",ref:"button",onClick:this.updateShortlistedState,className:(0,s.default)("js-off--hide ac-shortlist__button",{"ac-shortlist__button--added":this.state.isShortlisted})},l.default.createElement("span",{className:"ch-reader"},"Shortlist"))}}]),t}();p.displayName="ShortlistButton",p.propTypes={stockReference:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(123)),s=c(a(124));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.onPageChanged=function(e){if(n.props.onPageChanged)return n.props.onPageChanged(e)},n.onFirstPage=function(){return 1===parseInt(n.props.currentPage)||"undefined"===typeof n.props.currentPage},n.onLastPage=function(){return parseInt(n.props.currentPage)===parseInt(n.props.totalNumberOfPages)},n.getPageButtons=function(){return new s.default(n.props.currentPage,n.props.totalNumberOfPages).map(function(e){return l.default.createElement(i.default,{className:"ch-btn ch-btn--link ac-pagination__page",pageNumber:e,key:"page-"+e,onClick:n.onPageChanged,href:n.urlForPage(e),ref:"page"+e,isDisabled:e===n.props.currentPage},e)})},n.previousPage=function(e){return parseInt(e)-1},n.nextPage=function(e){return parseInt(e)+1},n.urlForPage=function(e){return-1===n.props.baseUrl.indexOf("?")?n.props.baseUrl+n.props.parameters+"?page="+e:n.props.baseUrl+n.props.parameters+"&page="+e},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return this.props.totalNumberOfPages<=1?null:l.default.createElement("nav",{ref:"pagination",className:"ch-text--center ac-pagination"},l.default.createElement(i.default,{className:"ch-btn ch-btn--sm ac-pagination__button ac-hidden--xs",pageNumber:1,onClick:this.onPageChanged,ref:"firstPageButton",href:this.urlForPage(1),isDisabled:this.onFirstPage()},"First"),l.default.createElement(i.default,{className:"ch-btn ch-btn--sm ac-pagination__button",pageNumber:this.previousPage(this.props.currentPage),onClick:this.onPageChanged,ref:"previousPageButton",href:this.urlForPage(this.previousPage(this.props.currentPage)),isDisabled:this.onFirstPage()},"Previous"),this.getPageButtons(),l.default.createElement(i.default,{className:"ch-btn ch-btn--sm ac-pagination__button",pageNumber:this.nextPage(this.props.currentPage),onClick:this.onPageChanged,ref:"nextPageButton",href:this.urlForPage(this.nextPage(this.props.currentPage)),isDisabled:this.onLastPage()},"Next"),l.default.createElement(i.default,{className:"ch-btn ch-btn--sm ac-pagination__button ac-hidden--xs",pageNumber:this.props.totalNumberOfPages,onClick:this.onPageChanged,ref:"lastPageButton",href:this.urlForPage(this.props.totalNumberOfPages),isDisabled:this.onLastPage()},"Last"))}}]),t}();p.propTypes={baseUrl:o.default.string,currentPage:o.default.number,onPageChanged:o.default.func,parameters:o.default.string,totalNumberOfPages:o.default.number},p.defaultProps={parameters:""},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(16)),s=c(a(27));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={error:!1,illustration:null,loading:!0},n.getFinanceIllustration=function(){i.default.get("/vehicles/"+n.props.stockReference+"/hp_finance.json").end(function(e,t){if(e)return n.setState({error:!0,loading:!1});n.setState({error:!1,illustration:t.body.data,loading:!1})})},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.getFinanceIllustration()}},{key:"render",value:function(){return l.default.createElement("div",{className:"ac-modal ac-modal--wide ac-modal--padding ac-finance__lightbox ch-width--12"},this.state.loading&&l.default.createElement("div",{className:"ch-text--center"},l.default.createElement("span",{className:"ac-loading__spinner ac-loading__spinner--small"})),this.state.error&&l.default.createElement("div",{className:"ch-text--center"},l.default.createElement("p",null,"Sorry, we couldn\u2019t load the finance information at this time."),l.default.createElement("div",null,l.default.createElement("button",{className:"ch-btn ch-btn--link",onClick:this.getFinanceIllustration,type:"button"},"Retry"),l.default.createElement("span",null," | "),l.default.createElement("a",{className:"ch-btn ch-btn--link",href:this.props.vehicleUrl},"View this vehicle"))),this.state.illustration&&l.default.createElement(l.default.Fragment,null,l.default.createElement(s.default,{financeData:this.state.illustration,caption:this.props.financeHeading}),l.default.createElement("div",null,l.default.createElement("a",{href:this.props.vehicleUrl,className:"ch-btn ch-btn--sm ch-btn--cta ch-mt--2"},"More info"))))}}]),t}();p.propTypes={financeHeading:o.default.string,stockReference:o.default.string,vehicleUrl:o.default.string},p.defaultProps={financeHeading:"Representative finance example"},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.phoneNumberClicked=function(){i.default.event("Phone Number","Click",n.withoutSpaces(n.props.number))},n.withoutSpaces=function(e){return e.replace(/ /g,"")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("a",{className:"ac-phone "+this.props.additionalClasses,ref:"number",href:"tel:"+this.withoutSpaces(this.props.number),onClick:this.phoneNumberClicked},this.props.number)}}]),t}();u.displayName="PhoneNumber",u.propTypes={additionalClasses:o.default.string,number:o.default.string},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(0)),r=l(a(8));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"ac-filter__wrapper"},e.availableOptions.map(function(t){return n.default.createElement("button",{key:t,className:(0,r.default)("ch-btn ch-btn--sm ac-filter__button",{"ac-filter__button--selected":t[1]===e.selectedOption}),onClick:function(){return e.filterSelected(e.name,t[1])}},t[0])}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(36));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.scrollOffset=80,n.scrollLeft=function(){var e=n.slider.scrollLeft-n.slider.offsetWidth+n.scrollOffset;o.default.scrollHorizontally(n.slider,e)},n.scrollRight=function(){var e=n.slider.scrollLeft+n.slider.offsetWidth-n.scrollOffset;o.default.scrollHorizontally(n.slider,e)},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"ac-filters__slider ch-mb--2"},l.default.createElement("button",{className:"js-off--hide ac-hidden--sm ac-horiz-scroller__prev",onClick:this.scrollLeft},l.default.createElement("span",{className:"ch-reader"},"Previous")),l.default.createElement("div",{className:"ac-radiogroup",ref:function(t){return e.slider=t}},this.props.children),l.default.createElement("button",{className:"js-off--hide ac-hidden--sm ac-horiz-scroller__next",onClick:this.scrollRight},l.default.createElement("span",{className:"ch-reader"},"Next")))}}]),t}();t.default=c},,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.getBannerClassName=function(){var e="";return 0===n.props.imageCount&&(e+=" ac-imagethumbnail--no-images"),n.props.isStaffOffer?e+" ac-imagethumbnail--staff-offer":n.props.isReserved?e+" ac-imagethumbnail--reserved":n.props.isAvailableSoon?e+" ac-imagethumbnail--availablesoon":n.props.isAwaitingImages?e+" ac-imagethumbnail--awaitingimages":e},n.openImageGallery=function(){i.default.emit("imageGalleryOpen",n.props.photos,n.props.thumbnails,n.props.originPage)},n.renderImage=function(){return 0===n.props.imageCount?l.default.createElement("div",{ref:"placeholder",className:"ac-imagethumbnail__image-placeholder"}):n.props.lazyLoad?l.default.createElement("img",{"data-src":n.props.imagePath,ref:"image",alt:"",className:"ch-img--responsive swiper-lazy"}):l.default.createElement("img",{ref:"image",className:"ch-img--responsive",src:n.props.imagePath,alt:""})},n.renderImageCount=function(){if(n.props.imageCount>0&&n.props.launchImageGallery)return l.default.createElement("div",{ref:"imageCount",className:"ac-imagethumbnail__image-count"},n.props.imageCount,l.default.createElement("span",{className:"ch-reader"}," images"))},n.renderImageGalleryTrigger=function(){if(n.props.launchImageGallery&&n.props.imageCount>0)return l.default.createElement("button",{ref:"imageGalleryTrigger",type:"button",className:"ch-btn ch-btn--link ac-imagethumbnail__gallery-trigger",onClick:n.openImageGallery},l.default.createElement("span",{className:"ch-reader"},"Open gallery"))},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{ref:"imageThumbnail",className:"ac-imagethumbnail"+this.getBannerClassName()},this.renderImage(),this.renderImageCount(),this.renderImageGalleryTrigger())}}]),t}();u.displayName="ImageThumbnail",u.propTypes={imageCount:o.default.number,imagePath:o.default.string,isAvailableSoon:o.default.bool,isAwaitingImages:o.default.bool,isReserved:o.default.bool,isStaffOffer:o.default.bool,launchImageGallery:o.default.bool,lazyLoad:o.default.bool,originPage:o.default.string,photos:o.default.array,thumbnails:o.default.array},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onKeyPress=function(e){13===e.nativeEvent.keyCode&&(e.preventDefault(),n.refs.input.blur())},n.onFilterChanged=function(e){return n.props.onFilterChanged(e.target.name,e.target.value)},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&""===this.props.value&&(this.refs.input.value="")}},{key:"render",value:function(){return l.default.createElement("input",{ref:"input",id:this.props.inputId,className:this.props.className,name:this.props.inputName,type:"text",defaultValue:this.props.value,onKeyPress:this.onKeyPress,onBlur:this.onFilterChanged})}}]),t}();c.displayName="KeywordsInput",c.propTypes={className:o.default.string,inputId:o.default.string,inputName:o.default.string,onFilterChanged:o.default.func,value:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(8));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isCollapsed:!0},n.onChange=function(e){var t=n.props.selectedOptions;return e.target.checked?t.push(e.target.value):t.splice(t.indexOf(e.target.value),1),n.props.onChange(n.props.name,t)},n.isChecked=function(e){return n.props.selectedOptions.indexOf(e)>-1},n.toggleCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},n.renderSelectedTotal=function(){if(n.props.selectedOptions.length>0)return l.default.createElement("p",{className:"ac-multigroup__total"},n.props.selectedOptions.length," selected")},n.renderShowMoreToggle=function(){if(n.props.availableOptions.length>6)return l.default.createElement("button",{ref:"showMore",type:"button",className:"ch-btn ch-btn--block ch-btn--sm ch-btn--link js-off--hide ac-multigroup__show-more",onClick:n.toggleCollapsed},n.state.isCollapsed?"Show more":"Show less")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:(0,i.default)("ac-multigroup ac-multigroup__"+this.props.name,{"ac-multigroup--collapsed":this.state.isCollapsed,"ac-multigroup--loading":this.props.loading})},l.default.createElement("input",{type:"hidden",name:this.props.name+"[]",value:""}),this.renderSelectedTotal(),l.default.createElement("div",{className:"ac-multigroup__checkbox-wrapper"},this.props.availableOptions.map(function(e){return l.default.createElement("div",{className:"ch-checkbox ac-multigroup__checkbox",key:this.props.name+e[1]},l.default.createElement("label",{htmlFor:this.props.name+"--"+e[1],className:"ac-multigroup__"+this.props.name+"--"+e[1].toLowerCase()},l.default.createElement("input",{ref:e[1],type:"checkbox",id:this.props.name+"--"+e[1],name:this.props.name+"[]",className:"ch-checkbox__input",value:e[1],checked:this.isChecked(e[1]),onChange:this.onChange,disabled:this.props.loading}),l.default.createElement("span",{className:"ch-checkbox__switch"}),e[0]))}.bind(this))),this.renderShowMoreToggle())}}]),t}();u.propTypes={availableOptions:o.default.array,loading:o.default.bool,name:o.default.string,onChange:o.default.func,selectedOptions:o.default.array},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.trackChangeEventThenChange=function(e){"monthly"===n.props.paymentType?i.default.event("Budget selector","Changed to cash price","Search page budget selector"):i.default.event("Budget selector","Changed to monthly payment","Search page budget selector"),n.props.onChange(e.target.name,e.target.value)},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-paymenttoggle"},!this.props.hideMonthlyPayment&&l.default.createElement(l.default.Fragment,null,l.default.createElement("input",{ref:"monthlyPaymentsRadio",type:"radio",className:"ch-reader",name:"payment_type",id:"payment-type-monthly",value:"monthly",checked:"monthly"===this.props.paymentType,onChange:this.trackChangeEventThenChange}),l.default.createElement("label",{htmlFor:"payment-type-monthly"},"Monthly payment")),l.default.createElement("input",{ref:"cashPriceRadio",type:"radio",className:"ch-reader",name:"payment_type",id:"payment-type-cash",value:"cash",checked:"cash"===this.props.paymentType,onChange:this.trackChangeEventThenChange}),l.default.createElement("label",{htmlFor:"payment-type-cash"},"Cash price"))}}]),t}();u.propTypes={onChange:o.default.func,paymentType:o.default.string},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(8)),s=c(a(15));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isBrowser:s.default.isBrowser(),isValid:!0},n.validate=function(){return window.grecaptcha&&""===window.grecaptcha.getResponse()&&!n.props.isTest?(n.setState({isValid:!1}),!1):(n.setState({isValid:!0}),!0)},n.renderValidatonErrors=function(){if(!n.state.isValid)return l.default.createElement("p",{className:"ac-validation__message--fail ac-animation--fade-in"},n.props.errorMessage)},n.renderNonJSRecaptcha=function(){if(!n.state.isBrowser)return l.default.createElement("div",{ref:"recaptchaTargetNoJS",className:"g-recaptcha__nojs"},l.default.createElement("iframe",{title:"Recaptcha",className:"g-recaptcha__nojs-iframe",src:"https://www.google.com/recaptcha/api/fallback?k="+n.props.recaptchaSiteKey,scrolling:"no"}),l.default.createElement("div",{className:"g-recaptcha__nojs--response-holder"},l.default.createElement("label",{className:"ch-reader",htmlFor:"g-recaptcha-response"},"Copy and paste the recaptcha code into here"),l.default.createElement("textarea",{id:"g-recaptcha-response",name:"g-recaptcha-response",className:"g-recaptcha-response"})))},n.renderJSRecaptcha=function(){return l.default.createElement("div",{ref:"recaptchaTarget",className:(0,i.default)("g-recaptcha",{"ac-validation--invalid":!n.state.isValid}),"data-sitekey":n.props.recaptchaSiteKey})},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.google.com/recaptcha/api.js",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"render",value:function(){return l.default.createElement("div",null,this.renderJSRecaptcha(),this.renderNonJSRecaptcha(),this.renderValidatonErrors())}}]),t}();p.propTypes={errorMessage:o.default.string,isTest:o.default.bool,recaptchaSiteKey:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-promo__wrapper",style:{backgroundColor:this.props.backgroundColor,borderColor:this.props.borderColor,color:this.props.textColor}},l.default.createElement("div",{className:"ch-container"},l.default.createElement("div",{className:"ac-promo ac-promo--"+this.props.name},l.default.createElement("p",{className:"ch-mb--0 ac-promo__heading"},this.props.textOne,this.props.textBold&&l.default.createElement("span",{className:"ch-text--bold",style:{color:this.props.textBoldColor}},this.props.textBold),this.props.textTwo,this.props.linkUrl&&this.props.linkText&&l.default.createElement("a",{target:this.props.target,href:this.props.linkUrl,style:{color:this.props.linkTextColor}},this.props.linkText)))))}}]),t}();s.displayName="PromoBanner",s.propTypes={backgroundColor:o.default.string,borderColor:o.default.string,linkText:o.default.string,linkTextColor:o.default.string,linkUrl:o.default.string,name:o.default.string.isRequired,target:o.default.string,textBold:o.default.string,textBoldColor:o.default.string,textColor:o.default.string,textOne:o.default.string,textTwo:o.default.string},s.defaultProps={backgroundColor:"#fff",borderColor:"#e5e5e5",linkTextColor:"#007fb0",textBoldColor:"#2d3737",textColor:"#2d3737",target:"_self"},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=d(l),i=d(a(1)),s=d(a(4)),c=d(a(3)),u=d(a(385)),p=d(a(145)),f=d(a(149));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setSelectedFinance=function(e){var t=e.target.value;s.default.emit("changedFinance",t,a.props.finance[t].illustration.Deposit,a.props.finance[t].illustration["Monthly payment"])},a.hpCalculatorChanged=function(e,t,n){(0,u.default)().hpRequest({term:e,deposit:t,total:n,stockReference:a.props.stockReference})},a.plCalculatorChanged=function(e,t,n){(0,u.default)().plRequest({term:e,deposit:t,total:n,stockReference:a.props.stockReference})},a.pcpCalculatorChanged=function(e,t,n,r){a.setState({loading:!0,pcpError:""}),(0,u.default)().pcpRequest({term:e,annual_mileage:r,deposit:t,total:n,stock_reference:a.props.stockReference})},a.updatePcpFailed=function(e){a.setState({loading:!1,pcpError:e})},a.submitFinanceEnquiry=function(e){e.preventDefault(),s.default.emit("submittedFinance",a.props.finance[a.props.finance.selectedFinance].illustration)},a.updateDealBuilderFinance=function(){c.default.event("Deal Builder","Add finance to deal",a.props.finance.selectedFinance),s.default.emit("addedFinance",a.props.finance[a.props.finance.selectedFinance].illustration),a.props.setView("Next steps")},a.cancel=function(){return a.props.setView("Next steps")},a.state={loading:!1,pcpError:""},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){s.default.on("failedPcpUpdate",this.updatePcpFailed)}},{key:"componentDidUpdate",value:function(e){this.props.finance.pcp&&this.props.finance.pcp!==e.finance.pcp&&this.setState({loading:!1})}},{key:"render",value:function(){return this.props.finance.selectedFinance?"dealbuilder"===this.props.view?o.default.createElement(f.default,n({},this.props.finance,this.state,{cancel:this.cancel,dealTotal:this.props.dealTotal,enquiry:this.props.enquiry,hpCalculatorChanged:this.hpCalculatorChanged,pcpCalculatorChanged:this.pcpCalculatorChanged,plCalculatorChanged:this.plCalculatorChanged,setSelectedFinance:this.setSelectedFinance,setView:this.props.setView,stockReference:this.props.stockReference,submitFinanceEnquiry:this.submitFinanceEnquiry,updateDealBuilderFinance:this.updateDealBuilderFinance})):o.default.createElement(p.default,n({},this.props.finance,this.state,{dealTotal:this.props.dealTotal,enquiry:this.props.enquiry,hpCalculatorChanged:this.hpCalculatorChanged,pcpCalculatorChanged:this.pcpCalculatorChanged,setSelectedFinance:this.setSelectedFinance,stockReference:this.props.stockReference,submitFinanceEnquiry:this.submitFinanceEnquiry,updateDealBuilderFinance:this.updateDealBuilderFinance})):null}}]),t}();h.displayName="FinanceContainer",h.propTypes={dealTotal:i.default.number,enquiry:i.default.object,finance:i.default.object,stockReference:i.default.string,view:i.default.string},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={agentsAvailable:n.props.agentsAvailable},n.liveChatAvailable=function(){n.setState({agentsAvailable:!0})},n.liveChatUnavailable=function(){n.setState({agentsAvailable:!1})},n.initiateLiveChat=function(){i.default.emit("initiateLiveChat")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.on("liveChatAvailable",this.liveChatAvailable),i.default.on("liveChatUnavailable",this.liveChatUnavailable)}},{key:"componentWillUnmount",value:function(){i.default.removeListener("liveChatAvailable"),i.default.removeListener("liveChatUnavailable")}},{key:"render",value:function(){return this.state.agentsAvailable?l.default.createElement("button",{type:"button",ref:"button",className:"ch-btn js-off--hide gtm-track "+this.props.additionalClasses,onClick:this.initiateLiveChat,"data-category":"Vehicle Sales Funnel","data-action":"Live Chat","data-label":this.props.eventLabel},this.props.buttonText):null}}]),t}();u.propTypes={additionalClasses:o.default.string,agentsAvailable:o.default.bool,buttonText:o.default.string,eventLabel:o.default.string},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.openDealBuilderModal=function(){s.default.event("UX - Deal Builder","Opened deal builder","Opened deal builder"),i.default.emit("openModal","deal-builder")},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"db-product-link"},l.default.createElement("h2",{className:"ch-h3"},"Build your own deal"),l.default.createElement("ul",{className:"db-product-link__list"},l.default.createElement("li",null,"Get an instant valuation on your trade in"),l.default.createElement("li",null,"Get a customised finance quote perfect for you"),this.props.reservationAvailable&&l.default.createElement("li",null,"Reserve this car for a refundable fee of \xa399"),this.props.testDriveAvailable&&l.default.createElement("li",null,"Book a test drive (next slot ",this.props.nextSlot,")")),l.default.createElement("button",{className:"ch-btn ch-btn--primary",onClick:this.openDealBuilderModal,type:"button"},"Build your deal"))}}]),t}();p.displayName="DealBuilderLink",p.propTypes={nextSlot:o.default.string,reservationAvailable:o.default.bool,testDriveAvailable:o.default.bool},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=v(r),o=v(a(1)),i=v(a(4)),s=v(a(64)),c=v(a(79)),u=v(a(174)),p=v(a(89)),f=v(a(130)),d=v(a(65)),h=v(a(90)),m=v(a(388)),y=v(a(399)),b=v(a(3));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.openQuickGallery=function(){i.default.emit("imageGalleryOpen",n.props.photos,n.props.thumbnails,"Search results",n.props)},n.openDeliveryCentresModal=function(e){e.preventDefault(),i.default.emit("openModal","delivery-centres-modal")},_(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"renderImageGalleryButton",value:function(){if(this.props.imageCount>0)return l.default.createElement("button",{type:"button",className:"ac-result__gallery-btn ac-hidden--sl js-off--hide",onClick:this.openQuickGallery},l.default.createElement("span",{className:"ac-result__image-count"},this.props.imageCount),"Quick look")}},{key:"renderVideoTourButton",value:function(){if(this.props.citnowVideo)return l.default.createElement(h.default,{citnowVideo:this.props.citnowVideo,originPage:"Vehicle Search",stockReference:this.props.stockReference})}},{key:"renderResultDetails",value:function(){return this.props.isReserved?l.default.createElement(p.default,{enquiryUrl:this.props.enquiryUrl,make:this.props.make,model:this.props.model}):l.default.createElement(l.default.Fragment,null,l.default.createElement("ul",{className:"ac-result__summary"},this.props.salesInfo.summary.map(function(e){return l.default.createElement("li",{key:e},e)})),l.default.createElement(u.default,{pricing:this.props.salesInfo.pricing,stockReference:this.props.stockReference,vehicleUrl:this.props.url}))}},{key:"renderBranch",value:function(){return this.props.delivery.presentation?l.default.createElement("a",{className:"ac-branchname ac-branchname--delivery",onClick:this.openDeliveryCentresModal},this.props.delivery.vehicleLocationText):l.default.createElement(f.default,this.props.branch)}},{key:"renderMobileImage",value:function(){var e=this,t=this,a={pagination:{el:".swiper-pagination",type:"bullets",clickable:!1,dynamicBullets:!0},slidesPerView:1,loop:!0,watchSlidesVisibility:!0,preloadImages:!0,lazy:{loadOnTransitionStart:!0},on:{init:function(){this.swiperLoaded=!0},slideChange:function(){if(this.swiperLoaded){var e=t.props.photos.length+1;this.activeIndex<=e&&b.default.event("UX - SERPS","Swiper - Slide Changed",t.props.stockReference+": "+this.activeIndex+"/"+e)}}}};return this.props.photos.length<2?this.renderImage():l.default.createElement("a",{className:"ac-results__mobile-image",href:this.props.url},l.default.createElement(m.default,a,this.props.photos.map(function(t,a){return l.default.createElement("div",{key:t},l.default.createElement(c.default,{imagePath:t,imageCount:e.props.photos.length,isReserved:e.props.isReserved,isAwaitingImages:e.props.isAwaitingImages,isAvailableSoon:e.props.isAvailableSoon,lazyLoad:a>0}))})))}},{key:"renderImage",value:function(){return l.default.createElement("a",{className:"ac-results__mobile-image",href:this.props.url},l.default.createElement(c.default,{imagePath:this.props.photos[0],imageCount:this.props.photos.length,isReserved:this.props.isReserved,isAwaitingImages:this.props.isAwaitingImages,isAvailableSoon:this.props.isAvailableSoon}))}},{key:"renderDesktopImage",value:function(){return l.default.createElement("a",{className:"ac-results__large-image",href:this.props.url},l.default.createElement(c.default,{imagePath:this.props.photos[0],imageCount:this.props.photos.length,isReserved:this.props.isReserved,isAwaitingImages:this.props.isAwaitingImages,isAvailableSoon:this.props.isAvailableSoon}))}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"ch-card ac-result"},l.default.createElement(y.default,{triggerOnce:!0,rootMargin:"100px 0px 100px 0px",render:function(t){var a=t.inView,n=t.ref;return l.default.createElement("div",{className:"ch-relative ac-result__image",ref:n},a&&l.default.createElement(l.default.Fragment,null,e.renderMobileImage(),e.renderDesktopImage(),e.renderImageGalleryButton(),e.renderVideoTourButton()))}}),l.default.createElement("div",{className:"ch-relative ch-card__content ac-result__content"},l.default.createElement(s.default,{name:this.props.title.name,variant:this.props.title.variant,url:this.props.url}),l.default.createElement(d.default,{stockReference:this.props.stockReference}),this.renderResultDetails(),this.renderBranch()))}}]),t}();g.displayName="VehicleResult",g.propTypes={branch:o.default.shape({name:o.default.string.isRequired,url:o.default.string.isRequired,distance:o.default.string}).isRequired,children:o.default.node,citnowVideo:o.default.string,delivery:o.default.object,enquiryUrl:o.default.string.isRequired,imageCount:o.default.number,isAvailableSoon:o.default.bool,isAwaitingImages:o.default.bool,isReserved:o.default.bool,photos:o.default.array,salesInfo:o.default.shape({pricing:o.default.object.isRequired,summary:o.default.array.isRequired}),stockReference:o.default.string.isRequired,thumbnails:o.default.array,title:o.default.shape({name:o.default.string.isRequired,variant:o.default.string.isRequired}).isRequired,url:o.default.string.isRequired},t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-result__reserved"},l.default.createElement("p",null,"This car is currently reserved."),l.default.createElement("p",null,"However, we may have a similar vehicle in stock, so please"," ",l.default.createElement("a",{ref:"enquiryLink",href:this.props.enquiryUrl,className:"gtm-track","data-category":"Search","data-action":"Reserved contact link clicked","data-label":"Reserved car"},"contact us for more details")," ","and we\u2019ll get right back to you."))}}]),t}();s.propTypes={enquiryUrl:o.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=p(r),o=p(a(1)),i=p(a(4)),s=p(a(36)),c=p(a(3)),u=p(a(20));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.scrollToVideoWalkaround=function(){var e=document.querySelector('[data-element="video-walkaround"]');s.default.scrollToElement(e),c.default.event("Video review (Arnold Clark)","Click","Video walkaround link")},n.openCitnowVideo=function(){i.default.emit("openModal","citnowVideo_"+n.props.stockReference),c.default.event("UX - "+n.props.originPage,"VideoTour","open")},n.renderVideoLink=function(){return n.props.citnowVideo?l.default.createElement("button",{ref:"videoTourLink",type:"button",className:"js-off--hide ac-imagethumbnail__video-link",onClick:n.openCitnowVideo},"Video tour"):n.props.videoWalkaround?l.default.createElement("button",{ref:"videoWalkaroundLink",type:"button",className:"js-off--hide ac-imagethumbnail__video-link",onClick:n.scrollToVideoWalkaround},"Video walkaround"):void 0},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement(l.default.Fragment,null,this.renderVideoLink(),this.props.citnowVideo&&l.default.createElement(u.default,{id:"citnowVideo_"+this.props.stockReference},l.default.createElement("h2",{className:"ac-video-tour__load-message"},"Loading your video"),l.default.createElement("div",{ref:"videoTourLightbox",className:"ac-video-tour"},l.default.createElement("div",{className:"ac-product__video-wrapper"},l.default.createElement("iframe",{src:this.props.citnowVideo,allowFullScreen:!0})))))}}]),t}();d.displayName="VideoLinks",d.propTypes={citnowVideo:o.default.string,originPage:o.default.string,stockReference:o.default.string,videoWalkaround:o.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(181));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=["bodyType","colour","doors","seats","make","model"],d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.removeTag=function(e){i.default.emit("searchCriteriaChange",u({},e,""))},n.removeMultiTag=function(e,t){var a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(n.currentValuesFor(e))),r=a.indexOf(t);a.splice(r,1),0===a.length&&a.push(""),i.default.emit("searchCriteriaChange",u({},e,a))},n.currentValuesFor=function(e){return n.props.appliedFilters[e]},n.isMultiSelect=function(e){return f.includes(e)},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("ul",{className:"ac-searchtags__tag-list"},this.props.searchTags.map(function(t){return l.default.createElement(s.default,{filter:t[0],value:t[1],key:t[0]+"_"+t[1],paymentType:e.props.appliedFilters.paymentType,count:e.props.count,removeTag:e.isMultiSelect(t[0])?e.removeMultiTag:e.removeTag})}))}}]),t}();d.displayName="SearchTags",d.propTypes={appliedFilters:o.default.object,count:o.default.number,searchTags:o.default.array},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.updateSortOrder=function(e){i.default.emit("searchCriteriaChange",{sort_order:e.target.value})},n.renderPaymentUpOption=function(){return"cash"===n.props.appliedFilters.paymentType?l.default.createElement("option",{ref:"cashPriceUp",value:"price_up"},"Cash price (low to high)"):l.default.createElement("option",{ref:"monthlyPaymentUp",value:"monthly_payment_up"},"Monthly payment (low to high)")},n.renderPaymentDownOption=function(){return"cash"===n.props.appliedFilters.paymentType?l.default.createElement("option",{ref:"cashPriceDown",value:"price_down"},"Cash price (high to low)"):l.default.createElement("option",{ref:"monthlyPaymentDown",value:"monthly_payment_down"},"Monthly payment (high to low)")},n.renderDistanceOption=function(){if(n.props.appliedFilters.location&&!n.props.delivery.presentation)return l.default.createElement("option",{ref:"distance",value:"distance"},"Distance (near to far)")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),n(t,[{key:"render",value:function(){return l.default.createElement("select",{id:"sort-order",name:"sort_order",className:"ch-form__control ch-form__control--sm",value:this.props.appliedFilters.sortOrder,onChange:this.updateSortOrder},this.renderPaymentUpOption(),this.renderPaymentDownOption(),l.default.createElement("option",{value:"mileage"},"Mileage (low to high)"),l.default.createElement("option",{value:"recently_added"},"Recently added"),this.renderDistanceOption())}}]),t}();u.propTypes={appliedFilters:o.default.object,delivery:o.default.object},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=f(r),o=f(a(1)),i=f(a(4)),s=f(a(3)),c=f(a(16)),u=f(a(20)),p=f(a(44));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={delivery:n.props.delivery},n.withoutSpaces=function(e){return e.replace(/ /g,"")},n.locationChanged=function(e){n.requestDeliveryCenters(e)},n.requestDeliveryCenters=function(e){s.default.event("Delivery Centres","Location entered",e.location),n.props.isSERPS?i.default.emit("searchCriteriaChange",e):c.default.post("/api/delivery_centres").query({near:e.location,branch_id:n.props.branch.id}).end(function(e,t){t.ok&&n.setNearestDeliveryCentre(t.body)})},n.setNearestDeliveryCentre=function(e){n.setState({delivery:e}),n.selectDeliveryCentre(e),n.trackDeliveryCentre(e)},n.selectDeliveryCentre=function(e){e.centre.eligible&&(i.default.emit("deliveryCentreSelected",e.centre),i.default.emit("deliveryLinkUpdate",e))},n.trackDeliveryCentre=function(e){if(e.centre.eligible)return s.default.event("Delivery Centres","Eligible for delivery",e.centre.name);s.default.event("Delivery Centres","Not eligible for delivery",e.centre.name)},n.renderContent=function(){if(n.state.delivery&&n.state.delivery.centre){if(n.state.delivery.centre.eligible)return n.renderDeliveryCentre();if(!n.props.isSERPS)return n.renderHoldingBranch()}return n.renderLocationLookup()},n.renderLocationLookup=function(){var e="";return n.props.delivery&&n.props.delivery.location&&(e=n.props.delivery.location),l.default.createElement("div",null,l.default.createElement("h2",{className:"ch-h3 ac-delivery__heading"},"This car may be eligible for delivery"),l.default.createElement("span",{className:"ac-delivery__subheading"},"Let\u2019s start by entering your location"),l.default.createElement("div",{className:"ac-delivery__location-input"},l.default.createElement(p.default,{ref:"location",id:"vehicle-location",name:"location",locationChanged:n.locationChanged,location:e})),l.default.createElement("ul",{className:"ac-delivery__features"},l.default.createElement("li",{className:"ac-delivery__feature-item"},"We\u2019ll bring this car to your nearest Delivery Centre for only \xa395"),l.default.createElement("li",{className:"ac-delivery__feature-item"},"You\u2019ll receive a personalised video of the car via email, so you can see every detail"),l.default.createElement("li",{className:"ac-delivery__feature-item"},"Your car will be ready for collection within 7 days"),l.default.createElement("li",{className:"ac-delivery__feature-item"},"A dedicated product genius will answer any questions and show you the controls and features before you drive away")))},n.renderDeliveryCentre=function(){var e=n.state.delivery.centre;return l.default.createElement("div",{className:"ac-delivery__wrapper--transition"},l.default.createElement("h2",{className:"ch-h4 ac-delivery__heading"},"Good news, this vehicle can be delivered here."),l.default.createElement("div",{className:"ac-deliverycentre"},l.default.createElement("span",{ref:"deliveryCentreName",className:"ch-h4 ac-deliverycentre__name"},e.name),l.default.createElement("span",{className:"ac-deliverycentre__distance"},Math.ceil(e.distance)," miles away"),l.default.createElement("span",{className:"ac-deliverycentre__address"},e.address,", ",e.town,","," ",e.postcode)),l.default.createElement("div",{className:"ac-delivery__map"},l.default.createElement("img",{className:"ch-img--responsive",src:"https://maps.googleapis.com/maps/api/staticmap?markers="+e.lat+","+e.lng+"&size=600x226&zoom=13",alt:""})),l.default.createElement("div",{className:"ch-clearfix ac-delivery__next-steps"},l.default.createElement("h3",{className:"ch-h4"},"What would you like to do next?"),l.default.createElement("div",{className:"ac-delivery__phone-wrapper"},l.default.createElement("span",{className:"ac-delivery__phone-text"},"Call us directly on"),l.default.createElement("a",{href:"tel:01908850793",className:"ac-product__ctas-phone ac-delivery__phone-number"},"01908 850793")),l.default.createElement("div",{className:"ac-delivery__cta-wrapper"},l.default.createElement("button",{ref:"enquireButton",type:"button",onClick:n.submitEnquiryParamsForm,className:"ch-btn ch-btn--cta ch-btn--block gtm-track","data-category":"Delivery Centres","data-action":"Clicked enquiry button","data-label":e.name},"Send an enquiry"))))},n.renderHoldingBranch=function(){return l.default.createElement("div",{className:"ac-delivery__wrapper--transition"},l.default.createElement("h2",{className:"ch-h4 ac-delivery__heading"},"We\u2019re sorry!"),l.default.createElement("p",{className:"ac-deliverycentre__explanation"},"Unfortunately we\u2019re unable to deliver this vehicle because it\u2019s too close to your current location. You can still pick the vehicle up from the dealership."),l.default.createElement("div",{className:"ac-delivery__holding-branch ch-clearfix"},l.default.createElement("h3",{ref:"holdingBranchName",className:"ch-h5 ac-delivery__holding-branch-title"},n.props.branch.name),l.default.createElement("span",{className:"ac-delivery__holding-branch-address"},n.props.branch.address),l.default.createElement("span",{className:"ac-delivery__holding-branch-phone-number ac-branch__phone-description"},"Call now on"," ",l.default.createElement("a",{href:"tel:"+n.withoutSpaces(n.props.branch.phone),className:"ac-branch__phone-number"},n.props.branch.phone)),l.default.createElement("a",{href:n.props.branch.url,className:"ch-btn ch-btn--secondary ch-btn--sm ch-btn--block ac-delivery__holding-branch-btn"},"More details")))},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({delivery:e.delivery})}},{key:"componentWillUnmount",value:function(){i.default.removeListener("deliveryCentreRemove"),i.default.removeListener("searchCriteriaChange")}},{key:"submitEnquiryParamsForm",value:function(){i.default.emit("submitEnquiryForm")}},{key:"render",value:function(){return l.default.createElement(u.default,{id:"delivery-centres-modal"},l.default.createElement("div",{className:"ac-modal ac-modal--mobile-full"},this.renderContent()))}}]),t}();h.propTypes={branch:o.default.object,delivery:o.default.object,isSERPS:o.default.bool},t.default=h},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-star-rating"},l.default.createElement("div",{className:"ac-star-rating__front",ref:"starsFront",style:{width:20*this.props.rating+"%"},onClick:this.props.onClick}))}}]),t}();s.displayName="StarRating",s.propTypes={rating:o.default.number},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(44));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={showLocationInput:!1},n.locationChanged=function(e){i.default.emit("searchCriteriaChange",e)},n.showLocationInput=function(){n.state.showLocationInput?document.getElementById("vehicle-location").focus():n.setState({showLocationInput:!0})},n.renderStrapline=function(){return n.props.deliveryCentre&&n.props.deliveryCentre.name?l.default.createElement("p",null,"These cars are all available for delivery to"," ",l.default.createElement("strong",null,n.props.deliveryCentre.town,".")):l.default.createElement("p",null,"Enter your location and find your nearest Delivery Centre")},n.renderInput=function(){return n.props.deliveryCentre&&n.props.deliveryCentre.name&&!n.state.showLocationInput?l.default.createElement("p",null,"Change location"):l.default.createElement(s.default,{ref:"location",id:"vehicle-location",name:"location",locationChanged:n.locationChanged,location:n.props.appliedFilters.location,lat:n.props.appliedFilters.locationLat,lng:n.props.appliedFilters.locationLng,browserLocation:!0})},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-deliverybanner"},l.default.createElement("div",{className:"ch-container"},l.default.createElement("div",{className:"ac-deliverybanner__content md:ch-col--6"},l.default.createElement("p",{className:"ac-deliverybanner__heading ch-h2"},"The UK\u2019s best used car deals. Delivered."),l.default.createElement("div",{className:"ac-deliverybanner__strapline"},this.renderStrapline()),l.default.createElement("div",{className:"ac-deliverybanner__location",onClick:this.showLocationInput},this.renderInput()))))}}]),t}();p.displayName="DeliveryCentreBanner",p.propTypes={appliedFilters:o.default.object,deliveryCentre:o.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.withViews=function(e,t){var a,l;return l=a=function(a){function l(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=s(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(o))),a=n,n.state={view:t.initialView,history:[t.initialView],currentStep:1},n.scrollToTop=function(){document.querySelector(t.scrollTo).scrollTop=0},n.indexOfView=function(){return n.state.history.indexOf(n.state.view)},n.applyCurrentStep=function(){var e=n.indexOfView()+1;n.setState({currentStep:e})},n.setView=function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(n.state.history),[e]);return n.scrollToTop(),n.state.history.includes(e)?n.setState({view:e},n.applyCurrentStep):n.setState({view:e,history:t},n.applyCurrentStep)},n.back=function(){if(0!==n.indexOfView()){var e=n.state.history[n.indexOfView()-1];n.setView(e)}},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,a),r(l,[{key:"render",value:function(){return i.default.createElement(e,n({},this.props,this.state,{setView:this.setView,back:this.back,ref:"withViewComponent"}))}}]),l}(e),a.displayName="HOC-"+(e.displayName||e.name),l};var l,o=a(0),i=(l=o)&&l.__esModule?l:{default:l};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(36));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onKeyDown=function(e){return 37===e.keyCode?n.scrollLeft():39===e.keyCode?n.scrollRight():void 0},n.scrollLeft=function(){var e=n.slider.scrollLeft-n.wrapper.offsetWidth;i.default.scrollHorizontally(n.slider,e)},n.scrollRight=function(){var e=n.slider.scrollLeft+n.wrapper.offsetWidth;i.default.scrollHorizontally(n.slider,e)},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"ac-horiz-scroller",ref:function(t){return e.wrapper=t}},l.default.createElement("div",{className:"ac-horiz-scroller__slider",ref:function(t){return e.slider=t}},this.props.children),l.default.createElement("button",{className:"js-off--hide ac-hidden--xs ac-horiz-scroller__prev",onClick:this.scrollLeft,ref:"previous",type:"button"},l.default.createElement("span",{className:"ch-reader"},"Previous")),l.default.createElement("button",{className:"js-off--hide ac-hidden--xs ac-horiz-scroller__next",onClick:this.scrollRight,ref:"next",type:"button"},l.default.createElement("span",{className:"ch-reader"},"Next")))}}]),t}();u.displayName="HorizontalScroller",u.propTypes={children:o.default.node},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(8)),i=u(a(4)),s=u(a(36)),c=u(a(3));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={currentImagePosition:0,isOpen:!1,photos:[],thumbnails:[]},e.openGallery=function(t,a,n){e.scrollPosition=window.pageYOffset,e.setState({isOpen:!0,photos:t,thumbnails:a}),document.body.classList.add("ac-body--scrolling-locked"),c.default.event("Image gallery","Opened gallery",n)},e.closeGallery=function(){e.setState({currentImagePosition:0,isOpen:!1}),document.body.classList.remove("ac-body--scrolling-locked"),window.scroll(0,e.scrollPosition)},e.previousImage=function(){return 0===e.state.currentImagePosition?e.setImagePosition(e.state.photos.length-1):e.setImagePosition(e.state.currentImagePosition-1)},e.nextImage=function(){return e.state.currentImagePosition===e.state.photos.length-1?e.setImagePosition(0):e.setImagePosition(e.state.currentImagePosition+1)},e.onClickThumbnail=function(t){return e.setImagePosition(t)},e.setImagePosition=function(t){e.setState({currentImagePosition:t}),e.setThumbnailScrollPosition(t)},e.setThumbnailScrollPosition=function(t){return s.default.scrollHorizontally(e.refs.imageGalleryThumbnails,99*t-297,400)},e.onKeyDown=function(t){return e.state.isOpen&&37===t.keyCode?e.previousImage():e.state.isOpen&&39===t.keyCode?e.nextImage():e.state.isOpen&&27===t.keyCode?e.closeGallery():void 0},e.renderPhotos=function(){return e.state.photos.map(function(t,a){return l.default.createElement("img",{ref:"image"+a,key:"image"+a,src:t,alt:"",onClick:e.nextImage,className:(0,o.default)("ch-img--responsive ac-imagegallery__image",{"ac-imagegallery__image--active":a===e.state.currentImagePosition})})})},e.renderThumbnails=function(){if(e.state.photos.length>1)return e.state.thumbnails.map(function(t,a){return l.default.createElement("img",{ref:"thumbnail"+a,key:"thumbnail"+a,src:t,alt:"",onClick:e.onClickThumbnail.bind(e,a),className:(0,o.default)("ac-imagegallery__thumbnail",{"ac-imagegallery__thumbnail--active":a===e.state.currentImagePosition})})})},e.renderNavigation=function(){if(e.state.photos.length>1)return l.default.createElement("div",null,l.default.createElement("button",{ref:"navigationPrevious",type:"button",className:"ac-hidden--xs ac-imagegallery__navigation ac-imagegallery__navigation--previous",onClick:e.previousImage},l.default.createElement("span",{className:"ch-reader"},"Previous")),l.default.createElement("button",{ref:"navigationNext",type:"button",className:"ac-hidden--xs ac-imagegallery__navigation ac-imagegallery__navigation--next",onClick:e.nextImage},l.default.createElement("span",{className:"ch-reader"},"Next")))},e.scrollPosition=0,e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.on("imageGalleryOpen",this.openGallery),window.addEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){return this.state.isOpen?l.default.createElement("div",{ref:"imageGalleryWrapper",className:"ac-imagegallery__wrapper"},l.default.createElement("div",{className:"ac-mask"}),l.default.createElement("button",{ref:"closeButton",type:"button",className:"ac-imagegallery__close-btn",onClick:this.closeGallery},l.default.createElement("span",{className:"ch-reader"},"Close")),l.default.createElement("div",{ref:"imageGallery",className:"ac-imagegallery"},l.default.createElement("div",{className:"ac-imagegallery__image-wrapper"},this.renderPhotos()),l.default.createElement("span",{ref:"counter",className:"ac-hidden--xs ac-imagegallery__counter"},this.state.currentImagePosition+1," of"," ",this.state.photos.length),l.default.createElement("div",{ref:"imageGalleryThumbnails",className:"ac-hidden--xs ac-imagegallery__thumbnails"},this.renderThumbnails()),this.renderNavigation())):null}}]),t}();p.displayName="ImageGallery",t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(8)),s=c(a(120));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isExpanded:!1,menuButtonText:"Menu",currentMenu:"topLevel"},n.setCurrentMenu=function(e){n.setState({currentMenu:e})},n.toggleMenu=function(e){e.preventDefault(),n.setState({isExpanded:!n.state.isExpanded,menuButtonText:n.state.isExpanded?"Menu":"Close"}),n.setCurrentMenu("topLevel")},n.renderListItems=function(){var e=[];return n.props.menus[n.state.currentMenu].listItems.map(function(t,a){e.push(l.default.createElement("li",{ref:this.state.currentMenu+a+"li",key:this.state.currentMenu+a},l.default.createElement(s.default,{ref:this.state.currentMenu+a,setCurrentMenu:this.setCurrentMenu,text:t.text,href:t.href,linkTo:t.linkTo,isBackButton:t.isBackButton,manufacturers:t.manufacturers,target:t.target})))},n),e},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:(0,i.default)("ch-pull--right ac-touchnav",{"ac-touchnav--expanded":this.state.isExpanded})},l.default.createElement("a",{href:"#",className:"ac-touchnav__button",ref:"touchNavMenuButton","data-foo":"bar",onClick:this.toggleMenu},l.default.createElement("span",{className:"ac-touchnav__button-line"}),this.state.menuButtonText),l.default.createElement("ul",{className:"ac-touchnav__menu",ref:"touchNavMenu"},this.renderListItems()))}}]),t}();p.propTypes={menus:o.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(8));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.setCurrentMenu=function(){n.props.setCurrentMenu(n.props.linkTo)},n.getManufacturers=function(){var e=[];return n.props.manufacturers.forEach(function(t){e.push(l.default.createElement("option",{key:t.name,value:t.href},t.name))}),e},n.updateManufacturer=function(e){window.location.href=e.target.value},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e,t;return this.props.linkTo?(t=(0,i.default)("ac-nav__link ac-touchnav__link ac-touchnav__link--follow",{"ac-touchnav__link--back":this.props.isBackButton}),e=l.default.createElement("span",{className:t,onClick:this.setCurrentMenu},this.props.text)):e=this.props.manufacturers?l.default.createElement("select",{onChange:this.updateManufacturer,className:"ac-nav__link ac-touchnav__link ac-touchnav__select ac-touchnav__manufacturers"},l.default.createElement("option",null,"Manufacturers"),this.getManufacturers()):l.default.createElement("a",{href:this.props.href,className:"ac-nav__link ac-touchnav__link",target:this.props.target},this.props.text),e}}]),t}();u.propTypes={href:o.default.string,isBackButton:o.default.bool,linkTo:o.default.string,manufacturers:o.default.array,setCurrentMenu:o.default.func,target:o.default.string,text:o.default.string},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=(n=l)&&n.__esModule?n:{default:n};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return o.default.createElement("ul",{className:"ac-nav"},o.default.createElement("li",{className:"ac-nav__list-item"},o.default.createElement("span",{className:"ac-nav__link"},"Find a car"),o.default.createElement("div",{className:"ac-subnav ac-subnav--find-a-car"},o.default.createElement("h2",{className:"ch-h4 ac-subnav__heading--top"},"We sell"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--top"},o.default.createElement("li",{className:"ac-subnav__list-item--inline"},o.default.createElement("a",{className:"ac-subnav__link",href:"/used-cars/search"},"Used cars")),o.default.createElement("li",{className:"ac-subnav__list-item--inline"},o.default.createElement("a",{className:"ac-subnav__link",href:"/new-cars"},"New cars")),o.default.createElement("li",{className:"ac-subnav__list-item--inline"},o.default.createElement("a",{className:"ac-subnav__link",href:"/nearly-new-cars"},"Nearly-new cars")),o.default.createElement("li",{className:"ac-subnav__list-item--inline"},o.default.createElement("a",{className:"ac-subnav__link",href:"/car-finance"},"Car finance")),o.default.createElement("li",{className:"ac-subnav__list-item--inline"},o.default.createElement("a",{className:"ac-subnav__link",href:"/new-vans"},"Vans")),o.default.createElement("li",{className:"ac-subnav__list-item--inline"},o.default.createElement("a",{className:"ac-subnav__link",href:"/motability"},"Motability"))),o.default.createElement("div",{className:"ch-row ac-subnav__manufacturers"},o.default.createElement("h2",{className:"ch-h4 sm:ch-col--12"},"View our manufacturer offers"),o.default.createElement("ul",{className:"xs:ch-col--4 ac-subnav__list"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/motorstore"},"Motorstore")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/abarth"},"Abarth")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/alfa-romeo"},"Alfa Romeo")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/alpine"},"Alpine")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/bmw"},"BMW")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/citroen"},"Citro\xebn")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/dacia"},"Dacia")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/ds"},"DS")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/fiat"},"Fiat")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/ford"},"Ford"))),o.default.createElement("ul",{className:"xs:ch-col--4 ac-subnav__list"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/hyundai"},"Hyundai")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/jeep"},"Jeep")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/kia"},"Kia")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/mazda"},"Mazda")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/mercedes-benz"},"Mercedes-Benz")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/mg"},"MG")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/mini"},"MINI")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/mitsubishi"},"Mitsubishi")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/peugeot"},"Peugeot")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/renault"},"Renault"))),o.default.createElement("ul",{className:"xs:ch-col--4 ac-subnav__list"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/seat"},"SEAT")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/skoda"},"\u0160KODA")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/smart"},"smart")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/toyota"},"Toyota")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/vauxhall"},"Vauxhall")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/volkswagen"},"Volkswagen")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/volvo"},"Volvo")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/motability"},"Motability")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/used-car-centres"},"Used Car Centres")))))),o.default.createElement("li",{className:"ac-nav__list-item"},o.default.createElement("a",{className:"ac-nav__link",href:"/van-store"},"Find a van")),o.default.createElement("li",{className:"ac-nav__list-item"},o.default.createElement("a",{className:"ac-nav__link",href:"/find-a-dealer"},"Find a dealer")),o.default.createElement("li",{className:"ac-nav__list-item"},o.default.createElement("a",{className:"ac-nav__link",href:"//www.arnoldclarkrental.com/",target:"_blank"},"Rental")),o.default.createElement("li",{className:"ac-nav__list-item"},o.default.createElement("a",{className:"ac-nav__link",href:"/servicing/"},"Servicing")),o.default.createElement("li",{className:"ac-nav__list-item"},o.default.createElement("span",{className:"ac-nav__link"},"Other"),o.default.createElement("div",{className:"ac-subnav ac-subnav--other"},o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"sm:ch-col--4"},o.default.createElement("h2",{className:"ch-h4"},"About Arnold Clark"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--other"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/about-us"},"About us")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/careers/"},"Careers")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/about-us/history.html"},"Company history")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/customer-testimonials/"},"Customer testimonials")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/customer-services/"},"Customer services")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/about-us/group-of-companies/"},"Group of companies"))),o.default.createElement("h2",{className:"ch-h4"},"Arnold Clark for business"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--other"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/new-vans"},"New van sales")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/nearly-new-vans"},"Nearly-new van sales")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/car-leasing-offers"},"New cars for business")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/van-store/"},"Used vans")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"//www.acvm.com/",target:"_BLANK"},"Contract hire")))),o.default.createElement("div",{className:"sm:ch-col--4"},o.default.createElement("h2",{className:"ch-h4"},"Keep in touch"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--other"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/customer-services/"},"Contact us")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"//www.facebook.com/ArnoldClarkAutomobiles",target:"_BLANK"},"Facebook")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"//twitter.com/arnoldclark",target:"_BLANK"},"Twitter")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/mailing-list"},"Join our mailing list")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/newsroom/"},"Newsroom"))),o.default.createElement("h2",{className:"ch-h4"},"Other"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--other"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/videos"},"Car reviews")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/csr"},"Corporate social responsibility")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/important-information/"},"Important information")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"http://www.arnoldclarkdrum.com/",target:"_BLANK"},"Arnold Clark Drum")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"//www.arnoldclark.com/anti-slavery-statement",target:"_BLANK"},"Modern slavery statement")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"//www.arnoldclark.com/gender-pay-gap-report",target:"_BLANK"},"Gender pay gap report")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"//www.arnoldclark.com/tax-strategy",target:"_BLANK"},"Tax strategy")))),o.default.createElement("div",{className:"sm:ch-col--4"},o.default.createElement("h2",{className:"ch-h4"},"Aftersales"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--other"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/servicing/"},"Servicing and repairs")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/accident-repairs/"},"Accident repairs")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/accist/"},"Accist accident management")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/servicing/complete-aftercare/"},"Complete aftercare range")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/parts/"},"Parts and accessories")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/coachbuilders/"},"Coachbuilders"))),o.default.createElement("h2",{className:"ch-h4"},"New products"),o.default.createElement("ul",{className:"ac-subnav__list ac-subnav__list--other"},o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/sell/"},"Sell your car")),o.default.createElement("li",null,o.default.createElement("a",{className:"ac-subnav__link",href:"/insurance/"},"Insurance"))))))))}}]),t}();t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=f(r),o=f(a(1)),i=f(a(64)),s=f(a(65)),c=f(a(56)),u=f(a(57)),p=f(a(58));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{className:"ac-offer__content"},l.default.createElement("a",{ref:"blockLink",href:this.props.url,className:"ac-offer__blocklink gtm-track","data-category":"UX - Homepage","data-action":"Clicked offer card","data-label":"Block link"},"More Details"),l.default.createElement(i.default,{ref:"vehicleTitle",name:this.props.title.name,variant:this.props.title.variant,url:this.props.url,dataCategory:"UX - Homepage",dataAction:"Clicked offer card",dataLabel:"Title link"}),l.default.createElement("p",{ref:"highlightedFeature",className:"ac-offer__option"},this.props.salesInfo.highlightedFeature),l.default.createElement("a",{ref:"vehicleImageLink",href:this.props.url,className:"gtm-track","data-category":"UX - Homepage","data-action":"Clicked offer card","data-label":"Image link"},l.default.createElement("img",{ref:"vehicleImage",src:this.props.thumbnails[0],className:"ch-img--responsive ac-offer__image",alt:"Vehicle details for "+this.props.title.name})),l.default.createElement("div",{className:"ac-pricing"},l.default.createElement(c.default,{ref:"cashPrice",amount:this.props.salesInfo.pricing.cashPrice,prefix:this.props.salesInfo.pricing.cashPricePrefix,suffix:this.props.salesInfo.pricing.extras}),this.props.salesInfo.pricing.monthlyPayment&&l.default.createElement(u.default,{ref:"monthlyPayment",amount:this.props.salesInfo.pricing.monthlyPayment,stockReference:this.props.stockReference,showTooltip:!0,vehicleUrl:this.props.url})),this.props.salesInfo.pricing.saving&&l.default.createElement(p.default,{ref:"saving",amount:this.props.salesInfo.pricing.saving,prefix:this.props.salesInfo.pricing.savingPrefix,suffix:this.props.salesInfo.pricing.savingSuffix})),l.default.createElement("div",{className:"ch-clearfix ac-offer__controls"},l.default.createElement("div",{className:"ac-offer__shortlist"},l.default.createElement(s.default,{stockReference:this.props.stockReference})),l.default.createElement("div",{className:"ac-offer__link"},l.default.createElement("a",{href:this.props.url,ref:"cta",className:"ch-btn ch-btn--sm ch-btn--cta ch-btn--block ac-offer__details gtm-track","data-category":"UX - Homepage","data-action":"Clicked offer card","data-label":"More details link"},"More details"))))}}]),t}();d.propTypes={salesInfo:o.default.object,stockReference:o.default.string,thumbnails:o.default.array,title:o.default.object,url:o.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("a",{ref:"paginationButton",onClick:this.props.onClick,"data-page-number":this.props.pageNumber,href:this.props.href,className:this.props.className,rel:this.props.rel,disabled:this.props.isDisabled},this.props.children)}}]),t}();s.propTypes={children:o.default.node,className:o.default.string,href:o.default.string,isDisabled:o.default.bool,onClick:o.default.func,pageNumber:o.default.number,rel:o.default.string},t.default=s},function(e,t,a){"use strict";n(a(0));function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(15)).default.range;e.exports=function(){function e(e,t){return this.current=parseInt(e),this.total=parseInt(t),this.toArray()}return e.prototype={toArray:function(){return this.notEnoughPages()?this.all():this.breaksLeftBoundary()?this.fiveFromLeft():this.breaksRightBoundary()?this.fiveFromRight():this.twoEitherSide()},fiveFromLeft:function(){return r(1,5)},fiveFromRight:function(){return r(this.total-4,this.total)},twoEitherSide:function(){return r(this.current-2,this.current+2)},breaksLeftBoundary:function(){return this.current-2<1},breaksRightBoundary:function(){return this.current+2>this.total},notEnoughPages:function(){return this.total<5},all:function(){return r(1,this.total)}},e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{className:"ac-pricing__costnew"},l.default.createElement("span",{className:"ac-pricing__prefix"},"Cost new "),l.default.createElement(i.default,{amount:this.props.amount}))}}]),t}();c.propTypes={amount:o.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{ref:"deposit",className:"ac-pricing__deposit"},l.default.createElement(i.default,{amount:this.props.amount}),l.default.createElement("span",{className:"ac-pricing__suffix"},this.props.isBusinessContractHire?" initial rental ":" deposit "))}}]),t}();c.propTypes={amount:o.default.number.isRequired,isBusinessContractHire:o.default.bool},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{className:"ac-pricing__costnew"},l.default.createElement("span",{className:"ac-pricing__prefix"},"List price "),l.default.createElement(i.default,{amount:this.props.amount}))}}]),t}();c.propTypes={amount:o.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("span",{className:"ac-pricing__presaleprice"},l.default.createElement("span",{className:"ac-pricing__prefix"},"Pre-sale price "),l.default.createElement(i.default,{amount:this.props.amount}))}}]),t}();c.propTypes={amount:o.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(4)),i=s(a(20));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.openModal=function(e){e.preventDefault(),o.default.emit("openModal","valuerange")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("a",{ref:"link",className:"ac-promotion",href:"/value-range",onClick:this.openModal},"Part of Arnold\u2019s Value Range"),l.default.createElement(i.default,{id:"valuerange"},l.default.createElement("div",{className:"ac-modal ac-modal--wide"},l.default.createElement("div",{className:"ac-valuerange-lightbox__header"},l.default.createElement("p",{className:"ac-valuerange-lightbox__subheading"},"All our Value Range cars are:")),l.default.createElement("div",{className:"ac-valuerange-lightbox__body"},l.default.createElement("ul",{className:"ch-list ch-list--tick ac-valuerange-lightbox__features"},l.default.createElement("li",null,"Under \xa36000"),l.default.createElement("li",null,"5 years old or over"),l.default.createElement("li",null,"Up to 100,000 miles"))),l.default.createElement("div",{className:"ac-valuerange-lightbox__footnote"},l.default.createElement("a",{href:"/value-range"},"View full details about Arnold\u2019s Value Range")))))}}]),t}();u.displayName="ValueRangePromotion",t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.renderDistance=function(){if(n.props.distance)return l.default.createElement("span",{className:"ac-branchname__distance"},"(",n.props.distance,")")},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("a",{ref:"branch",className:"ac-branchname",href:this.props.url},this.props.name,this.renderDistance())}}]),t}();c.propTypes={distance:o.default.string,name:o.default.string,url:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(15)),s=c(a(30));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.newMinPriceOptions=function(){return"cash"===n.props.paymentType?n.minOptions(n.props.possibleCashOptions,n.props.maxPrice):n.minOptions(n.props.possibleMonthlyOptions,n.props.maxPrice)},n.newMaxPriceOptions=function(){return"cash"===n.props.paymentType?n.maxOptions(n.props.possibleCashOptions,n.props.minPrice):n.maxOptions(n.props.possibleMonthlyOptions,n.props.minPrice)},n.minOptions=function(e,t){var a=i.default.indexOfArray(e,[n.asMoney(t),t.toString()]),r=[];return a=-1===a?e.length:a,(r=e.slice(0,a)).unshift(["No min",""]),r},n.maxOptions=function(e,t){var a=i.default.indexOfArray(e,[n.asMoney(t),t.toString()]),r=[];return(r=e.slice(a+1,e.length)).unshift(["No max",""]),r},n.asMoney=function(e){return"\xa3"+i.default.delimitWithCommas(e)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ch-row ac-row--compact"},l.default.createElement("div",{className:"ch-form__group--sm xs:ch-col--6 lg:ch-col--12 ac-col--compact"},l.default.createElement("label",{className:"ch-form__control-label",htmlFor:"min-price"},"Minimum ","cash"===this.props.paymentType?"price":"payment"),l.default.createElement(s.default,{ref:"minPrice",id:"min-price",name:"min_price",className:"ch-form__control",optionsForSelect:this.newMinPriceOptions(),selectedOption:this.props.minPrice,onChange:this.props.onChange})),l.default.createElement("div",{className:"ch-form__group--sm xs:ch-col--6 lg:ch-col--12 ac-col--compact"},l.default.createElement("label",{className:"ch-form__control-label",htmlFor:"max-price"},"Maximum ","cash"===this.props.paymentType?"price":"payment"),l.default.createElement(s.default,{ref:"maxPrice",id:"max-price",name:"max_price",className:"ch-form__control",optionsForSelect:this.newMaxPriceOptions(),selectedOption:this.props.maxPrice,onChange:this.props.onChange})))}}]),t}();p.propTypes={maxPrice:o.default.string,minPrice:o.default.string,onChange:o.default.func,paymentType:o.default.string,possibleCashOptions:o.default.array,possibleMonthlyOptions:o.default.array},p.defaultProps={possibleMonthlyOptions:[["\xa370","70"],["\xa380","80"],["\xa390","90"],["\xa3100","100"],["\xa3110","110"],["\xa3120","120"],["\xa3130","130"],["\xa3140","140"],["\xa3150","150"],["\xa3160","160"],["\xa3170","170"],["\xa3180","180"],["\xa3190","190"],["\xa3200","200"],["\xa3225","225"],["\xa3250","250"],["\xa3275","275"],["\xa3300","300"],["\xa3350","350"],["\xa3400","400"],["\xa3450","450"],["\xa3500","500"],["\xa3600","600"]],possibleCashOptions:[["\xa31000","1000"],["\xa32000","2000"],["\xa33000","3000"],["\xa34000","4000"],["\xa35000","5000"],["\xa36000","6000"],["\xa37000","7000"],["\xa38000","8000"],["\xa39000","9000"],["\xa310,000","10000"],["\xa311,000","11000"],["\xa312,000","12000"],["\xa313,000","13000"],["\xa314,000","14000"],["\xa315,000","15000"],["\xa320,000","20000"],["\xa325,000","25000"],["\xa330,000","30000"],["\xa335,000","35000"],["\xa340,000","40000"],["\xa350,000","50000"],["\xa3100,000","100000"],["\xa3150,000","150000"]]},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(15)),s=c(a(30));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=[["per month","monthly"],["cash price","cash"]],f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.newMinPriceOptions=function(){return"cash"===n.props.paymentType?n.minOptions(n.props.possibleCashOptions,n.props.maxPrice):n.minOptions(n.props.possibleMonthlyOptions,n.props.maxPrice)},n.newMaxPriceOptions=function(){return"cash"===n.props.paymentType?n.maxOptions(n.props.possibleCashOptions,n.props.minPrice):n.maxOptions(n.props.possibleMonthlyOptions,n.props.minPrice)},n.minOptions=function(e,t){var a=e.filter(function(e){return!t||Number(e[1])<Number(t)});return a.unshift(["No min",""]),a},n.maxOptions=function(e,t){var a=e.filter(function(e){return!t||Number(e[1])>Number(t)});return a.unshift(["No max",""]),a},n.asMoney=function(e){return"\xa3"+i.default.delimitWithCommas(e)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-search__pricing"},l.default.createElement("div",{className:"ac-search__header-btn-wrapper"},l.default.createElement("label",{htmlFor:"min_price",className:"ch-reader"},"Minimum"),l.default.createElement(s.default,{id:"min_price",name:"min_price",className:"ac-search__header-btn-select",optionsForSelect:this.newMinPriceOptions(),selectedOption:this.props.minPrice,onChange:this.props.onChange}),l.default.createElement("span",{className:"ch-btn ch-btn--sm"},l.default.createElement("span",{className:"ac-search__pricing-label"},"from "),this.props.minPrice?this.asMoney(this.props.minPrice):"no min")),l.default.createElement("div",{className:"ac-search__header-btn-wrapper"},l.default.createElement("label",{htmlFor:"max_price",className:"ch-reader"},"Maximum"),l.default.createElement(s.default,{id:"max_price",name:"max_price",className:"ac-search__header-btn-select",optionsForSelect:this.newMaxPriceOptions(),selectedOption:this.props.maxPrice,onChange:this.props.onChange}),l.default.createElement("span",{className:"ch-btn ch-btn--sm"},l.default.createElement("span",{className:"ac-search__pricing-label"},"to "),this.props.maxPrice?this.asMoney(this.props.maxPrice):"no max")),l.default.createElement("div",{className:"ac-search__header-btn-wrapper"},l.default.createElement("label",{htmlFor:"payment_type",className:"ch-reader"},"Payment type"),l.default.createElement(s.default,{id:"payment_type",name:"payment_type",className:"ac-search__header-btn-select",optionsForSelect:p,selectedOption:this.props.paymentType,onChange:this.props.onChange}),l.default.createElement("span",{className:"ch-btn ch-btn--sm"},"cash"===this.props.paymentType?"cash price":"per month")))}}]),t}();f.propTypes={maxPrice:o.default.string,minPrice:o.default.string,onChange:o.default.func,paymentType:o.default.string,possibleCashOptions:o.default.array,possibleMonthlyOptions:o.default.array},f.defaultProps={possibleMonthlyOptions:[["\xa370","70"],["\xa380","80"],["\xa390","90"],["\xa3100","100"],["\xa3110","110"],["\xa3120","120"],["\xa3130","130"],["\xa3140","140"],["\xa3150","150"],["\xa3160","160"],["\xa3170","170"],["\xa3180","180"],["\xa3190","190"],["\xa3200","200"],["\xa3225","225"],["\xa3250","250"],["\xa3275","275"],["\xa3300","300"],["\xa3350","350"],["\xa3400","400"],["\xa3450","450"],["\xa3500","500"],["\xa3600","600"]],possibleCashOptions:[["\xa31000","1000"],["\xa32000","2000"],["\xa33000","3000"],["\xa34000","4000"],["\xa35000","5000"],["\xa36000","6000"],["\xa37000","7000"],["\xa38000","8000"],["\xa39000","9000"],["\xa310,000","10000"],["\xa311,000","11000"],["\xa312,000","12000"],["\xa313,000","13000"],["\xa314,000","14000"],["\xa315,000","15000"],["\xa320,000","20000"],["\xa325,000","25000"],["\xa330,000","30000"],["\xa335,000","35000"],["\xa340,000","40000"],["\xa350,000","50000"],["\xa3100,000","100000"],["\xa3150,000","150000"]]},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=p(r),o=p(a(1)),i=p(a(64)),s=p(a(56)),c=p(a(57)),u=p(a(58));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.renderBusinessFinanceAndCashPricing=function(){return l.default.createElement("div",{className:"ac-pricing"},l.default.createElement(s.default,{ref:"cashPrice",amount:n.props.salesInfo.pricing.cashPrice,prefix:n.props.salesInfo.pricing.cashPricePrefix}),l.default.createElement("span",{className:"ac-pricing__suffix ac-pricing__business-suffix"}," ",n.props.salesInfo.pricing.extras),n.props.salesInfo.pricing.monthlyPayment&&l.default.createElement(c.default,{ref:"monthlyPayment",amount:n.props.salesInfo.pricing.monthlyPayment,stockReference:n.props.stockReference,showTooltip:!0,vehicleUrl:n.props.url,financeHeading:n.props.salesInfo.pricing.financeHeading}))},n.renderBusinessFinanceOnlyPricing=function(){return l.default.createElement("div",{className:"ac-pricing"},n.props.salesInfo.pricing.monthlyPayment&&l.default.createElement(c.default,{ref:"monthlyPayment",amount:n.props.salesInfo.pricing.monthlyPayment,stockReference:n.props.stockReference,showTooltip:!0,vehicleUrl:n.props.url,financeHeading:n.props.salesInfo.pricing.financeHeading}),l.default.createElement("span",{className:"ac-pricing__suffix ac-pricing__business-suffix"}," ",n.props.salesInfo.pricing.extras))},n.renderPricing=function(){return n.props.salesInfo.pricing.cashPrice>0?n.renderBusinessFinanceAndCashPricing():n.renderBusinessFinanceOnlyPricing()},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{className:"ac-business-offer__content"},l.default.createElement("a",{ref:"blockLink",href:this.props.url,className:"ac-business-offer__blocklink"},"More Details"),l.default.createElement(i.default,{ref:"vehicleTitle",name:this.props.title.name,variant:this.props.title.variant,url:this.props.url}),l.default.createElement("p",{ref:"highlightedFeature",className:"ac-offer__option"},this.props.salesInfo.highlightedFeature),l.default.createElement("a",{ref:"vehicleImageLink",href:this.props.url},l.default.createElement("img",{ref:"vehicleImage",src:this.props.thumbnails[0],className:"ch-img--responsive ac-offer__image",alt:"Vehicle details for "+this.props.title.name})),this.renderPricing(),this.props.salesInfo.pricing.saving&&l.default.createElement(u.default,{ref:"saving",amount:this.props.salesInfo.pricing.saving,prefix:this.props.salesInfo.pricing.savingPrefix,suffix:this.props.salesInfo.pricing.savingSuffix})))}}]),t}();d.propTypes={salesInfo:o.default.object,stockReference:o.default.string,thumbnails:o.default.array,title:o.default.object,url:o.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=m(l),i=m(a(1)),s=m(a(20)),c=m(a(16)),u=m(a(135)),p=m(a(143)),f=m(a(153)),d=m(a(154)),h=m(a(161));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var b=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={currentStep:1,products:{},reference:null,steps:4,view:"Trade-In"},n.getProducts=function(){c.default.get("/api/vehicle/"+n.props.stockReference+"/products.json").end(function(e,t){t.ok&&n.setState({products:t.body})})},n.views={"Trade-In":u.default,Finance:p.default,"Service plans":f.default,"Next steps":d.default,"Your enquiry":h.default},n.resetScroll=function(){return document.querySelector(".db-body").scrollTop=0},n.setView=function(e){return n.setState({view:e},n.resetScroll)},n.setReference=function(e){return n.setState({reference:e})},n.dealTotal=function(){return n.props.cashPrice-n.partExchangeValue()+n.servicePlanValue()},n.partExchangeValue=function(){return n.props.enquiry.partExchange?n.props.enquiry.partExchange.equity:0},n.servicePlanValue=function(){return n.props.enquiry.servicePlan?n.props.enquiry.servicePlan.price:0},n.advanceCurrentStep=function(){n.state.currentStep<n.state.steps&&n.setState({currentStep:n.state.currentStep+1})},y(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isEligibleForServicePlans&&this.getProducts()}},{key:"render",value:function(){var e=this.views[this.state.view];return o.default.createElement(s.default,{id:"deal-builder",setWindowHistory:!0,trackClose:!0},o.default.createElement("div",{className:"db-wrapper"},o.default.createElement("div",{className:"db-header"},o.default.createElement("span",{className:"db-brand"},"Build your deal")),o.default.createElement("div",{className:"db-body"},o.default.createElement("div",{className:"db-body__progress"},o.default.createElement("p",{className:"ch-text--bold"},this.state.view),o.default.createElement("p",null,"Step ",this.state.currentStep," of ",this.state.steps)),o.default.createElement(e,n({},this.props,this.state,{advanceCurrentStep:this.advanceCurrentStep,setReference:this.setReference,setView:this.setView,dealTotal:this.dealTotal()})))))}}]),t}();b.displayName="DealBuilderContainer",b.propTypes={addCustomerInfoToEnquiry:i.default.func,authenticityToken:i.default.string,branch:i.default.object,cashPrice:i.default.number,enquiry:i.default.object,finance:i.default.object,isEligibleForServicePlans:i.default.bool,isTest:i.default.bool,make:i.default.string,model:i.default.string,photo:i.default.string,recaptchaSiteKey:i.default.string,reservationAvailable:i.default.bool,stockReference:i.default.string,testDrive:i.default.object,toggleReservation:i.default.func,toggleTestDrive:i.default.func,variant:i.default.string},t.default=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=b(l),i=b(a(1)),s=b(a(4)),c=b(a(3)),u=b(a(136)),p=b(a(137)),f=b(a(138)),d=b(a(139)),h=b(a(140)),m=b(a(141)),y=b(a(142));function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={equity:null,mileage:null,registration:null,settlement:null,step:"question",valuation:null,vehicle:null},n.steps={question:u.default,valuationForm:p.default,valuation:f.default,assumptions:d.default,outstandingFinanceQuestion:h.default,outstandingFinanceAmount:m.default,equity:y.default},n.setStep=function(e){return n.setState({step:e})},n.updateValuation=function(e,t,a){c.default.dataPush("PartExchangeVehicleName",a.title),c.default.dataPush("PartExchangeVehicleValuation",a.valuation),n.setState({mileage:t,registration:e,valuation:a.valuation,vehicle:a.title}),n.setStep("valuation")},n.updateSettlement=function(e){var t=n.state.valuation-e;n.setState({equity:t,settlement:e}),n.setStep("equity")},n.addPartExchangeToDeal=function(){c.default.event("Deal Builder","Trade-In","Equity accepted"),s.default.emit("partExchangeValuationUpdated",{equity:n.state.equity,mileage:n.state.mileage,registration:n.state.registration,settlementFigure:n.state.settlement,valuation:n.state.valuation,vehicle:n.state.vehicle}),n.props.setView("Finance")},n.negativeEquityMoreThanFivePercent=function(){return n.state.equity<.05*-n.props.cashPrice},n.negativeEquityMoreThanFifteenPercent=function(){return n.state.equity<.15*-n.props.cashPrice},n.cancel=function(){return n.props.setView("Finance")},v(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){var e=this.steps[this.state.step];return o.default.createElement(e,n({},this.state,{cancel:this.cancel,updateValuation:this.updateValuation,setStep:this.setStep,setView:this.props.setView,updateSettlement:this.updateSettlement,addPartExchangeToDeal:this.addPartExchangeToDeal,moreThanFivePercent:this.negativeEquityMoreThanFivePercent(),moreThanFifteenPercent:this.negativeEquityMoreThanFifteenPercent()}))}}]),t}();_.displayName="PartExchangeContainer",_.propTypes={setView:i.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={selectedOption:""},n.handleChange=function(e){return n.setState({selectedOption:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),"yes"===n.state.selectedOption?n.props.setStep("valuationForm"):n.props.setView("Finance")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/trade-in/question","Deal Builder - Trade-In - Question")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Would you like to trade in your current vehicle?"),l.default.createElement("div",{className:"ch-mb--2 ch-text--center"},l.default.createElement("input",{id:"hasTradeIn-yes",type:"radio",name:"hasTradeIn",value:"yes",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"hasTradeIn-yes",className:"ch-radio__label ch-radio__label--primary"},"Yes"),l.default.createElement("input",{id:"hasTradeIn-no",type:"radio",name:"hasTradeIn",value:"no",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"hasTradeIn-no",className:"ch-ml--2 ch-radio__label ch-radio__label--primary"},"No"))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta",disabled:""===this.state.selectedOption},"Continue"))))}}]),t}();u.displayName="PartExchangeQuestion",u.propTypes={setStep:o.default.func,setView:o.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=p(r),o=p(a(1)),i=p(a(16)),s=p(a(8)),c=p(a(3)),u=p(a(37));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={responseErrorMessage:""},n.validate=function(e){e.preventDefault();var t=!0;n.refs.registration.handleValidation()||(t=!1),n.refs.mileage.handleValidation()||(t=!1),t&&n.requestValuation()},n.requestValuation=function(){n.setState({loading:!0});var e=n.refs.registration.refs.input.value.toUpperCase(),t=Number(n.refs.mileage.refs.input.value);i.default.post("/api/valuation.json").query({registration:e,mileage:t}).end(function(a,r){if(n.updateDataLayer(e,t),a||!r.ok)return n.handleError(a);n.props.updateValuation(e,t,r.body),localStorage.setItem("trade-in-registration",e),localStorage.setItem("trade-in-mileage",t)})},n.updateDataLayer=function(e,t){c.default.dataPush("PartExchangeVehicleRegistration",e),c.default.dataPush("PartExchangeVehicleMileage",t)},n.handleError=function(e){if(406===e.status)return c.default.event("Deal Builder","Trade-In","Vehicle Valuation Failed"),n.setState({loading:!1,responseErrorMessage:"Sorry, we couldn\u2019t value that vehicle online. Please get in touch to arrange a comprehensive valuation."});n.setState({loading:!1,responseErrorMessage:"Sorry, there was a problem getting your valuation. Please try again later."})},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){c.default.pageview("/dealbuilder/trade-in/reg-and-mileage","Deal Builder - Trade-In - Reg and Mileage Input")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("p",{className:"db-question"},"See how much your current car is worth"),""!==this.state.responseErrorMessage&&l.default.createElement("div",{className:"db-partexchange__error"},this.state.responseErrorMessage),l.default.createElement("form",{ref:"form",onSubmit:this.validate},l.default.createElement("section",{className:"db-section"},l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(u.default,{ref:"registration",inputName:"registration",inputId:"registration",labelName:"Registration",additionalInputClasses:"ac-input--uppercase",requiresValidation:!0,errorMessage:"Please enter vehicle registration number",storeKey:"trade-in-registration"})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(u.default,{ref:"mileage",inputName:"mileage",inputId:"mileage",labelName:"Mileage",inputType:"number",requiresValidation:!0,errorMessage:"Please enter vehicle mileage",storeKey:"trade-in-mileage"}))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:(0,s.default)("ch-btn ch-btn--block ch-btn--cta",{"ac-btn--loading":this.state.loading})},"Get your valuation"),l.default.createElement("button",{type:"button",onClick:this.props.cancel,className:"ch-btn ch-btn--link db-btn--cancel gtm-track","data-category":"Deal Builder","data-action":"Trade-In","data-label":"Cancel during Reg and Mileage Input"},"Skip this step"))))}}]),t}();d.displayName="PartExchangeValuationForm",d.propTypes={cancel:o.default.func,updateValuation:o.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(12)),s=c(a(3));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){s.default.pageview("/dealbuilder/trade-in/valuation","Deal Builder - Trade-In - Valuation")}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("section",{className:"db-section"},l.default.createElement("div",{className:"ch-card"},l.default.createElement("div",{className:"ch-card__content ch-text--center"},l.default.createElement("p",{className:"db-question"},"Your ",this.props.vehicle," is worth"),l.default.createElement("p",{className:"db-partexchange__value"},l.default.createElement(i.default,{amount:this.props.valuation})),l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--sm ch-btn--link",onClick:function(){return e.props.setStep("valuationForm")}},"This isn\u2019t my car")),l.default.createElement("div",{className:"ch-card__content ch-card__content--grey ch-text--center"},l.default.createElement("p",null,"This valuation is an estimate based on some assumptions we\u2019ve made and is subject to checks by our staff."),l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--sm ch-btn--link",onClick:function(){return e.props.setStep("assumptions")}},"See assumptions")))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("p",{className:"ch-text--center"},"Next we have a question about finance on your current car."),l.default.createElement("button",{type:"button",onClick:function(){return e.props.setStep("outstandingFinanceQuestion")},className:"ch-btn ch-btn--cta ch-btn--block"},"Continue"),l.default.createElement("button",{type:"button",onClick:this.props.cancel,className:"ch-btn ch-btn--link db-btn--cancel gtm-track","data-category":"Deal Builder","data-action":"Trade-In","data-label":"Cancel during Valuation"},"Skip this step")))}}]),t}();u.displayName="PartExchangeValuation",u.propTypes={cancel:o.default.func,valuation:o.default.number},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(3));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){o.default.pageview("/dealbuilder/trade-in/assumptions","Deal Builder - Trade-In - Assumptions")}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Our trade-in assumptions"),l.default.createElement("p",{className:"ch-text--center"},"Don\u2019t worry if your car doesn\u2019t match all of these. We\u2019ll check it over when you come and see us."),l.default.createElement("div",{className:"ch-card"},l.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},l.default.createElement("ul",{className:"ch-list db-assumptions__list"},l.default.createElement("li",null,"You are the first owner"),l.default.createElement("li",null,"It has a full service history"),l.default.createElement("li",null,"Its MOT is valid for 30 days or more"),l.default.createElement("li",null,"It isn\u2019t an import"),l.default.createElement("li",null,"It isn\u2019t an insurance total loss"),l.default.createElement("li",null,"It has two keys"),l.default.createElement("li",null,"It doesn\u2019t have a full leather interior"),l.default.createElement("li",null,"It doesn\u2019t have a manufacturer fitted sat nav"),l.default.createElement("li",null,"It doesn\u2019t have a personalised registration plate"),l.default.createElement("li",null,"It isn\u2019t a non-runner"),l.default.createElement("li",null,"It hasn\u2019t been used as a private hire, rental, tuition or police vehicle"))))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"button",onClick:function(){return e.props.setStep("valuation")},className:"ch-btn ch-btn--secondary ch-btn--block"},"Back to your trade-in")))}}]),t}();s.displayName="Assumptions",t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(3)),s=c(a(59));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={selectedOption:""},n.handleChange=function(e){return n.setState({selectedOption:e.target.value})},n.handleSubmit=function(e){if(e.preventDefault(),"yes"===n.state.selectedOption)return n.props.setStep("outstandingFinanceAmount");n.props.updateSettlement(0),n.props.setStep("equity")},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/trade-in/outstanding-finance","Deal Builder - Trade-In - Outstanding Finance")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Do you have outstanding finance on your current vehicle?"),l.default.createElement("div",{className:"ch-mb--2 ch-text--center"},l.default.createElement("input",{id:"hasOutstandingFinance-yes",type:"radio",name:"hasOutstandingFinance",value:"yes",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"hasOutstandingFinance-yes",className:"ch-radio__label ch-radio__label--primary"},"Yes"),l.default.createElement("input",{id:"hasOutstandingFinance-no",type:"radio",name:"hasOutstandingFinance",value:"no",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"hasOutstandingFinance-no",className:"ch-ml--2 ch-radio__label ch-radio__label--primary"},"No")),l.default.createElement("div",{className:"ch-text--center"},l.default.createElement(s.default,{id:"outstanding-finance",title:"Not sure?"},l.default.createElement("div",{className:"ac-tooltip__content"},l.default.createElement("h3",{className:"ch-h4"},"How do I know if I have outstanding finance on my vehicle?"),l.default.createElement("p",null,"If you pay for your vehicle monthly, you may have a PCP or HP agreement in place, and still be paying towards an outstanding balance (your settlement figure)."),l.default.createElement("p",null,"To find out what\u2019s left to pay, speak to your finance company. Or, if you\u2019re not sure who they are, just give us a ring on 0141 648 1055 and we\u2019ll help."))))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta",disabled:""===this.state.selectedOption},"Continue"),l.default.createElement("button",{type:"button",onClick:this.props.cancel,className:"ch-btn ch-btn--link db-btn--cancel gtm-track","data-category":"Deal Builder","data-action":"Trade-In","data-label":"Cancel during Outstanding Finance"},"Skip this step"))))}}]),t}();p.displayName="OutstandingFinanceQuestion",p.propTypes={cancel:o.default.func,setStep:o.default.func,updateSettlement:o.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.preventNonNumericCharacters=function(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()},n.handleSubmit=function(e){e.preventDefault(),n.props.updateSettlement(n.settlementFigure?Number(n.settlementFigure.value):0)},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/trade-in/outstanding-finance-amount","Deal Builder - Trade-In - Outstanding Finance Amount")}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"How much is left to pay on your finance?"),l.default.createElement("input",{id:"settlement",name:"settlement",className:"ch-form__control",ref:function(t){e.settlementFigure=t},type:"number",min:"0",onKeyPress:this.preventNonNumericCharacters})),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta"},"Continue"),l.default.createElement("button",{type:"button",onClick:this.props.cancel,className:"ch-btn ch-btn--link db-btn--cancel gtm-track","data-category":"Deal Builder","data-action":"Trade-In","data-label":"Cancel during Outstanding Finance Amount"},"Skip this step"))))}}]),t}();u.displayName="OutstandingFinanceAmount",u.propTypes={cancel:o.default.func,updateSettlement:o.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=p(r),o=p(a(1)),i=p(a(3)),s=p(a(12)),c=p(a(68)),u=p(a(59));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/trade-in/summary","Deal Builder - Trade-In - Summary")}},{key:"message",value:function(){return this.props.equity>=0?l.default.createElement("p",null,"Great news! We can take this off the price of your deal."):this.props.moreThanFifteenPercent?l.default.createElement("p",null,"You owe more than your current car is worth. We can help you with what to do next."):this.props.moreThanFivePercent?l.default.createElement("p",null,"You owe a little too much on your current car. You can finance this balance with an ",l.default.createElement("strong",null,"Arnold Clark Personal Loan.")):l.default.createElement("p",null,"You still have outstanding finance on your car. Your deposit will have to cover the oustanding finance.")}},{key:"button",value:function(){var e=this;return this.props.moreThanFifteenPercent?l.default.createElement("div",{className:"ch-card"},l.default.createElement("div",{className:"ch-card__content"},l.default.createElement("p",{className:"db-question"},"Give us a call"),l.default.createElement(c.default,{additionalClasses:"ac-phone--deal-builder",number:"0141 648 1120"}),l.default.createElement("p",{className:"db-question"},"or"),l.default.createElement("button",{className:"ch-btn ch-btn--cta ch-btn--block",onClick:function(){return e.props.setView("Your enquiry")},type:"button"},"Send an enquiry"))):l.default.createElement("button",{className:"ch-btn ch-btn--block ch-btn--cta",onClick:this.props.addPartExchangeToDeal,type:"button"},"Add trade-in to deal")}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Here\u2019s your trade-in summary"),l.default.createElement("div",{className:"ch-card"},l.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},l.default.createElement("div",{className:"ac-flex"},l.default.createElement("p",null,"Valuation for ",l.default.createElement("strong",null,this.props.registration)),l.default.createElement(s.default,{amount:this.props.valuation})),l.default.createElement("div",{className:"ac-flex"},l.default.createElement("p",{className:"ch-mb--0"},"Your outstanding finance"),l.default.createElement(s.default,{amount:this.props.settlement}))),l.default.createElement("div",{className:"ch-card__content ch-text--center"},l.default.createElement("p",{className:"db-question"},"Your trade-in balance"),l.default.createElement("p",{className:"db-partexchange__value"},l.default.createElement(s.default,{amount:this.props.equity})),l.default.createElement("div",{className:"ch-text--center"},l.default.createElement(u.default,{id:"trade-in-balance",title:"What\u2019s this?"},l.default.createElement("div",{className:"ac-tooltip__content"},l.default.createElement("p",null,"Your trade-in balance is your car valuation of \xa3",this.props.valuation," minus your outstanding finance of \xa3",this.props.settlement,"."))))))),l.default.createElement("section",{className:"db-section db-section--cta",ref:function(t){return e.messageContainer=t}},this.message(),this.button(),l.default.createElement("button",{className:"ch-btn ch-btn--link db-btn--cancel gtm-track",onClick:this.props.cancel,type:"button","data-category":"Deal Builder","data-action":"Trade-In","data-label":"Cancel during Summary"},"Skip this step")))}}]),t}();f.displayName="PartExchangeEquity",f.propTypes={addPartExchangeToDeal:o.default.func,cancel:o.default.func,equity:o.default.number},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=u(l),i=u(a(1)),s=u(a(144)),c=u(a(85));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={step:"question"},n.steps={question:s.default,financeView:c.default},n.setStep=function(e){return n.setState({step:e})},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){var e=this.steps[this.state.step];return o.default.createElement("div",{className:"db-modal__content db-finance ac-animation--fade-in-from-right",key:this.state.step},o.default.createElement(e,n({},this.props,this.state,{setStep:this.setStep,setView:this.props.setView,view:"dealbuilder"})))}}]),t}();f.displayName="FinanceContainer",f.propTypes={advanceCurrentStep:i.default.func,setStep:i.default.func,setView:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={selectedOption:""},n.handleChange=function(e){return n.setState({selectedOption:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),"yes"===n.state.selectedOption?n.props.setStep("financeView"):n.props.setView("Next steps")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/finance/question","Deal Builder - Finance - Question"),this.props.advanceCurrentStep()}},{key:"render",value:function(){return l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Would you like a finance quote?"),l.default.createElement("div",{className:"ch-mb--2 ch-text--center"},l.default.createElement("input",{id:"wantsFinance-yes",type:"radio",name:"wantsFinance",value:"yes",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"wantsFinance-yes",className:"ch-radio__label ch-radio__label--primary"},"Yes"),l.default.createElement("input",{id:"wantsFinance-no",type:"radio",name:"wantsFinance",value:"no",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"wantsFinance-no",className:"ch-ml--2 ch-radio__label ch-radio__label--primary"},"No"))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta",disabled:""===this.state.selectedOption},"Continue")))}}]),t}();u.displayName="FinanceQuestion",u.propTypes={advanceCurrentStep:o.default.func,setStep:o.default.func,setView:o.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=d(l),i=d(a(1)),s=d(a(146)),c=d(a(147)),u=d(a(148)),p=d(a(86)),f=d(a(59));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"renderToggle",value:function(){if(this.props.hp&&this.props.pcp)return o.default.createElement("div",{className:"js-off--hide ac-finance__toggle-container"},o.default.createElement("p",{className:"ac-finance__toggle-description"},"Choose your finance"),o.default.createElement("div",{className:"ch-mb--2 ac-finance__toggle"},o.default.createElement("span",null,o.default.createElement("input",{type:"radio",className:"ch-reader",name:"productpage_switcher",id:"pcp",value:"pcp",checked:"pcp"===this.props.selectedFinance,onChange:this.props.setSelectedFinance}),o.default.createElement("label",{htmlFor:"pcp"},"PCP")),o.default.createElement("span",null,o.default.createElement("input",{type:"radio",className:"ch-reader",name:"productpage_switcher",id:"hp",value:"hp",checked:"hp"===this.props.selectedFinance,onChange:this.props.setSelectedFinance}),o.default.createElement("label",{htmlFor:"hp"},"HP"))),o.default.createElement("div",{className:"ch-text--center"},o.default.createElement(f.default,{id:"about-pcp-product",title:"About PCP"},o.default.createElement("div",{className:"ac-tooltip__content"},o.default.createElement("h3",{className:"ch-h4"},"The benefits of PCP"),o.default.createElement("ul",{className:"ch-list db-tooltip__ticklist"},o.default.createElement("li",null,"Low monthly payments"),o.default.createElement("li",null,"A new car every three or four years"),o.default.createElement("li",null,"Flexible mileage options available"),o.default.createElement("li",null,"Pay the guaranteed future value at the end of your contract if want to buy the car"))),o.default.createElement("a",{href:"/newsroom/006-pcp-pch-or-hp-car-finance-explained",className:"db-tooltip__footer"},"Read more about PCP")),o.default.createElement(f.default,{id:"about-hp-product",title:"About HP"},o.default.createElement("div",{className:"ac-tooltip__content"},o.default.createElement("h3",{className:"ch-h4"},"The benefits of HP"),o.default.createElement("ul",{className:"ch-list db-tooltip__ticklist"},o.default.createElement("li",null,"Pay an initial deposit, then pay off the entire value of the car in monthly instalments"),o.default.createElement("li",null,"When all payments are made, the hire purchase agreement ends and you have full ownership of the car"))),o.default.createElement("a",{href:"/newsroom/006-pcp-pch-or-hp-car-finance-explained",className:"db-tooltip__footer"},"Read more about HP"))))}},{key:"renderFooter",value:function(){return o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--10 md:ch-col--push-1 lg:ch-col--8 lg:ch-col--push-2"},o.default.createElement("div",{className:"js-off--hide ac-finance__cta-container"},o.default.createElement("button",{type:"button",onClick:this.props.submitFinanceEnquiry,className:"ch-btn ch-btn--cta ch-btn--sm gtm-track","data-category":"Button","data-action":"Click","data-label":"Enquire now (finance)"},"Enquire now"),o.default.createElement(p.default,{additionalClasses:"ac-chatbutton--finance ch-btn--secondary ch-btn--sm",buttonText:"Chat now",eventLabel:"Finance Calculator CTA"}))),o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--10 md:ch-col--push-1 lg:ch-col--8 lg:ch-col--push-2"},o.default.createElement("div",{className:"ac-finance__disclaimer"},o.default.createElement("small",{className:"ac-type--book"},"OFFER SUBJECT TO STATUS, TERMS AND CONDITIONS."," ",o.default.createElement("a",{title:"Opens Panel of Lenders in a new tab",id:"finance-disclaimer-link",href:"/terms-of-use/panel-of-lenders/",target:"_blank"},"CLICK\xa0HERE",o.default.createElement("span",{className:"ac-external-link--icon"}))," ","FOR DETAILS INCLUDING OUR PANEL OF LENDERS."))))}},{key:"render",value:function(){return o.default.createElement("div",{id:"finance",className:"ac-finance"},o.default.createElement("div",{className:"ch-container"},this.renderToggle(),"contract_hire"===this.props.selectedFinance&&o.default.createElement(s.default,this.props.contract_hire),"hp"===this.props.selectedFinance&&o.default.createElement(c.default,n({},this.props.hp,{dealTotal:this.props.dealTotal,calculatorChanged:this.props.hpCalculatorChanged})),"pcp"===this.props.selectedFinance&&o.default.createElement(u.default,n({},this.props.pcp,{dealTotal:this.props.dealTotal,calculatorChanged:this.props.pcpCalculatorChanged,loading:this.props.loading,pcpError:this.props.pcpError})),this.renderFooter()))}}]),t}();h.displayName="Finance",h.propTypes={contract_hire:i.default.object,dealTotal:i.default.number,hp:i.default.object,hpCalculatorChanged:i.default.func,loading:i.default.bool,pcp:i.default.object,pcpCalculatorChanged:i.default.func,pcpError:i.default.string,selectedFinance:i.default.string,setSelectedFinance:i.default.func,submitFinanceEnquiry:i.default.func,updateDealBuilderFinance:i.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(27));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ch-row"},l.default.createElement("div",{className:"xs:ch-col--12 sm:ch-col--8"},l.default.createElement("div",{className:"ch-card ch-mb--2"},l.default.createElement("div",{className:"ch-card__content"},l.default.createElement("h2",{className:"ch-mb--0 ac-finance__example-heading"},"Representative contract hire")),l.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},l.default.createElement(i.default,{financeData:this.props.illustration})))),l.default.createElement("div",{className:"xs:ch-col--12 sm:ch-col--4"},l.default.createElement("ul",{className:"ac-finance__list"},l.default.createElement("li",null,"Low deposits"),l.default.createElement("li",null,"Fixed rentals for the duration of the contract"),l.default.createElement("li",null,"Suitable for businesses of all sizes - contact us for full details"))))}}]),t}();c.displayName="ContractHireFinance",c.propTypes={illustration:o.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=u(l),i=u(a(1)),s=u(a(45)),c=u(a(27));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--10 md:ch-col--push-1 lg:ch-col--8 lg:ch-col--push-2"},o.default.createElement("div",{className:"ch-card ch-mb--2"},o.default.createElement("div",{className:"ch-card__content"},o.default.createElement("h2",{className:"ch-mb--0 ac-finance__example-heading"},"Hire purchase")),this.props.calculator&&o.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},o.default.createElement(s.default,n({},this.props.calculator,{dealTotal:this.props.dealTotal,calculatorChanged:this.props.calculatorChanged}))),o.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},o.default.createElement(c.default,{financeData:this.props.illustration})))))}}]),t}();p.displayName="HpFinance",p.propTypes={calculator:i.default.object,calculatorChanged:i.default.func,dealTotal:i.default.number,illustration:i.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=u(l),i=u(a(1)),s=u(a(45)),c=u(a(27));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.renderFinance=function(){return n.props.pcpError?o.default.createElement("div",{className:"ch-card__content ch-text--center"},o.default.createElement("p",{className:"ch-text--bold ch-mb--0 ac-finance__error-message"},n.props.pcpError)):o.default.createElement("div",{className:"ch-relative ch-card__content ch-card__content--grey"},n.props.loading&&o.default.createElement("div",{className:"ac-loading__wrapper"},o.default.createElement("span",{className:"ac-loading__spinner"}),o.default.createElement("p",{className:"ac-loading__text"},"Waiting for finance quote")),o.default.createElement(c.default,{financeData:n.props.illustration}))},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--10 md:ch-col--push-1 lg:ch-col--8 lg:ch-col--push-2"},o.default.createElement("div",{className:"ch-card ch-mb--2"},o.default.createElement("div",{className:"ch-card__content"},o.default.createElement("h2",{className:"ch-mb--0 ac-finance__example-heading"},"Personal contract purchase")),this.props.calculator&&o.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},o.default.createElement(s.default,n({},this.props.calculator,{dealTotal:this.props.dealTotal,calculatorChanged:this.props.calculatorChanged}))),this.renderFinance())))}}]),t}();f.displayName="PcpFinance",f.propTypes={calculator:i.default.object,calculatorChanged:i.default.func,dealTotal:i.default.number,illustration:i.default.object,loading:i.default.bool},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=f(l),i=f(a(1)),s=f(a(150)),c=f(a(151)),u=f(a(152)),p=f(a(59));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showHpIllustration:!1,showPcpIllustration:!1,showPlIllustration:!1},n.pcpCalculatorChanged=function(e,t,a,r){return n.setState({showPcpIllustration:!0}),n.props.pcpCalculatorChanged(e,t,a,r)},n.hpCalculatorChanged=function(e,t,a){return n.setState({showHpIllustration:!0}),n.props.hpCalculatorChanged(e,t,a)},n.plCalculatorChanged=function(e,t,a){return n.setState({showPlIllustration:!0}),n.props.plCalculatorChanged(e,t,a)},n.addFinanceDisabled=function(){return n.HpNotCalculated()||n.PcpNotCalculated()||n.PlNotCalculated()},n.HpNotCalculated=function(){return"hp"===n.props.selectedFinance&&!n.state.showHpIllustration},n.PcpNotCalculated=function(){return"pcp"===n.props.selectedFinance&&(!n.state.showPcpIllustration||n.props.loading||n.props.pcpError)},n.PlNotCalculated=function(){return"pl"===n.props.selectedFinance&&!n.state.showPlIllustration},n.equity=function(){if(n.props.enquiry.partExchange)return n.props.enquiry.partExchange.valuation-n.props.enquiry.partExchange.settlementFigure},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"renderToggle",value:function(){return"pl"===this.props.selectedFinance?o.default.createElement("section",{className:"db-section"},o.default.createElement("p",{className:"db-question"},"Finance your deal with an Arnold Clark Personal Loan"),o.default.createElement("div",{className:"ch-text--center"},o.default.createElement(p.default,{id:"about-pl-dealbuilder",title:"About Arnold Clark Personal Loans"},o.default.createElement("div",{className:"ac-tooltip__content"},o.default.createElement("h3",{className:"ch-h4"},"The benefits of Arnold Clark Loans"),o.default.createElement("ul",{className:"ch-list db-tooltip__ticklist"},o.default.createElement("li",null,"Pay off the entire value of the car in monthly instalments"),o.default.createElement("li",null,"You have full ownership of the car from the beginning of the agreement"),o.default.createElement("li",null,"Loan amount can be settled at any time by paying the outstanding balance")))))):o.default.createElement("section",{className:"db-section"},o.default.createElement("p",{className:"db-question"},"Choose your finance"),o.default.createElement("div",{className:"ch-mb--2 ch-text--center"},o.default.createElement("input",{id:"dealBuilderFinance-pcp",type:"radio",name:"dealBuilderFinance",value:"pcp",className:"ch-reader ch-radio",checked:"pcp"===this.props.selectedFinance,disabled:!this.props.pcp,onChange:this.props.setSelectedFinance}),o.default.createElement("label",{htmlFor:"dealBuilderFinance-pcp",className:"ch-radio__label ch-radio__label--primary"},"PCP"),o.default.createElement("input",{id:"dealBuilderFinance-hp",type:"radio",name:"dealBuilderFinance",value:"hp",className:"ch-reader ch-radio",checked:"hp"===this.props.selectedFinance,disabled:!this.props.hp,onChange:this.props.setSelectedFinance}),o.default.createElement("label",{htmlFor:"dealBuilderFinance-hp",className:"ch-ml--2 ch-radio__label ch-radio__label--primary"},"HP")),o.default.createElement("div",{className:"ch-text--center"},o.default.createElement(p.default,{id:"about-pcp-dealbuilder",title:"About PCP"},o.default.createElement("div",{className:"ac-tooltip__content"},o.default.createElement("h3",{className:"ch-h4"},"The benefits of PCP"),o.default.createElement("ul",{className:"ch-list db-tooltip__ticklist"},o.default.createElement("li",null,"Low monthly payments"),o.default.createElement("li",null,"A new car every three or four years"),o.default.createElement("li",null,"Flexible mileage options available"),o.default.createElement("li",null,"Pay the guaranteed future value at the end of your contract if want to buy the car"))),o.default.createElement("a",{href:"/newsroom/006-pcp-pch-or-hp-car-finance-explained",className:"db-tooltip__footer"},"Read more about PCP")),o.default.createElement(p.default,{id:"about-hp-dealbuilder",title:"About HP"},o.default.createElement("div",{className:"ac-tooltip__content"},o.default.createElement("h3",{className:"ch-h4"},"The benefits of HP"),o.default.createElement("ul",{className:"ch-list db-tooltip__ticklist"},o.default.createElement("li",null,"Pay an initial deposit, then pay off the entire value of the car in monthly instalments"),o.default.createElement("li",null,"When all payments are made, the hire purchase agreement ends and you have full ownership of the car"))),o.default.createElement("a",{href:"/newsroom/006-pcp-pch-or-hp-car-finance-explained",className:"db-tooltip__footer"},"Read more about HP"))),!this.props.pcp&&o.default.createElement("p",{className:"db-footnote"},"PCP is unavailable on this vehicle"))}},{key:"render",value:function(){return o.default.createElement("div",{className:"db-finance"},this.renderToggle(),o.default.createElement("section",{className:"db-section"},"pcp"===this.props.selectedFinance&&o.default.createElement(c.default,n({},this.props.pcp,{calculatorChanged:this.pcpCalculatorChanged,dealTotal:this.props.dealTotal,financeSelected:this.props.enquiry.finance,loading:this.props.loading,pcpError:this.props.pcpError,showPcpIllustration:this.state.showPcpIllustration,equity:this.equity(),type:"pcp"})),"hp"===this.props.selectedFinance&&o.default.createElement(s.default,n({},this.props.hp,{calculatorChanged:this.hpCalculatorChanged,dealTotal:this.props.dealTotal,showHpIllustration:this.state.showHpIllustration,equity:this.equity(),type:"hp"})),"pl"===this.props.selectedFinance&&o.default.createElement(u.default,n({},this.props.pl,{calculatorChanged:this.plCalculatorChanged,dealTotal:this.props.dealTotal,showPlIllustration:this.state.showPlIllustration,equity:this.equity(),type:"pl"}))),o.default.createElement("section",{className:"db-section db-section--cta"},o.default.createElement("button",{className:"ch-btn ch-btn--block ch-btn--cta",disabled:this.addFinanceDisabled(),onClick:this.props.updateDealBuilderFinance,type:"button"},"Add this finance to your deal"),o.default.createElement("button",{type:"button",onClick:this.props.cancel,className:"ch-btn ch-btn--link db-btn--cancel gtm-track","data-category":"Deal Builder","data-action":"Finance","data-label":"Cancel at calculator"},"Skip this step")))}}]),t}();h.displayName="FinanceDealBuilder",h.propTypes={cancel:i.default.func,contract_hire:i.default.object,dealTotal:i.default.number,hp:i.default.object,hpCalculatorChanged:i.default.func,loading:i.default.bool,pcp:i.default.object,pcpCalculatorChanged:i.default.func,pcpError:i.default.string,selectedFinance:i.default.string,setSelectedFinance:i.default.func,submitFinanceEnquiry:i.default.func,updateDealBuilderFinance:i.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=p(l),i=p(a(1)),s=p(a(3)),c=p(a(45)),u=p(a(27));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){s.default.pageview("/dealbuilder/finance/hp","Deal Builder - Finance - HP Calculator")}},{key:"render",value:function(){return o.default.createElement("div",{className:"ch-card"},this.props.calculator&&o.default.createElement("div",{className:"ch-card__content"},o.default.createElement(c.default,n({},this.props.calculator,{calculatorChanged:this.props.calculatorChanged,dealTotal:this.props.dealTotal,equity:this.props.equity,type:this.props.type}))),this.props.showHpIllustration&&o.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},o.default.createElement("div",{className:"db-illustration ac-animation--fade-in"},o.default.createElement(u.default,{financeData:this.props.illustration}))))}}]),t}();f.displayName="HpFinanceDealBuilder",f.propTypes={calculator:i.default.object,calculatorChanged:i.default.func,dealTotal:i.default.number,equity:i.default.string,illustration:i.default.object,showHpIllustration:i.default.bool,type:i.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=p(l),i=p(a(1)),s=p(a(3)),c=p(a(45)),u=p(a(27));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.renderFinance=function(){return n.props.loading?o.default.createElement("div",{className:"ac-loading__wrapper"},o.default.createElement("span",{className:"ac-loading__spinner"})):n.props.pcpError?o.default.createElement("div",{className:"ch-card__content ch-card__content--grey ch-text--center"},o.default.createElement("p",{className:"ch-text--bold ch-mb--0 ac-finance__error-message"},n.props.pcpError)):n.props.showPcpIllustration?o.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},o.default.createElement("div",{className:"db-illustration ac-animation--fade-in"},o.default.createElement(u.default,{financeData:n.props.illustration}))):void 0},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){s.default.pageview("/dealbuilder/finance/pcp","Deal Builder - Finance - PCP Calculator")}},{key:"render",value:function(){return o.default.createElement("div",{className:"ch-relative ch-card"},this.props.calculator&&o.default.createElement("div",{className:"ch-card__content"},o.default.createElement(c.default,n({},this.props.calculator,{calculatorChanged:this.props.calculatorChanged,dealTotal:this.props.dealTotal,equity:this.props.equity,type:this.props.type}))),this.renderFinance())}}]),t}();d.displayName="PcpFinanceDealBuilder",d.propTypes={calculator:i.default.object,calculatorChanged:i.default.func,dealTotal:i.default.number,equity:i.default.string,illustration:i.default.object,loading:i.default.bool,showPcpIllustration:i.default.bool,type:i.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=p(l),i=p(a(1)),s=p(a(3)),c=p(a(45)),u=p(a(27));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){s.default.pageview("/dealbuilder/finance/personal-loan","Deal Builder - Finance - Personal Loan Calculator")}},{key:"render",value:function(){return o.default.createElement("div",{className:"ch-card"},this.props.calculator&&o.default.createElement("div",{className:"ch-card__content"},o.default.createElement(c.default,n({},this.props.calculator,{calculatorChanged:this.props.calculatorChanged,dealTotal:this.props.dealTotal,equity:this.props.equity,type:this.props.type}))),this.props.showPlIllustration&&o.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},o.default.createElement("div",{className:"db-illustration ac-animation--fade-in"},o.default.createElement(u.default,{financeData:this.props.illustration}))))}}]),t}();f.displayName="PlFinanceDealBuilder",f.propTypes={calculator:i.default.object,calculatorChanged:i.default.func,dealTotal:i.default.number,equity:i.default.number,illustration:i.default.object,showPlIllustration:i.default.bool,type:i.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(3)),s=c(a(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={selectedOption:n.props.enquiry.servicePlan?n.props.enquiry.servicePlan.planId:""},n.formattedDescriptionFor=function(e){return e.replace(/ \(\d+ MOT\)/,"")},n.addServicePlan=function(e){e.preventDefault();var t=n.props.products.servicePlans.find(function(e){return e.planId===n.state.selectedOption});if(!t)return n.removeServicePlan();s.default.emit("servicePlanSelected",t),i.default.event("Deal Builder","Add Service Plan to deal",t.description),n.props.setView("Your deal")},n.removeServicePlan=function(){s.default.emit("removeServicePlan"),i.default.event("Deal Builder","Remove Service Plan from deal",""),n.props.setView("Your deal")},n.handleChange=function(e){return n.setState({selectedOption:e.target.value})},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/service-plans/add-service-plan","Deal Builder - Service Plans - Add A Service Plan")}},{key:"renderServicePlans",value:function(){var e=this;return this.props.products.servicePlans.map(function(t){return l.default.createElement(l.default.Fragment,{key:t.planId},l.default.createElement("input",{type:"radio",name:"plans",value:t.planId,id:"plans-"+t.planId,className:"ch-reader ch-radio",checked:e.state.selectedOption===t.planId,onChange:e.handleChange}),l.default.createElement("label",{className:"ch-mt--2 ch-radio__label ch-radio__label--primary ch-radio__label--large",htmlFor:"plans-"+t.planId},e.formattedDescriptionFor(t.description),l.default.createElement("small",null,"\xa3",t.price),l.default.createElement("small",null,l.default.createElement("a",{href:"/servicing/plans",target:"_blank"},"Find out more"))))})}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.addServicePlan},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Add a service plan"),l.default.createElement("input",{type:"radio",name:"plans",value:"",id:"plans-none",className:"ch-reader ch-radio",checked:""===this.state.selectedOption,onChange:this.handleChange}),l.default.createElement("label",{className:"ch-mb--4 ch-radio__label ch-radio__label--primary ch-radio__label--large",htmlFor:"plans-none"},"No service plan",l.default.createElement("small",{className:"ch-mt--1"},"I don\u2019t want to add a service plan")),this.renderServicePlans()),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta"},"Add service plan"),l.default.createElement("button",{type:"button",onClick:function(){return e.props.setView("Your deal")},className:"ch-btn ch-btn--link db-btn--cancel"},"Skip this step"))))}}]),t}();p.displayName="ServicePlans",p.propTypes={servicePlans:o.default.array,setView:o.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=d(r),o=d(a(3)),i=d(a(155)),s=d(a(156)),c=d(a(157)),u=d(a(158)),p=d(a(159)),f=a(386);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.nextView=function(){return a.props.setView("Your enquiry")},a.vehicleHasFinance=function(){return a.props.finance.selectedFinance},a.enquiryHasFinance=function(){return a.props.enquiry.finance.hasOwnProperty("Monthly payment")},a.dealIsFinanceable=function(){return a.props.dealTotal>=3e3},a.financeCalculationRequired=function(){return a.enquiryHasFinance()&&a.props.enquiry.finance["Deal price"]!==a.props.dealTotal&&a.dealIsFinanceable()},null===e.reference&&(0,f.saveDeal)(e),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){o.default.pageview("/dealbuilder/next-steps","Deal Builder - Next Steps"),this.props.advanceCurrentStep()}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"You\u2019ve built your deal"),l.default.createElement(i.default,this.props)),this.props.enquiry.partExchange&&l.default.createElement(s.default,{enquiry:this.props.enquiry}),this.props.enquiry.servicePlan&&l.default.createElement(c.default,{servicePlan:this.props.enquiry.servicePlan}),l.default.createElement(u.default,{finance:this.props.enquiry.finance,setView:this.props.setView,vehicleHasFinance:this.vehicleHasFinance(),enquiryHasFinance:this.enquiryHasFinance(),dealIsFinanceable:this.dealIsFinanceable(),branchPhoneNumber:this.props.branch.phoneNumber,calculationRequired:this.financeCalculationRequired()}),l.default.createElement("section",{className:"db-section ch-mt--4"},l.default.createElement("div",{className:"ch-card ch-mb--2"},l.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},l.default.createElement("span",{className:"ch-ml--2 ch-float--right db-icon db-icon--paperplane"}),l.default.createElement("h3",null,"Enquire about this deal"),l.default.createElement("p",null,"We\u2019ll take a few details and pass this deal to one of our experts."),l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--cta",onClick:this.nextView},"Enquire now"))),l.default.createElement(p.default,this.props)))}}]),t}();t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(1)),l=o(a(12));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return n.default.createElement("div",{className:"db-vehicle__wrapper"},e.photo&&n.default.createElement("img",{className:"ch-img--responsive",src:e.photo,alt:""}),n.default.createElement("div",{className:"db-vehicle__content"},n.default.createElement("span",{className:"db-vehicle__title"},e.make," ",e.model,n.default.createElement("span",{className:"db-vehicle__variant"},e.variant)),n.default.createElement("span",{className:"db-vehicle__price"},n.default.createElement(l.default,{amount:e.cashPrice}))))};i.propTypes={cashPrice:r.default.number,make:r.default.string,model:r.default.string,photo:r.default.string,variant:r.default.string},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(1)),l=o(a(12));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return n.default.createElement("div",{className:"db-dealitem"},n.default.createElement("h3",{className:"ch-h4"},"Your trade-in"),n.default.createElement("div",{className:"ac-flex"},n.default.createElement("span",null,"Valuation for ",e.enquiry.partExchange.registration),n.default.createElement(l.default,{amount:e.enquiry.partExchange.valuation})),n.default.createElement("div",{className:"ac-flex"},n.default.createElement("span",null,"Outstanding finance"),n.default.createElement(l.default,{amount:e.enquiry.partExchange.settlementFigure})),n.default.createElement("div",{className:"ac-flex"},n.default.createElement("span",null,"Your trade-in balance"),n.default.createElement(l.default,{amount:e.enquiry.partExchange.equity})))};i.propTypes={enquiry:r.default.object},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(1)),l=o(a(12));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return n.default.createElement("div",{className:"db-dealitem"},n.default.createElement("h3",{className:"ch-h4"},"Service plan"),n.default.createElement("div",{className:"ac-flex"},n.default.createElement("span",null,e.servicePlan.description),n.default.createElement(l.default,{amount:e.servicePlan.price})))};i.propTypes={servicePlan:r.default.object},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(27)),s=u(a(12)),c=u(a(68));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showExpandedFinance:!1},n.toggleFinancePreview=function(){n.setState({showExpandedFinance:!n.state.showExpandedFinance})},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"renderFinancePreview",value:function(){return this.state.showExpandedFinance?l.default.createElement("div",{className:"db-illustration ac-animation--fade-in-from-top"},l.default.createElement(i.default,{financeData:this.props.finance})):l.default.createElement("div",{className:"ch-clearfix"},l.default.createElement("div",{className:"ac-flex"},l.default.createElement("span",null,"Monthly payment"),l.default.createElement(s.default,{amount:this.props.finance["Monthly payment"]})),l.default.createElement("div",{className:"ac-flex"},l.default.createElement("span",null,"Deposit"),l.default.createElement(s.default,{amount:this.props.finance.Deposit})),l.default.createElement("div",{className:"ac-flex"},l.default.createElement("span",null,"Term (months)"),l.default.createElement("span",null,this.props.finance["Term (months)"])),l.default.createElement("div",{className:"ac-flex"},l.default.createElement("span",null,"Fixed representative APR "),l.default.createElement("span",null,this.props.finance.apr)))}},{key:"render",value:function(){var e=this;if(this.props.vehicleHasFinance){if(this.props.calculationRequired)return l.default.createElement("div",{className:"db-dealitem",ref:function(t){return e.recalculation=t}},l.default.createElement("h3",{className:"ch-h4"},"Finance summary"),l.default.createElement("p",null,"Your deal total has changed. Please"," ",l.default.createElement("span",{className:"ch-btn--link ch-hand",onClick:function(){return e.props.setView("Finance")}},"recalculate your finance"),"."));if(this.props.enquiryHasFinance&&this.props.dealIsFinanceable)return l.default.createElement("div",{className:"db-dealitem",ref:function(t){return e.preview=t}},l.default.createElement("h3",{className:"ch-h4"},"Finance summary"),this.renderFinancePreview(),l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--sm ch-btn--link db-dealitem__link",onClick:this.toggleFinancePreview},this.state.showExpandedFinance?"Show less":"Show full example"));if(!this.props.dealIsFinanceable&&this.props.enquiryHasFinance)return l.default.createElement("div",{className:"db-dealitem",ref:function(t){return e.unfinanceable=t}},l.default.createElement("h3",{className:"ch-h4"},"Finance summary"),l.default.createElement("p",null,"Sorry, we are unable to add finance to deals under \xa33,000 online. We may be able to help you over the phone. Please call"," ",l.default.createElement(c.default,{number:this.props.branchPhoneNumber})," for more information."))}return null}}]),t}();f.displayName="FinancePreview",f.propTypes={finance:o.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=p(r),o=p(a(16)),i=p(a(8)),s=p(a(3)),c=p(a(37)),u=p(a(160));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={emailSent:!1,errorMessage:null,loading:!1},n.validate=function(e){e.preventDefault();var t=!0;n.refs.contactEmail.handleValidation()||(t=!1),t&&(s.default.event("Deal Builder","Next steps","User sent email"),n.sendEmail(n.refs.contactEmail.refs.input.value))},n.sendEmail=function(e){n.setState({loading:!0}),o.default.post("/api/deals/email").send({authenticity_token:n.props.authenticityToken,reference:n.props.reference,email:e}).end(function(e,t){if(e||!t.ok)return n.handleError();n.setState({emailSent:!0,loading:!1,errorMessage:null})})},n.subHeading=function(){return null===n.state.errorMessage?l.default.createElement("p",null,"Bring it along when you pop in to see us."):l.default.createElement("p",{className:"db-errortext"},"There was a problem sending your deal. Please try again.")},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"handleError",value:function(){this.setState({errorMessage:"There was an error submitting this enquiry. Please try again.",loading:!1})}},{key:"render",value:function(){var e=this;return this.state.emailSent?l.default.createElement(u.default,{back:function(){return e.setState({emailSent:!1})}}):l.default.createElement("div",{className:"ch-card db-card--email"},l.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},l.default.createElement("span",{className:"ch-ml--2 ch-float--right db-icon db-icon--envelope"}),l.default.createElement("h3",null,"Email this deal to me"),this.subHeading(),l.default.createElement("form",{onSubmit:this.validate},l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(c.default,{ref:"contactEmail",inputName:"enquiry[contact_email]",inputId:"enquiry_contact_email",inputType:"email",additionalInputClasses:"ac-enquiry-form__input",requiresEmailValidation:!0,errorMessage:"Please enter a valid email address.",placeholder:"example@email.com"})),l.default.createElement("button",{type:"submit",className:(0,i.default)("ch-btn ch-btn--cta",{"ac-btn--loading":this.state.loading})},"Send my deal"))))}}]),t}();t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(0),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){return l.default.createElement("div",{className:"ch-card ch-card--overflow-hidden db-card--success ac-animation--fade-in-from-right"},l.default.createElement("div",{className:"ch-card__content"},l.default.createElement("span",{className:"ch-ml--2 ch-float--right db-icon db-icon--greentick"}),l.default.createElement("h3",null,"Check your inbox"),l.default.createElement("p",null,"We\u2019ve sent your deal to you."),l.default.createElement("a",{href:"#",onClick:e.back},"Send to a different address")))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=v(l),i=v(a(16)),s=v(a(15)),c=v(a(162)),u=v(a(163)),p=v(a(164)),f=v(a(165)),d=v(a(166)),h=v(a(167)),m=v(a(168)),y=v(a(169)),b=v(a(170));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.steps={reservationQuestion:f.default,testDriveQuestion:d.default,testDrive:h.default,name:c.default,address:m.default,contact:u.default,additional:p.default,payment:y.default,noLongerAvailable:b.default},a.initialStep=function(){return a.props.reservationAvailable?"reservationQuestion":a.props.testDrive.bookable?"testDriveQuestion":"name"},a.setStep=function(e){return a.setState({step:e})},a.cancel=function(){return a.setStep("name")},a.nextStepAfterSend=function(){a.props.enquiry.wantsToReserve?a.setStep("payment"):window.location.href="/contact-us/thank-you/deal-builder?stock_reference="+a.props.stockReference},a.sendEnquiry=function(){a.setState({loading:!0}),i.default.post("/contact-us/vehicle-enquiry/create/"+a.props.stockReference).send(n({authenticity_token:a.props.authenticityToken,enquiry:a.prepareEnquiry()},a.props.enquiry.customerDetails["g-recaptcha-response"]&&{"g-recaptcha-response":a.props.enquiry.customerDetails["g-recaptcha-response"]})).end(function(e,t){if(e||!t.ok)return a.handleError();a.nextStepAfterSend()})},a.getValueFromString=function(e){return parseFloat(e.replace(/[\xa3,]/g,""))},a.updateCustomer=function(e){i.default.patch("/api/deals").send({customer:e,authenticity_token:a.props.authenticityToken,reference:a.props.reference}).end(function(){})},a.checkReserved=function(){i.default.get("/api/reservation/"+a.props.stockReference).end(function(e,t){(e||t.body.reserved)&&a.setStep("noLongerAvailable")})},a.state={errorMessage:null,loading:!1,step:a.initialStep()},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){this.props.advanceCurrentStep()}},{key:"handleError",value:function(){this.setState({errorMessage:"There was an error submitting this enquiry. Please try again.",loading:!1})}},{key:"prepareEnquiry",value:function(){return n({},s.default.snakeCaseKeys(this.props.enquiry.customerDetails),this.props.enquiry.partExchange&&{enquiry_part_exchange_attributes:s.default.snakeCaseKeys(this.props.enquiry.partExchange)},this.props.enquiry.finance&&{enquiry_finance_attributes:this.parseFinance()},{interested_in_finance:this.props.enquiry.interestedInFinance,dealbuilder:this.props.enquiry.dealbuilder},this.props.enquiry.testDrive&&{test_drive_attributes:s.default.snakeCaseKeys(this.props.enquiry.testDrive)},this.props.reference&&{reference:this.props.reference},this.props.enquiry.wantsToReserve&&{reservation:this.props.enquiry.wantsToReserve})}},{key:"parseFinance",value:function(){return n({},this.props.enquiry.finance["Annual mileage"]&&{annual_mileage:this.getValueFromString(this.props.enquiry.finance["Annual mileage"])},{apr:this.props.enquiry.finance.apr,calculated:this.financeCalculated(),completion_fee:this.props.enquiry.finance["Completion fee"],deposit:this.props.enquiry.finance.Deposit,description:this.props.enquiry.finance.Description,excess_mileage_charge:this.props.enquiry.finance["Excess mileage charge"],fixed_interest_rate:this.props.enquiry.finance["Fixed interest rate"],guaranteed_future_value:this.props.enquiry.finance["Guaranteed future value"],monthly_payment:this.props.enquiry.finance["Monthly payment"],term:this.props.enquiry.finance["Term (months)"]})}},{key:"financeCalculated",value:function(){if(!this.props.finance.selectedFinance)return!1;var e=this.props.finance.selectedFinance;return this.props.finance[e].hasOwnProperty("calculator")}},{key:"render",value:function(){var e=this.steps[this.state.step];return o.default.createElement(e,{branch:this.props.branch,cancel:this.cancel,checkReserved:this.checkReserved,enquiry:this.props.enquiry,errorMessage:this.state.errorMessage,isTest:this.props.isTest,loading:this.state.loading,recaptchaSiteKey:this.props.recaptchaSiteKey,reference:this.props.reference,sendEnquiry:this.sendEnquiry,setCustomerInfo:this.props.addCustomerInfoToEnquiry,setStep:this.setStep,testDrive:this.props.testDrive,toggleReservation:this.props.toggleReservation,toggleTestDrive:this.props.toggleTestDrive,updateCustomer:this.updateCustomer})}}]),t}();t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(3)),i=s(a(37));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.nextStep=function(){return n.props.enquiry.wantsToReserve?"address":"contact"},n.validate=function(e){e.preventDefault();var t=!0;n.refs.lastName.handleValidation()||(t=!1),n.refs.firstName.handleValidation()||(t=!1),t&&(n.props.setCustomerInfo({first_name:n.refs.firstName.refs.input.value,last_name:n.refs.lastName.refs.input.value}),n.props.updateCustomer({first_name:n.refs.firstName.refs.input.value,last_name:n.refs.lastName.refs.input.value}),n.props.setStep(n.nextStep()))},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){o.default.pageview("/dealbuilder/enquiry/name","Deal Builder - Enquiry - Customer Name")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.validate},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"What\u2019s your name?"),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"firstName",inputName:"enquiry[first_name]",inputId:"enquiry_first_name",labelName:"First name",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize",requiresValidation:!0,errorMessage:"What is your first name?"})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"lastName",inputName:"enquiry[last_name]",inputId:"enquiry_last_name",labelName:"Last name",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize",requiresValidation:!0,errorMessage:"What is your last name?"}))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("p",{className:"ch-text--center"},this.props.enquiry.wantsToReserve?"Next we need your address so we can process your payment.":"Next we\u2019ll take your contact details in case we have to get in touch about your deal."),l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta"},"Continue"))))}}]),t}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(3)),i=s(a(37));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.validate=function(e){e.preventDefault();var t=!0;n.refs.contactNumber.handleValidation()||(t=!1),n.refs.postcode&&!n.refs.postcode.handleValidation()&&(t=!1),n.refs.contactEmail.handleValidation()||(t=!1),t&&(n.props.setCustomerInfo({postcode:n.refs.postcode?n.refs.postcode.refs.input.value:n.props.enquiry.customerDetails.postcode,contact_number:n.refs.contactNumber.refs.input.value,contact_email:n.refs.contactEmail.refs.input.value}),n.props.updateCustomer({postcode:n.refs.postcode?n.refs.postcode.refs.input.value:n.props.enquiry.customerDetails.postcode,phone:n.refs.contactNumber.refs.input.value,email:n.refs.contactEmail.refs.input.value}),n.props.setStep("additional"))},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){o.default.pageview("/dealbuilder/enquiry/contact-details","Deal Builder - Enquiry - Contact Details")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.validate},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"What are your contact details?"),!this.props.enquiry.wantsToReserve&&l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"postcode",inputName:"enquiry[postcode]",inputId:"enquiry_postcode",labelName:"Postcode",additionalInputClasses:"ac-enquiry-form__input ac-enquiry-form__input--sm ac-input--uppercase sm:ch-width---6",requiresPostcodeValidation:!0,description:"To help us find your nearest branch.",errorMessage:"Please enter a valid postcode."})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"contactNumber",inputName:"enquiry[contact_number]",inputId:"enquiry_contact_number",labelName:"Phone number",inputType:"tel",additionalInputClasses:"ac-enquiry-form__input ac-enquiry-form__input--md",requiresPhoneNumberValidation:!0,description:"We need a contact number for you, but we\u2019ll only call you to talk about your deal.",errorMessage:"Please enter a valid phone number."})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"contactEmail",inputName:"enquiry[contact_email]",inputId:"enquiry_contact_email",labelName:"Email address",inputType:"email",additionalInputClasses:"ac-enquiry-form__input",requiresEmailValidation:!0,description:"We\u2019ll send a confirmation email to this address. We won\u2019t spam you.",errorMessage:"Please enter a valid email address."}))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("p",{className:"ch-text--center"},"Almost done, next you can let us know if you have any questions or comments about your deal."),l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta"},"Continue"))))}}]),t}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(8)),i=c(a(3)),s=c(a(83));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.nextStep=function(){return n.props.sendEnquiry},n.buttonText=function(){return n.props.enquiry.wantsToReserve?"Complete enquiry and pay deposit":"Send your deal enquiry"},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/enquiry/comments","Deal Builder - Enquiry - Comments and Final Questions")}},{key:"setContact",value:function(){var e=!0,t=this.nextStep();this.refs.recaptcha.validate()||(e=!1),e&&(i.default.event("UX - Deal Builder","Enquiry",this.props.errorMessage?"Completed (after retry)":"Completed"),this.props.setCustomerInfo({comments:this.message.value,request_personalised_video:this.video.checked,newsletter:this.newsletter.checked,"g-recaptcha-response":window.grecaptcha&&window.grecaptcha.getResponse()},t))}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Any other information?"),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{className:"ch-form__control-label",htmlFor:"enquiry[comments]"},"Your message (optional)"),l.default.createElement("textarea",{className:"ch-form__control",name:"enquiry[comments]",ref:function(t){return e.message=t},rows:"2"})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("div",{className:"ch-checkbox"},l.default.createElement("label",null,l.default.createElement("input",{className:"ch-checkbox__input",name:"enquiry[request_personalised_video]",ref:function(t){return e.video=t},type:"checkbox"}),"Want a closer look? We\u2019ll make a video of this car just for you.",l.default.createElement("span",{className:"ch-checkbox__switch"})))),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("div",{className:"ch-checkbox"},l.default.createElement("label",null,l.default.createElement("input",{className:"ch-checkbox__input",name:"enquiry[newsletter]",ref:function(t){return e.newsletter=t},type:"checkbox"}),"Subscribe to our newsletter for exclusive offers.",l.default.createElement("span",{className:"ch-checkbox__switch"})))),l.default.createElement(s.default,{ref:"recaptcha",className:"g-recaptcha",isTest:this.props.isTest,recaptchaSiteKey:this.props.recaptchaSiteKey,errorMessage:"Please complete the reCAPTCHA."})),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{className:(0,o.default)("ch-btn ch-btn--block ch-btn--cta",{"ac-btn--loading":this.props.loading}),onClick:this.setContact.bind(this),type:"button"},this.props.errorMessage?"Retry":this.buttonText()),this.props.errorMessage&&l.default.createElement("p",{ref:"errorMessage",className:"ac-validation__message--fail ac-animation--fade-in"},this.props.errorMessage)))}}]),t}();t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={selectedOption:""},n.handleChange=function(e){return n.setState({selectedOption:e.target.value})},n.handleSubmit=function(e){if(e.preventDefault(),"yes"===n.state.selectedOption?n.props.toggleReservation(!0):n.props.toggleReservation(!1),n.props.testDrive.bookable)return n.props.setStep("testDriveQuestion");n.props.setStep("name")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/enquiry/reservation-question","Deal Builder - Enquiry - Reservation Question")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Would you like to reserve this car for 48 hours with a refundable \xa399 deposit?"),l.default.createElement("div",{className:"ch-mb--2 ch-text--center"},l.default.createElement("input",{id:"wantsReservation-yes",type:"radio",name:"wantsReservation",value:"yes",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"wantsReservation-yes",className:"ch-radio__label ch-radio__label--primary"},"Yes"),l.default.createElement("input",{id:"wantsReservation-no",type:"radio",name:"wantsReservation",value:"no",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"wantsReservation-no",className:"ch-ml--2 ch-radio__label ch-radio__label--primary"},"No"))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta",disabled:""===this.state.selectedOption},"Continue"))))}}]),t}();u.displayName="ReservationQuestion",u.propTypes={setStep:o.default.func,toggleReservation:o.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={selectedOption:""},n.handleChange=function(e){return n.setState({selectedOption:e.target.value})},n.handleSubmit=function(e){if(e.preventDefault(),"yes"===n.state.selectedOption)return n.props.toggleTestDrive(!0),n.props.setStep("testDrive");n.props.toggleTestDrive(!1),n.props.setStep("name")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/enquiry/test-drive-question","Deal Builder - Enquiry - Test Drive Question")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"Would you like to test drive this car?"),l.default.createElement("div",{className:"ch-mb--2 ch-text--center"},l.default.createElement("input",{id:"wantsTestDrive-yes",type:"radio",name:"wantsTestDrive",value:"yes",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"wantsTestDrive-yes",className:"ch-radio__label ch-radio__label--primary"},"Yes"),l.default.createElement("input",{id:"wantsTestDrive-no",type:"radio",name:"wantsTestDrive",value:"no",className:"ch-reader ch-radio",onChange:this.handleChange}),l.default.createElement("label",{htmlFor:"wantsTestDrive-no",className:"ch-ml--2 ch-radio__label ch-radio__label--primary"},"No"))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta",disabled:""===this.state.selectedOption},"Continue"))))}}]),t}();u.displayName="TestDriveQuestion",u.propTypes={setStep:o.default.func,toggleTestDrive:o.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(3)),s=u(a(30)),c=u(a(4));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={bookingHours:n.props.testDrive.defaultTimeOptions},n.setContact=function(e){e.preventDefault(),n.refs.date&&c.default.emit("addedTestDrive",{date:n.refs.date.selectInput.value,time:n.refs.time.selectInput.value}),n.props.setStep("name")},n.updateTimeOptions=function(e,t){var a=n.props.testDrive.dateOptions[0][1];if(t)return n.setState({bookingHours:n.props.testDrive.timeOptions[t]});n.setState({bookingHours:n.props.testDrive.timeOptions[a]})},n.cancel=function(){n.props.toggleTestDrive(!1),n.props.setStep("name")},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.updateTimeOptions(),i.default.pageview("/dealbuilder/enquiry/test-drive-booking","Deal Builder - Enquiry - Test Drive Booking")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.setContact},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"When would you like to test drive?"),l.default.createElement("div",{className:"ch-card"},l.default.createElement("div",{className:"ch-card__content db-testdrive"},l.default.createElement("span",{className:"db-testdrive__image"}),l.default.createElement("p",{className:"ch-mb--0"},l.default.createElement("span",{className:"ch-display--block ch-text--bold"},this.props.branch.name),this.props.branch.address)),l.default.createElement("div",{className:"ch-card__content ch-card__content--grey"},l.default.createElement(s.default,{ref:"date",name:"test_drive[date]",id:"test-drive-date",className:"ch-form__control ch-mb--2",defaultSelectedOption:this.props.testDrive.date,errorMessage:"Please select a date.",optionsForSelect:this.props.testDrive.dateOptions,onChange:this.updateTimeOptions}),l.default.createElement(s.default,{ref:"time",name:"test_drive[time]",id:"test-drive-time",className:"ch-form__control",defaultSelectedOption:this.props.testDrive.time,errorMessage:"Please select a time.",optionsForSelect:this.state.bookingHours})))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("p",null,"Next we need your details so we can get your test drive ready for you."),l.default.createElement("button",{className:"ch-btn ch-btn--block ch-btn--cta",type:"submit"},"Continue"),l.default.createElement("button",{type:"button",onClick:this.cancel,className:"ch-btn ch-btn--link db-btn--cancel gtm-track","data-category":"Deal Builder","data-action":"Enquiry","data-label":"Cancel during Test Drive Booking"},"Skip this step"))))}}]),t}();f.propTypes={setStep:o.default.func,toggleTestDrive:o.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(3)),i=s(a(37));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.validate=function(e){e.preventDefault();var t=!0;n.refs.address1.handleValidation()||(t=!1),n.refs.postcode.handleValidation()||(t=!1),n.refs.town.handleValidation()||(t=!1),t&&(n.props.setCustomerInfo({address1:n.refs.address1.refs.input.value,address2:n.refs.address2.refs.input.value,city:n.refs.town.refs.input.value,postcode:n.refs.postcode.refs.input.value}),n.props.updateCustomer({address1:n.refs.address1.refs.input.value,address2:n.refs.address2.refs.input.value,city:n.refs.town.refs.input.value,postcode:n.refs.postcode.refs.input.value}),n.props.setStep("contact"))},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){o.default.pageview("/dealbuilder/enquiry/address","Deal Builder - Enquiry - Customer Address")}},{key:"render",value:function(){return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{onSubmit:this.validate},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"db-question"},"What\u2019s your address?"),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"address1",inputName:"enquiry[address1]",inputId:"enquiry_address",labelName:"Address line 1",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize",requiresValidation:!0,errorMessage:"Please enter your address."})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"address2",inputName:"enquiry[address2]",inputId:"enquiry_address_line",labelName:"Address line 2 (optional)",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize"})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"town",inputName:"enquiry[city]",inputId:"enquiry_town",labelName:"Town/City",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize",requiresValidation:!0,errorMessage:"Please enter your town or city."})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement(i.default,{ref:"postcode",inputName:"enquiry[postcode]",inputId:"enquiry_postcode",labelName:"Postcode",additionalInputClasses:"ac-enquiry-form__input ac-enquiry-form__input--sm ac-input--uppercase sm:ch-width---6",requiresPostcodeValidation:!0,errorMessage:"Please enter a valid postcode."}))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("p",{className:"ch-text--center"},"Next we\u2019ll take your contact details in case we have to get in touch about your deal."),l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta"},"Continue"))))}}]),t}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(3)),i=s(a(16));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={worldpayInstId:null,worldpayCartId:n.props.reference,worldpayAmount:null,worldpayCurrency:null,worldpaySignature:null,worldpaySignatureFields:null,worldpayCustomerName:n.props.enquiry.customerDetails.first_name+" "+n.props.enquiry.customerDetails.last_name,worldpayAddress1:n.props.enquiry.customerDetails.address1,worldpayAddress2:n.props.enquiry.customerDetails.address2,worldpayCity:n.props.enquiry.customerDetails.city,worldpayPostcode:n.props.enquiry.customerDetails.postcode,worldpayEmail:n.props.enquiry.customerDetails.contact_email,worldpayTelephone:n.props.enquiry.customerDetails.contact_number},n.validate=function(e){e.preventDefault()},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){var e=this;o.default.pageview("/dealbuilder/enquiry/payment","Deal Builder - Enquiry - payment"),this.props.checkReserved(),i.default.get("/api/reservation_deposit/token/"+this.props.reference).end(function(t,a){if(t||!a.ok)return null;e.setState({worldpayInstId:a.body.instId,worldpayCartId:a.body.cartId,worldpayAmount:a.body.amount,worldpayCurrency:a.body.currency,worldpaySignature:a.body.signature,worldpaySignatureFields:a.body.signatureFields,worldpayPaymentType:null})})}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},l.default.createElement("form",{action:"https://secure.worldpay.com/wcc/purchase",method:"POST"},l.default.createElement("section",{className:"db-section"},l.default.createElement("p",{className:"ch-mb--4 db-question"},"How would you like to pay?")),l.default.createElement("section",{className:"db-section ch-card"},l.default.createElement("div",{className:"ch-card__content"},l.default.createElement("p",{className:"ch-text--bold"},"Payment summary"),l.default.createElement("div",{className:"ch-mb--2 db-bb ac-flex"},l.default.createElement("p",null,"Deposit"),l.default.createElement("p",null,"\xa399")),l.default.createElement("div",{className:"ac-flex"},l.default.createElement("p",{className:"ch-text--bold"},"Total"),l.default.createElement("p",{className:"ch-text--bold"},"\xa399")),l.default.createElement("p",{className:"ch-text--bold ch-mt--2 ch-mb--0"},"Choose your payment type"),l.default.createElement("input",{id:"visa",type:"radio",name:"creditCard",value:"visa",className:"ch-reader ch-radio"}),l.default.createElement("label",{htmlFor:"visa",className:"ch-radio__label ch-radio__label--primary db-creditcard",onClick:function(){return e.setState({worldpayPaymentType:"VISA"})}},l.default.createElement("span",{className:"db-cardlogo db-cardlogo--visa"}),"VISA"),l.default.createElement("input",{id:"mastercard",type:"radio",name:"creditCard",value:"mastercard",className:"ch-reader ch-radio"}),l.default.createElement("label",{htmlFor:"mastercard",className:"ch-radio__label ch-radio__label--primary db-creditcard",onClick:function(){return e.setState({worldpayPaymentType:"MSCD"})}},l.default.createElement("span",{className:"db-cardlogo db-cardlogo--mastercard"}),"Mastercard"),l.default.createElement("input",{id:"maestro",type:"radio",name:"creditCard",value:"maestro",className:"ch-reader ch-radio"}),l.default.createElement("label",{htmlFor:"maestro",className:"ch-radio__label ch-radio__label--primary db-creditcard",onClick:function(){return e.setState({worldpayPaymentType:"MAES"})}},l.default.createElement("span",{className:"db-cardlogo db-cardlogo--maestro"}),"Maestro"),l.default.createElement("input",{type:"hidden",name:"testMode",value:"0"}),l.default.createElement("input",{type:"hidden",name:"instId",value:this.state.worldpayInstId}),l.default.createElement("input",{type:"hidden",name:"cartId",value:this.state.worldpayCartId}),l.default.createElement("input",{type:"hidden",name:"amount",value:this.state.worldpayAmount}),l.default.createElement("input",{type:"hidden",name:"currency",value:this.state.worldpayCurrency}),l.default.createElement("input",{type:"hidden",name:"name",value:this.state.worldpayCustomerName}),l.default.createElement("input",{type:"hidden",name:"address1",value:this.state.worldpayAddress1}),l.default.createElement("input",{type:"hidden",name:"address2",value:this.state.worldpayAddress2}),l.default.createElement("input",{type:"hidden",name:"town",value:this.state.worldpayCity}),l.default.createElement("input",{type:"hidden",name:"postcode",value:this.state.worldpayPostcode}),l.default.createElement("input",{type:"hidden",name:"tel",value:this.state.worldpayTelephone}),l.default.createElement("input",{type:"hidden",name:"email",value:this.state.worldpayEmail}),l.default.createElement("input",{type:"hidden",name:"signature",value:this.state.worldpaySignature}),l.default.createElement("input",{type:"hidden",name:"signatureFields",value:this.state.worldpaySignatureFields}),l.default.createElement("input",{type:"hidden",name:"country",value:"GB"}),l.default.createElement("input",{type:"hidden",name:"lang",value:"en-GB"}),l.default.createElement("input",{type:"hidden",name:"hideCurrency"}),l.default.createElement("input",{type:"hidden",name:"noLanguageMenu",value:"true"}),l.default.createElement("input",{type:"hidden",name:"paymentType",value:this.state.worldpayPaymentType}))),l.default.createElement("section",{className:"db-section db-section--cta"},l.default.createElement("p",{className:"ch-text--center"},"Next, we\u2019ll take you to our payment gateway to securely complete your transaction."),l.default.createElement("button",{type:"submit",className:"ch-btn ch-btn--block ch-btn--cta"},"Continue to payment"))))}}]),t}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=(n=l)&&n.__esModule?n:{default:n};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"db-modal__content ac-animation--fade-in-from-right"},o.default.createElement("section",{className:"db-section"},o.default.createElement("p",{className:"db-question"},"Sorry, this car has been reserved.")),o.default.createElement("section",{className:"db-section db-section--cta"},o.default.createElement("p",{className:"ch-text--center"},"Unfortunately this car has already been reserved.")))}}]),t}();t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(0)),r=l(a(12));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"db-dealitem"},n.default.createElement("div",{className:"ac-flex db-total"},n.default.createElement("span",null,"Balance Payable"),n.default.createElement(r.default,{amount:e.dealTotal})))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(8));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-modal__content"},l.default.createElement("button",{className:(0,o.default)("ch-btn ch-btn--block ch-btn--cta ch-mb--2",{"ac-btn--loading":this.props.loading}),disabled:this.props.financeCalculationRequired,onClick:function(){return e.props.saveDeal(e.props.next)},type:"button"},"I\u2019ve finished building my deal"))}}]),t}();t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=c(l),i=c(a(1)),s=c(a(88));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"renderEmptyShortlist",value:function(){return o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,"You don\u2019t have any vehicles in your shortlist."),o.default.createElement("p",null,"Begin by shortlisting some vehicles using our award-winning car search. It\u2019s constantly updated with new stock. We have an unrivalled collection of"," ",o.default.createElement("a",{href:"/used-cars/search?search_type=New%20Cars"},"new cars"),","," ",o.default.createElement("a",{href:"/used-cars/search?search_type=Nearly%20New%20Cars"},"nearly new cars")," ","and ",o.default.createElement("a",{href:"/used-cars/search?search_type=Used%20Cars"},"used cars")," ","at all of our UK dealerships."))}},{key:"renderShortlist",value:function(){var e=this;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"ch-mb--4 ac-shortlist__info"},o.default.createElement("p",{className:"ac-shortlist__total"},"You currently have ",this.props.results.length," ",1===this.props.results.length?"vehicle":"vehicles"," in your shortlist."),o.default.createElement("button",{className:"ch-btn ch-btn--sm ch-btn--danger ac-shortlist__remove-btn",onClick:this.props.clearShortlist,type:"button"},"Remove all")),o.default.createElement("div",{className:"ac-animation--fade-in ac-results"},this.props.results.map(function(t){return o.default.createElement(s.default,n({},t,{key:t.stockReference,delivery:e.props.delivery,experiments:e.props.experiments}))})))}},{key:"render",value:function(){return o.default.createElement("div",{className:"ac-shortlist"},o.default.createElement("div",{className:"ac-shortlist__header"},o.default.createElement("div",{className:"ch-container"},o.default.createElement("h1",{className:"ch-h2"},"Your shortlist"))),o.default.createElement("div",{className:"ch-container"},this.props.loading&&o.default.createElement("div",{className:"ch-relative"},o.default.createElement("div",{className:"ac-loading__wrapper"},o.default.createElement("span",{className:"ac-loading__spinner ac-loading__spinner--small"}))),!this.props.loading&&0===this.props.results.length&&this.renderEmptyShortlist(),this.props.results.length>0&&this.renderShortlist()))}}]),t}();u.displayName="Shortlist",u.propTypes={clearShortlist:i.default.func,delivery:i.default.object,loading:i.default.bool,results:i.default.array,shortlist:i.default.array},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(56)),s=u(a(58)),c=u(a(57));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.hideCashPrice=function(){return 0===n.props.pricing.cashPrice&&(n.props.pricing.businessVehicle||n.props.pricing.businessContractHire)},n.or=function(){if(!n.hideCashPrice()&&n.props.pricing.monthlyPayment)return l.default.createElement("span",{className:"ac-pricing__or"}," or ")},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-pricing"},!this.hideCashPrice()&&l.default.createElement(i.default,{amount:this.props.pricing.cashPrice,prefix:this.props.pricing.cashPricePrefix,suffix:this.props.pricing.extras}),this.or(),this.props.pricing.monthlyPayment&&l.default.createElement(c.default,{amount:this.props.pricing.monthlyPayment,showTooltip:!0,stockReference:this.props.stockReference,vehicleUrl:this.props.vehicleUrl}),this.props.pricing.saving&&l.default.createElement(s.default,{amount:this.props.pricing.saving,prefix:this.props.pricing.savingPrefix,suffix:this.props.pricing.savingSuffix}))}}]),t}();f.propTypes={pricing:o.default.shape({cashPrice:o.default.number.isRequired,cashPricePrefix:o.default.string,extras:o.default.string,monthlyPayment:o.default.number,savingPrefix:o.default.string,saving:o.default.number,savingSuffix:o.default.string}).isRequired,stockReference:o.default.string,vehicleUrl:o.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(176)),l=o(a(82));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ac-budgetchooser"},n.default.createElement("div",{className:"js-off--hide"},n.default.createElement(l.default,{paymentType:e.appliedFilters.paymentType,onChange:e.onChange,hideMonthlyPayment:e.hideMonthlyPayment})),n.default.createElement(r.default,{paymentType:e.appliedFilters.paymentType,minPrice:e.appliedFilters.minPrice,maxPrice:e.appliedFilters.maxPrice,onChange:e.onChange})))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(15)),s=u(a(69)),c=u(a(70));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.newMinPriceOptions=function(){return"cash"===n.props.paymentType?n.minOptions(n.props.possibleCashOptions,n.props.maxPrice):n.minOptions(n.props.possibleMonthlyOptions,n.props.maxPrice)},n.newMaxPriceOptions=function(){return"cash"===n.props.paymentType?n.maxOptions(n.props.possibleCashOptions,n.props.minPrice):n.maxOptions(n.props.possibleMonthlyOptions,n.props.minPrice)},n.minOptions=function(e,t){var a=i.default.indexOfArray(e,[n.asMoney(t),t.toString()]),r=[];return a=-1===a?e.length:a,(r=e.slice(0,a)).unshift(["No min",""]),r},n.maxOptions=function(e,t){var a=i.default.indexOfArray(e,[n.asMoney(t),t.toString()]),r=[];return(r=e.slice(a+1,e.length)).unshift(["No max",""]),r},n.asMoney=function(e){return"\xa3"+i.default.delimitWithCommas(e)},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("label",{htmlFor:"min_price",className:"ch-form__control-label"},"Minimum ",this.props.paymentType," payment"),l.default.createElement(c.default,null,l.default.createElement(s.default,{id:"min-price",name:"min_price",availableOptions:this.newMinPriceOptions(),filterSelected:this.props.onChange,selectedOption:this.props.minPrice})),l.default.createElement("label",{htmlFor:"max_price",className:"ch-form__control-label"},"Maximum ",this.props.paymentType," payment"),l.default.createElement(c.default,null,l.default.createElement(s.default,{id:"max-price",name:"max_price",availableOptions:this.newMaxPriceOptions(),filterSelected:this.props.onChange,selectedOption:this.props.maxPrice})))}}]),t}();f.propTypes={maxPrice:o.default.string,minPrice:o.default.string,onChange:o.default.func,paymentType:o.default.string,possibleCashOptions:o.default.array,possibleMonthlyOptions:o.default.array},f.defaultProps={possibleMonthlyOptions:[["\xa370","70"],["\xa380","80"],["\xa390","90"],["\xa3100","100"],["\xa3110","110"],["\xa3120","120"],["\xa3130","130"],["\xa3140","140"],["\xa3150","150"],["\xa3160","160"],["\xa3170","170"],["\xa3180","180"],["\xa3190","190"],["\xa3200","200"],["\xa3225","225"],["\xa3250","250"],["\xa3275","275"],["\xa3300","300"],["\xa3350","350"],["\xa3400","400"],["\xa3450","450"],["\xa3500","500"],["\xa3600","600"]],possibleCashOptions:[["\xa31000","1000"],["\xa32000","2000"],["\xa33000","3000"],["\xa34000","4000"],["\xa35000","5000"],["\xa36000","6000"],["\xa37000","7000"],["\xa38000","8000"],["\xa39000","9000"],["\xa310,000","10000"],["\xa311,000","11000"],["\xa312,000","12000"],["\xa313,000","13000"],["\xa314,000","14000"],["\xa315,000","15000"],["\xa320,000","20000"],["\xa325,000","25000"],["\xa330,000","30000"],["\xa335,000","35000"],["\xa340,000","40000"],["\xa350,000","50000"],["\xa3100,000","100000"],["\xa3150,000","150000"]]},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(30));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("form",{id:"search",name:"search",className:"js-on--hide ch-card ch-mt--4 ch-mb--4",action:this.props.searchPath,method:"get"},l.default.createElement("input",{name:"utf8",type:"hidden",value:"\u2713"}),l.default.createElement("div",{className:"ch-card__content ac-filters__fallback"},l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"make",className:"ch-form__control-label"},"Make"),l.default.createElement(i.default,{id:"make",name:"make",className:"ch-form__control",optionsForSelect:this.props.availableMakes,selectedOption:this.props.appliedFilters.make})),l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"model",className:"ch-form__control-label"},"Model"),l.default.createElement(i.default,{id:"model",name:"model",className:"ch-form__control",optionsForSelect:this.props.availableModels,selectedOption:this.props.appliedFilters.model})),this.props.appliedFilters.branchId&&l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("div",{className:"ch-checkbox"},l.default.createElement("label",{htmlFor:"branch_id"},l.default.createElement("input",{type:"checkbox",id:"branch_id",name:"branch_id",className:"ch-checkbox__input",value:this.props.appliedFilters.branchId,defaultChecked:this.props.appliedFilters.branchId}),l.default.createElement("span",{className:"ch-checkbox__switch"}),this.props.appliedFilters.branchName))),l.default.createElement("button",{className:"ch-btn ch-btn--cta",type:"submit"},"Search")))}}]),t}();c.displayName="FallbackFilters",c.propTypes={appliedFilters:o.default.object,availableMakes:o.default.array,availableModels:o.default.array,searchPath:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(8)),i=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={optionsOpen:n.props.open},n.toggleOptions=function(){n.setState({optionsOpen:!n.state.optionsOpen})},n.linkText=function(){return n.state.optionsOpen?"Hide "+n.props.linkName:"Show "+n.props.linkName},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"db-link__wrapper"},l.default.createElement("div",{className:(0,o.default)("db-link",{"db-link--open":this.state.optionsOpen}),onClick:this.toggleOptions,ref:function(t){return e.filter=t}},l.default.createElement("h2",{className:"db-link__heading"},this.props.labelName),l.default.createElement("button",{className:(0,o.default)("ch-btn--link",{"ch-btn--link-opened":this.state.optionsOpen})},this.props.linkName&&this.linkText())),this.state.optionsOpen&&this.props.children)}}]),t}();u.propTypes={open:i.default.bool},u.defaultProps={open:!1},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(0),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){return l.default.createElement("div",{className:"filter-toggles"},l.default.createElement("div",{className:"ch-form__group--sm ch-mb--0"},l.default.createElement("div",{className:"ch-checkbox"},l.default.createElement("label",{htmlFor:"photos_only"},l.default.createElement("input",{type:"checkbox",id:"photos_only",name:"photos_only",className:"ch-checkbox__input",value:"photos_only",checked:e.appliedFilters.photosOnly,onChange:e.onChange}),l.default.createElement("span",{className:"ch-checkbox__switch"}),l.default.createElement("h2",{className:"db-link__heading"},"Hide cars without images")))),l.default.createElement("div",{className:"ch-form__group--sm ch-mb--0"},l.default.createElement("div",{className:"ch-checkbox"},l.default.createElement("label",{htmlFor:"unreserved_only"},l.default.createElement("input",{type:"checkbox",id:"unreserved_only",name:"unreserved_only",className:"ch-checkbox__input",value:"unreserved_only",checked:e.appliedFilters.unreservedOnly,onChange:e.onChange}),l.default.createElement("span",{className:"ch-checkbox__switch"}),l.default.createElement("h2",{className:"db-link__heading"},"Hide reserved cars")))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=g(l),i=g(a(1)),s=g(a(8)),c=g(a(15)),u=g(a(4)),p=g(a(91)),f=g(a(182)),d=g(a(30)),h=g(a(81)),m=g(a(44)),y=g(a(80)),b=g(a(131)),v=g(a(82)),_=g(a(183));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var O=(0,a(116).withViews)(_.default,{initialView:"filters",scrollTo:".ac-filters"}),k=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isTouch:c.default.isTouch()},n.onRemoveBranch=function(){return u.default.emit("searchCriteriaChange",{branchId:"",branchName:""})},n.checkboxChanged=function(e){u.default.emit("searchCriteriaChange",E({},e.target.name,e.target.checked))},n.onFilterChanged=function(e,t){u.default.emit("searchCriteriaChange",E({},e,t))},n.locationChanged=function(e){return u.default.emit("searchCriteriaChange",e)},n.closeModal=function(){return u.default.emit("closeModal")},n.renderSearchtags=function(){if(n.props.searchTags.length>0)return o.default.createElement("div",{className:"js-off--hide ac-searchtags"},o.default.createElement("div",{className:"ac-searchtags__scroll-container"},o.default.createElement(p.default,{appliedFilters:n.props.appliedFilters,count:n.props.count,searchTags:n.props.searchTags})))},n.renderBranchCheckbox=function(){if(n.props.appliedFilters.branchId)return o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("div",{className:"ch-checkbox"},o.default.createElement("label",{htmlFor:"branch_id",onClick:n.onRemoveBranch},o.default.createElement("input",{ref:"branchId",type:"checkbox",id:"branch_id",name:"branch_id",className:"ch-checkbox__input",value:n.props.appliedFilters.branchId,checked:n.props.appliedFilters.branchId,onChange:n.onRemoveBranch}),o.default.createElement("span",{className:"ch-checkbox__switch"}),n.props.appliedFilters.branchName)))},w(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){var e=this;return this.props.experiments.multiselect&&1===this.props.experiments.multiselect.v?o.default.createElement(O,n({},this.props,{filterSelected:this.onFilterChanged,closeModal:this.closeModal,loading:this.props.loading,count:this.props.count,renderSearchtags:this.renderSearchtags,checkboxChanged:this.checkboxChanged})):o.default.createElement("div",{className:"ac-filters__wrapper"},o.default.createElement("div",{className:"ac-filters__header"},o.default.createElement("h2",{className:"ch-mb--0"},"Refine your results"),this.renderSearchtags()),o.default.createElement("div",{className:"ac-filters",ref:function(t){return e.filters=t}},o.default.createElement("div",{className:"ac-filters__content"},o.default.createElement("fieldset",null,o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{id:"searchTypeLabel",htmlFor:"search-type",className:"ch-form__control-label"},"Car type"),o.default.createElement(f.default,{ref:"searchType",id:"search-type",name:"search_type",availableOptions:this.props.availableOptions.searchTypes,selectedOption:this.props.appliedFilters.searchType,isTouch:this.state.isTouch}))),o.default.createElement("fieldset",null,o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"make",className:"ch-form__control-label"},"Make"),o.default.createElement(d.default,{ref:"make",id:"make",name:"make",className:"ch-form__control",optionsForSelect:this.props.availableMakes,selectedOption:this.props.appliedFilters.make,onChange:this.onFilterChanged})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"model",className:"ch-form__control-label"},"Model"),o.default.createElement(d.default,{ref:"model",id:"model",name:"model",className:"ch-form__control",optionsForSelect:this.props.availableModels,selectedOption:this.props.appliedFilters.model,onChange:this.onFilterChanged}))),o.default.createElement("fieldset",null,o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("div",{className:"ch-checkbox"},o.default.createElement("label",{htmlFor:"photos_only"},o.default.createElement("input",{ref:"photosOnly",type:"checkbox",id:"photos_only",name:"photos_only",className:"ch-checkbox__input",value:"photos_only",checked:this.props.appliedFilters.photosOnly,onChange:this.checkboxChanged}),o.default.createElement("span",{className:"ch-checkbox__switch"}),"Hide cars without images"))),!this.props.delivery.presentation&&o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("div",{className:"ch-checkbox"},o.default.createElement("label",{htmlFor:"unreserved_only"},o.default.createElement("input",{ref:"unreservedOnly",type:"checkbox",id:"unreserved_only",name:"unreserved_only",className:"ch-checkbox__input",value:"unreserved_only",checked:this.props.appliedFilters.unreservedOnly,onChange:this.checkboxChanged}),o.default.createElement("span",{className:"ch-checkbox__switch"}),"Hide reserved cars")))),o.default.createElement("fieldset",null,o.default.createElement("legend",{className:"ac-filters__heading"},"Budget"),o.default.createElement("div",{ref:"budgetChooser",className:"ac-budgetchooser"},o.default.createElement("div",{className:"js-off--hide"},o.default.createElement(v.default,{paymentType:this.props.appliedFilters.paymentType,onChange:this.onFilterChanged,hideMonthlyPayment:"Motability"===this.props.appliedFilters.searchType})),o.default.createElement(b.default,{paymentType:this.props.appliedFilters.paymentType,minPrice:this.props.appliedFilters.minPrice,maxPrice:this.props.appliedFilters.maxPrice,onChange:this.onFilterChanged}))),o.default.createElement("fieldset",null,o.default.createElement("legend",{className:"ac-filters__heading"},"Location"),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"vehicle-location",className:"ch-form__control-label"},"Find cars near"),o.default.createElement(m.default,{ref:"location",id:"vehicle-location",name:"location",locationChanged:this.locationChanged,location:this.props.appliedFilters.location,lat:this.props.appliedFilters.locationLat,lng:this.props.appliedFilters.locationLng})),!this.props.delivery.presentation&&o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"distance",className:"ch-form__control-label"},"Distance"),o.default.createElement(d.default,{ref:"distance",id:"distance",name:"distance",className:"ch-form__control",optionsForSelect:this.props.availableOptions.distances,selectedOption:this.props.appliedFilters.distance,onChange:this.onFilterChanged})),this.renderBranchCheckbox()),o.default.createElement("fieldset",null,o.default.createElement("legend",{className:"ac-filters__heading"},"Condition"),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"mileage",className:"ch-form__control-label"},"Mileage (maximum)"),o.default.createElement(f.default,{ref:"mileage",id:"mileage",name:"mileage",availableOptions:this.props.availableOptions.mileageOptions,selectedOption:this.props.appliedFilters.mileage,isTouch:this.state.isTouch})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"age",className:"ch-form__control-label"},"Age (maximum)"),o.default.createElement(f.default,{ref:"age",id:"age",name:"age",availableOptions:this.props.availableOptions.ageOptions,selectedOption:this.props.appliedFilters.age,isTouch:this.state.isTouch}))),o.default.createElement("fieldset",null,o.default.createElement("legend",{className:"ac-filters__heading"},"Specification"),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"fuel-type",className:"ch-form__control-label"},"Fuel type"),o.default.createElement(f.default,{ref:"fuelType",id:"fuel-type",name:"fuel_type",availableOptions:this.props.availableOptions.fuelTypes,selectedOption:this.props.appliedFilters.fuelType,isTouch:this.state.isTouch})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"transmission",className:"ch-form__control-label"},"Gearbox"),o.default.createElement(f.default,{ref:"transmission",id:"transmission",name:"transmission",availableOptions:this.props.availableOptions.gearboxOptions,selectedOption:this.props.appliedFilters.transmission,isTouch:this.state.isTouch})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"body-type",className:"ch-form__control-label"},"Body type"),o.default.createElement(h.default,{ref:"bodyType",id:"body-type",name:"body_type",availableOptions:this.props.availableOptions.bodyTypes,selectedOptions:this.props.appliedFilters.bodyType,onChange:this.onFilterChanged,loading:this.props.loading})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"doors",className:"ch-form__control-label"},"Doors"),o.default.createElement(h.default,{ref:"doors",id:"doors",name:"doors",className:"ch-form__control",availableOptions:this.props.availableOptions.doorsOptions,selectedOptions:this.props.appliedFilters.doors,onChange:this.onFilterChanged,loading:this.props.loading})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"seats",className:"ch-form__control-label"},"Seats"),o.default.createElement(h.default,{ref:"seats",id:"seats",name:"seats",className:"ch-form__control",availableOptions:this.props.availableOptions.seatsOptions,selectedOptions:this.props.appliedFilters.seats,onChange:this.onFilterChanged,loading:this.props.loading})),o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--12"},o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"min-engine-size",className:"ch-form__control-label"},"Engine size (minimum)"),o.default.createElement(d.default,{ref:"minEngineSize",id:"min-engine-size",name:"min_engine_size",className:"ch-form__control",optionsForSelect:this.props.availableOptions.minEngineSize,selectedOption:this.props.appliedFilters.minEngineSize,onChange:this.onFilterChanged}))),o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--12"},o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"max-engine-size",className:"ch-form__control-label"},"Engine size (maximum)"),o.default.createElement(d.default,{ref:"maxEngineSize",id:"max-engine-size",name:"max_engine_size",className:"ch-form__control",optionsForSelect:this.props.availableOptions.maxEngineSize,selectedOption:this.props.appliedFilters.maxEngineSize,onChange:this.onFilterChanged})))),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"colour",className:"ch-form__control-label"},"Colour"),o.default.createElement(h.default,{ref:"colour",id:"colour",name:"colour",className:"ch-form__control",availableOptions:this.props.availableOptions.colours,selectedOptions:this.props.appliedFilters.colour,onChange:this.onFilterChanged,loading:this.props.loading})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"keywords",className:"ch-form__control-label"},"Keywords"),o.default.createElement(y.default,{ref:"keywords",inputId:"keywords",className:"ch-form__control",inputName:"keywords",value:this.props.appliedFilters.keywords,onFilterChanged:this.onFilterChanged}))),o.default.createElement("fieldset",null,o.default.createElement("legend",{className:"ac-filters__heading"},"Running costs"),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"roadtax-cost",className:"ch-form__control-label"},"Road tax (maximum)"),o.default.createElement(f.default,{ref:"roadtaxCost",id:"roadtax-cost",name:"roadtax_cost",availableOptions:this.props.availableOptions.roadtaxOptions,selectedOption:this.props.appliedFilters.roadtaxCost,isTouch:this.state.isTouch})),o.default.createElement("div",{className:"ch-form__group--sm"},o.default.createElement("label",{htmlFor:"mpg",className:"ch-form__control-label"},"Fuel consumption / MPG"),o.default.createElement(f.default,{ref:"mpg",id:"mpg",name:"mpg",availableOptions:this.props.availableOptions.mpgOptions,selectedOption:this.props.appliedFilters.mpg,isTouch:this.state.isTouch,radioInputClass:"ac-radiogroup--mpg"}))))),o.default.createElement("div",{className:"ac-filters__footer"},o.default.createElement("button",{type:"button",className:(0,s.default)("ch-btn ch-btn--cta",{"ac-btn--loading":this.props.loading}),onClick:this.closeModal},"Show ",this.props.count," results")))}}]),t}();k.displayName="Filters",k.propTypes={appliedFilters:i.default.object,availableMakes:i.default.array,availableModels:i.default.array,availableOptions:i.default.object,count:i.default.number,delivery:i.default.object,loading:i.default.bool,searchTags:i.default.array},t.default=k},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(8));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=["bodyType","branchName","colour","fuelType","keywords","location","make","model","searchType","transmission"],p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.displayLabelFor=function(e,t){return u.includes(e)?""+t:"minPrice"===e?n.minPriceLabel(t):"maxPrice"===e?n.maxPriceLabel(t):"age"===e?n.ageLabel(t):"distance"===e?"Up to "+t+" miles from your location":"doors"===e?t+" doors":"mileage"===e?n.mileageLabel(t):"seats"===e?t+" seats":"roadtaxCost"===e?n.roadTaxLabel(t):"mpg"===e?"Over "+t+" MPG":"photosOnly"===e?"Hide cars without images":"unreservedOnly"===e?"Hide reserved cars":"minEngineSize"===e?n.minEngineSizeLabel(t):"maxEngineSize"===e?n.maxEngineSizeLabel(t):"driveTheNightAway"===e?"Drive The Night Away":e+" - "+t},n.minPriceLabel=function(e){return"cash"===n.props.paymentType?"\xa3"+e+" min cash price":"\xa3"+e+" min monthly payment"},n.maxPriceLabel=function(e){return"cash"===n.props.paymentType?"\xa3"+e+" max cash price":"\xa3"+e+" max monthly payment"},n.minEngineSizeLabel=function(e){return(parseInt(e)+55)/1e3+" litre min engine size"},n.maxEngineSizeLabel=function(e){return(parseInt(e)-44)/1e3+" litre max engine size"},n.removeTag=function(){return n.props.removeTag(n.props.filter,n.props.value)},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"ageLabel",value:function(e){return"over7"===e?"Over 7 years old":"Up to "+e+" years old"}},{key:"mileageLabel",value:function(e){return"over80000"===e?"Over 80000 miles":"Up to "+e+" miles"}},{key:"roadTaxLabel",value:function(e){return"0"===e?"Free road tax":"over290"===e?"Over \xa3290 road tax":"Up to \xa3"+e+" road tax"}},{key:"render",value:function(){return l.default.createElement("li",{className:(0,i.default)("ac-searchtag",{"ac-searchtag--highlighted":0===this.props.count}),onClick:this.removeTag},this.displayLabelFor(this.props.filter,this.props.value))}}]),t}();p.displayName="SearchTag",p.propTypes={count:o.default.number,filter:o.default.string,paymentType:o.default.string,removeTag:o.default.func,value:o.default.oneOfType([o.default.string,o.default.array,o.default.bool])},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(8)),s=c(a(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.updateValue=function(e){var t,a,n;s.default.emit("searchCriteriaChange",(t={},a=e.target.name,n=e.target.value,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t))},n.renderRadioInput=function(){return l.default.createElement("div",{className:"ac-radiogroup__container"},l.default.createElement("div",{ref:"radioInput",className:(0,i.default)("ac-radiogroup",n.props.radioInputClass)},n.props.availableOptions.map(function(e,t){return l.default.createElement("div",{key:n.props.name+t,className:"ac-radiogroup__option"},l.default.createElement("input",{ref:"radioInput"+t,type:"radio",name:n.props.name,id:n.props.name+t,className:"ac-radiogroup__input",value:e[1],checked:n.props.selectedOption===e[1],onChange:n.updateValue}),l.default.createElement("label",{className:"ac-radiogroup__label",htmlFor:n.props.name+t},e[0]))})))},n.renderSelectInput=function(){return l.default.createElement("select",{ref:"selectInput",id:n.props.id,name:n.props.name,value:n.props.selectedOption,onChange:n.updateValue,className:"ch-form__control"},n.props.availableOptions.map(function(e){return l.default.createElement("option",{key:e[1],value:e[1]},e[0])}))},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return this.props.isTouch?this.renderRadioInput():this.renderSelectInput()}}]),t}();p.propTypes={availableOptions:o.default.array,id:o.default.string,isTouch:o.default.bool,name:o.default.string,radioInputClass:o.default.string,selectedOption:o.default.string},p.defaultProps={isTouch:!1},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=b(r),o=b(a(178)),i=b(a(80)),s=b(a(81)),c=b(a(69)),u=b(a(179)),p=b(a(175)),f=b(a(184)),d=b(a(70)),h=b(a(185)),m=b(a(8)),y=b(a(186));function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.renderBranchCheckbox=function(){if(n.props.showBranch)return l.default.createElement("div",{className:"filter-toggles"},l.default.createElement("div",{className:"ch-form__group--sm ch-mb--0"},l.default.createElement("div",{className:"ch-checkbox"},l.default.createElement("label",{htmlFor:"branch_id",onClick:n.props.removeBranch},l.default.createElement("input",{type:"hidden",name:"branch_id",value:""}),l.default.createElement("input",{ref:"branchId",type:"checkbox",id:"branch_id",name:"branch_id",className:"ch-checkbox__input",value:n.props.appliedFilters.branchId,checked:n.props.appliedFilters.branchId}),l.default.createElement("span",{className:"ch-checkbox__switch"}),l.default.createElement("h2",{className:"db-link__heading"},n.props.appliedFilters.branchName)))))},n.modalCount=function(){return n.props.appliedFilters.model.length>1&&n.props.appliedFilters.model.includes("")?"("+(n.props.appliedFilters.model.length-1)+")":n.props.appliedFilters.model.length>0&&!n.props.appliedFilters.model.includes("")?"("+n.props.appliedFilters.model.length+")":void 0},v(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"renderFilters",value:function(){var e=this;return"makes"===this.props.view?l.default.createElement(h.default,{makes:this.props.availableMakes,filterSelected:this.props.filterSelected,appliedFilters:this.props.appliedFilters}):"model"===this.props.view?l.default.createElement(y.default,{availableModels:this.props.availableModels,appliedMakes:this.props.appliedFilters.make,appliedModels:this.props.appliedFilters.model}):l.default.createElement(l.default.Fragment,null,l.default.createElement("fieldset",null,l.default.createElement(o.default,{linkName:"all car types",labelName:"Car type"},l.default.createElement(c.default,{name:"search_type",id:"search-type",availableOptions:this.props.availableOptions.searchTypes,selectedOption:this.props.appliedFilters.searchType,filterSelected:this.props.filterSelected})),l.default.createElement("div",{className:"db-link__wrapper",onClick:function(){return e.props.setView("makes")}},l.default.createElement("div",{className:"db-link"},l.default.createElement("h2",{className:"db-link__heading"},"Make"," ",this.props.appliedFilters.make[0]&&""!==this.props.appliedFilters.make[0]&&"("+this.props.appliedFilters.make.length+")"," ",l.default.createElement("p",{className:"ch-mb--0 ch-fs--2 ch-text--bold ch-color--ac-bluegrey"},(""===this.props.appliedFilters.make[0]||0===this.props.appliedFilters.make.length)&&"Any")),l.default.createElement("div",{className:"ac-chevron__next"}))),l.default.createElement("div",{className:"db-link__wrapper",onClick:function(){return e.props.setView("model")}},l.default.createElement("div",{className:"db-link"},l.default.createElement("h2",{className:"db-link__heading"},"Model",this.modalCount(),l.default.createElement("p",{className:"ch-mb--0 ch-fs--2 ch-text--bold ch-color--ac-bluegrey"},(0===this.props.appliedFilters.model.length||""===this.props.appliedFilters.model[0]&&1===this.props.appliedFilters.model.length)&&"Any")),l.default.createElement("div",{className:"ac-chevron__next"}))),l.default.createElement(u.default,{appliedFilters:this.props.appliedFilters,onChange:this.props.checkboxChanged}),l.default.createElement(o.default,{labelName:"Budget",linkName:"budget options",open:""!==this.props.appliedFilters.maxPrice||""!==this.props.appliedFilters.minPrice},l.default.createElement(p.default,{appliedFilters:this.props.appliedFilters,onChange:this.props.filterSelected,hideMonthlyPayment:"Motability"===this.props.appliedFilters.searchType})),!this.props.showBranch&&l.default.createElement(o.default,{labelName:"Location",linkName:"location options"},l.default.createElement(f.default,{appliedFilters:this.props.appliedFilters,availableOptions:this.props.availableOptions,locationChanged:this.props.locationChanged,delivery:this.props.delivery,filterSelected:this.props.filterSelected})),this.renderBranchCheckbox(),l.default.createElement(o.default,{labelName:"Mileage",linkName:"milege options"},l.default.createElement("div",{className:"optional-heading"},"Choose maximum"),l.default.createElement(d.default,null,l.default.createElement(c.default,{id:"mileage",name:"mileage",availableOptions:this.props.availableOptions.mileageOptions,selectedOption:this.props.appliedFilters.mileage,filterSelected:this.props.filterSelected}))),l.default.createElement(o.default,{labelName:"Age",linkName:"age options"},l.default.createElement("div",{className:"optional-heading"},"Choose maximum"),l.default.createElement(d.default,null,l.default.createElement(c.default,{id:"age",name:"age",availableOptions:this.props.availableOptions.ageOptions,selectedOption:this.props.appliedFilters.age,filterSelected:this.props.filterSelected}))),l.default.createElement(o.default,{labelName:"Fuel type",linkName:"fuel type options"},l.default.createElement(c.default,{id:"fuel-type",name:"fuel_type",availableOptions:this.props.availableOptions.fuelTypes,selectedOption:this.props.appliedFilters.fuelType,filterSelected:this.props.filterSelected})),l.default.createElement(o.default,{labelName:"Gearbox",linkName:"gearbox options"},l.default.createElement(c.default,{id:"transmission",name:"transmission",availableOptions:this.props.availableOptions.gearboxOptions,selectedOption:this.props.appliedFilters.transmission,filterSelected:this.props.filterSelected})),l.default.createElement(o.default,{labelName:"Body type",linkName:"Body types"},l.default.createElement("div",{className:"ch-clearfix ac-filter__wrapper"},l.default.createElement(s.default,{ref:"bodyType",id:"body-type",name:"body_type",availableOptions:this.props.availableOptions.bodyTypes,selectedOptions:this.props.appliedFilters.bodyType,onChange:this.props.filterSelected,loading:this.props.loading}))),l.default.createElement(o.default,{labelName:"Doors",linkName:"doors"},l.default.createElement("div",{className:"ch-clearfix ac-filter__wrapper"},l.default.createElement(s.default,{ref:"doors",id:"doors",name:"doors",availableOptions:this.props.availableOptions.doorsOptions,selectedOptions:this.props.appliedFilters.doors,onChange:this.props.filterSelected,loading:this.props.loading}))),l.default.createElement(o.default,{labelName:"Seats",linkName:"seats"},l.default.createElement("div",{className:"ch-clearfix ac-filter__wrapper"},l.default.createElement(s.default,{ref:"seats",id:"seats",name:"seats",availableOptions:this.props.availableOptions.seatsOptions,selectedOptions:this.props.appliedFilters.seats,onChange:this.props.filterSelected,loading:this.props.loading})))),l.default.createElement(o.default,{labelName:"Engine size",linkName:"engine size optons"},l.default.createElement("label",{htmlFor:"min_engine_size",className:"ch-form__control-label"},"Minimum engine size"),l.default.createElement(d.default,null,l.default.createElement(c.default,{id:"min-engine-size",name:"min_engine_size",availableOptions:this.props.availableOptions.minEngineSize,selectedOption:this.props.appliedFilters.minEngineSize,filterSelected:this.props.filterSelected})),l.default.createElement("label",{htmlFor:"max_engine_size",className:"ch-form__control-label"},"Maximum engine size"),l.default.createElement(d.default,null,l.default.createElement(c.default,{id:"max-engine-size",name:"max_engine_size",availableOptions:this.props.availableOptions.maxEngineSize,selectedOption:this.props.appliedFilters.maxEngineSize,filterSelected:this.props.filterSelected}))),l.default.createElement(o.default,{labelName:"Colour",linkName:"colour options"},l.default.createElement("div",{className:"ch-clearfix ac-filter__wrapper"},l.default.createElement(s.default,{ref:"colour",id:"colour",name:"colour",className:"ch-form__control",availableOptions:this.props.availableOptions.colours,selectedOptions:this.props.appliedFilters.colour,onChange:this.props.filterSelected,loading:this.props.loading,inSearchFiltersExperiment:this.props.inSearchFiltersExperiment}))),l.default.createElement(o.default,{labelName:"Keywords",linkName:"keywords"},l.default.createElement("div",{className:"ch-mb--2"},l.default.createElement(i.default,{ref:"keywords",inputId:"keywords",className:"ch-form__control keywordsinput",inputName:"keywords",value:this.props.appliedFilters.keywords,onFilterChanged:this.props.filterSelected}))),l.default.createElement(o.default,{labelName:"Road tax",linkName:"road tax options"},l.default.createElement(d.default,null,l.default.createElement(c.default,{id:"roadtax-cost",name:"roadtax_cost",availableOptions:this.props.availableOptions.roadtaxOptions,selectedOption:this.props.appliedFilters.roadtaxCost,filterSelected:this.props.filterSelected}))),l.default.createElement(o.default,{labelName:"Fuel consumption",linkName:"MPG options"},l.default.createElement(d.default,null,l.default.createElement(c.default,{id:"mpg",name:"mpg",availableOptions:this.props.availableOptions.mpgOptions,selectedOption:this.props.appliedFilters.mpg,filterSelected:this.props.filterSelected}))))}},{key:"renderButton",value:function(){var e=this;return"makes"===this.props.view||"model"===this.props.view?l.default.createElement("button",{type:"button",className:(0,m.default)("ch-btn ch-btn--primary",{"ac-btn--loading":this.props.loading}),onClick:function(){return e.props.setView("filters")}},"Next (",this.props.count,")"):l.default.createElement("button",{type:"button",className:(0,m.default)("ch-btn ch-btn--cta",{"ac-btn--loading":this.props.loading}),onClick:this.props.closeModal},"Show ",this.props.count," results")}},{key:"render",value:function(){return l.default.createElement("div",{className:"ac-filters__wrapper"},l.default.createElement("div",{className:"ac-filters__header"},l.default.createElement("h2",{className:"ch-mb--0"},"Refine your results"),this.props.renderSearchtags()),l.default.createElement("div",{className:"ac-filters ac-filters--experiment"},l.default.createElement("div",{className:"ac-filters__content"},this.renderFilters())),l.default.createElement("div",{className:"ac-filters__footer"},this.renderButton()))}}]),t}();t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(44)),l=i(a(69)),o=i(a(70));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement(n.default.Fragment,null,n.default.createElement("label",{htmlFor:"vehicle-location",className:"ch-form__control-label"},"Find cars near"),n.default.createElement("div",{className:"ch-mb--2"},n.default.createElement("div",{className:"ac-filter__wrapper"},n.default.createElement(r.default,{id:"vehicle-location",name:"location",locationChanged:e.locationChanged,location:e.appliedFilters.location,lat:e.appliedFilters.locationLat,lng:e.appliedFilters.locationLng}))),!e.delivery.presentation&&n.default.createElement("div",null,n.default.createElement("label",{htmlFor:"vehicle-distance",className:"ch-form__control-label"},"Distance"),n.default.createElement(o.default,null,n.default.createElement(l.default,{id:"distance",name:"distance",availableOptions:e.availableOptions.distances,selectedOption:e.appliedFilters.distance,filterSelected:e.filterSelected}))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(4));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=[].concat(s(n.props.appliedFilters.make));return""===e[1]?o.default.emit("searchCriteriaChange",{make:[""]}):(""===t[0]&&t.shift(),n.isChecked(e[1])?(t.splice(t.indexOf(e[1]),1),o.default.emit("searchCriteriaChange",{make:t})):void o.default.emit("searchCriteriaChange",{make:[].concat(s(t),[e[1]])}))},n.makes=function(){return n.props.makes.map(function(e){return l.default.createElement("div",{className:"ch-form__group",key:e[0]},l.default.createElement("div",{className:"ch-checkbox ch-checkbox__multiselect--experiment"},l.default.createElement("label",{htmlFor:e[0]},l.default.createElement("input",{id:e[0],type:"checkbox",name:e[0],value:e[1],className:"ch-checkbox__input",onChange:function(){return n.handleChange(e)},checked:n.isChecked(e[1])}),e[0],l.default.createElement("span",{className:"ch-checkbox__switch"}))))})},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"isChecked",value:function(e){return this.props.appliedFilters.make.indexOf(e)>-1}},{key:"render",value:function(){return this.makes()}}]),t}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(4));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.modelsFor=function(e){return n.props.availableModels.map(function(t){if(t[2]===e)return l.default.createElement("div",{className:"ch-form__group",key:t[0].replace(/ /g,"")},l.default.createElement("div",{className:"ch-checkbox ch-checkbox__multiselect--experiment"},l.default.createElement("label",{htmlFor:t[0]},l.default.createElement("input",{id:t[0],type:"checkbox",name:t[0],value:t[1],className:"ch-checkbox__input",onChange:function(){return n.handleChange(t[1])},checked:n.isChecked(t[1])}),t[0],l.default.createElement("span",{className:"ch-checkbox__switch"}))))})},n.renderHeadings=function(){return n.props.appliedMakes.map(function(e){return l.default.createElement(l.default.Fragment,{key:e},l.default.createElement("h3",null,e),n.modelsFor(e))})},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"handleChange",value:function(e){if(""===e)return o.default.emit("searchCriteriaChange",{model:[""]});var t=[].concat(s(this.props.appliedModels));return this.isChecked(e)?(t.splice(t.indexOf(e[1]),1),o.default.emit("searchCriteriaChange",{model:t})):o.default.emit("searchCriteriaChange",{model:[].concat(s(t),[e])})}},{key:"isChecked",value:function(e){return this.props.appliedModels.indexOf(e)>-1}},{key:"render",value:function(){var e=this;return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"ch-form__group",key:"all"},l.default.createElement("div",{className:"ch-checkbox ch-checkbox__multiselect--experiment"},l.default.createElement("label",{htmlFor:"allModels"},l.default.createElement("input",{id:"allModels",type:"checkbox",name:"allModels",value:"",className:"ch-checkbox__input",onChange:function(){return e.handleChange("")},checked:1===this.props.appliedModels.length&&""===this.props.appliedModels[0]}),"All models",l.default.createElement("span",{className:"ch-checkbox__switch"})))),this.renderHeadings())}}]),t}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=s(l),i=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}var c=["branchId","locationLat","locationLng","page","paymentType","sortOrder"],u=["bodyType","colour","doors","seats","make","model"],p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isExcludedFromTags=function(e){return c.includes(e)},a.isMultiSelect=function(e){return u.includes(e)},a.createSearchTagsFrom=function(e){var t=[];return Object.entries(e).map(function(e){return a.createTag(e,t)}),t},a.createTag=function(e,t){var r=n(e,2),l=r[0],o=r[1];if(""!==o&&o&&o!==[""]&&!a.isExcludedFromTags(l)){if(a.isMultiSelect(l)){if(0===o.length)return;return o.map(function(e){""!==e&&t.push([l,e])})}return t.push([l,o])}},a.orderedSearchTagsFor=function(e){var t=a.state.searchTags,n=a.createSearchTagsFrom(e),r=n.filter(function(e){var a=new RegExp("(^|,)"+e+"($|,)");return!t.toString().match(a)}),l=t.filter(function(e){var t=new RegExp("(^|,)"+e+"($|,)");return!n.toString().match(t)}),o=t;return l.map(function(e){return o.splice(o.indexOf(e),1)}),r.map(function(e){return o.unshift(e)}),o},a.state={searchTags:a.createSearchTagsFrom(a.props.appliedFilters)},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({searchTags:this.orderedSearchTagsFor(e.appliedFilters)})}},{key:"render",value:function(){return o.default.cloneElement(this.props.children,{searchTags:this.state.searchTags})}}]),t}();p.displayName="SearchTagsHelper",p.propTypes={appliedFilters:i.default.object.isRequired,children:i.default.element.isRequired},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=c(l),i=c(a(1)),s=c(a(88));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.PureComponent),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"ac-results"},this.props.count>0&&this.props.searchResults.map(function(t){return o.default.createElement(s.default,n({},t,{ref:"searchResult",key:t.stockReference,delivery:e.props.delivery}))}),0===this.props.count&&o.default.createElement("div",{ref:"noResults",className:"ch-text--center ac-noresults"},o.default.createElement("h2",null,"Sorry! No results found"),o.default.createElement("p",null,"We couldn\u2019t find any cars matching your search"),o.default.createElement("p",null,"Try removing some filters or"," ",o.default.createElement("a",{href:"/used-cars/search"},"reset your search")," to start again.")))}}]),t}();u.displayName="VehicleResults",u.propTypes={count:i.default.number,delivery:i.default.object,searchResults:i.default.array},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=w(l),i=w(a(1)),s=w(a(15)),c=w(a(4)),u=w(a(8)),p=w(a(20)),f=w(a(190)),d=w(a(191)),h=w(a(188)),m=w(a(180)),y=w(a(177)),b=w(a(66)),v=w(a(84)),_=w(a(115)),g=w(a(93)),E=w(a(67));function w(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var k=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPaginationParameters=function(){return s.default.toQueryString(s.default.snakeCaseKeys(n.props.appliedFilters)).replace(/&page=[1-9]/g,"")},n.updateCurrentPage=function(e){var t=e.target.getAttribute("data-page-number");e.preventDefault(),document.activeElement.blur(),window.scrollTo(0,0);var a={};return a.page=t,c.default.emit("searchCriteriaChange",a)},n.renderResultsBanner=function(){return n.props.delivery.presentation?o.default.createElement(_.default,{appliedFilters:n.props.appliedFilters,deliveryCentre:n.props.delivery.centre}):n.props.gearboxBanner?o.default.createElement(v.default,{backgroundColor:n.props.gearboxBanner.background_color,borderColor:n.props.gearboxBanner.border_color,linkText:n.props.gearboxBanner.call_to_action_text,linkTextColor:n.props.gearboxBanner.call_to_action_color,linkUrl:n.props.gearboxBanner.call_to_action_url,name:"gearbox-banner",target:"_blank",textBold:n.props.gearboxBanner.bold_text,textBoldColor:n.props.gearboxBanner.bold_text_color,textColor:n.props.gearboxBanner.text_color,textOne:n.props.gearboxBanner.text_one,textTwo:n.props.gearboxBanner.text_two}):o.default.createElement(v.default,{name:"expect-experience",linkText:"Find out more",linkUrl:"/best-deal-guarantee",target:"_blank",textBold:"guaranteed. ",textOne:"Expect the best used car deals in the UK, "})},O(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:(0,u.default)("ac-search",{"ac-search--loading":this.props.loading})},o.default.createElement("div",{className:"ac-search__banner js-off--hide"},this.renderResultsBanner()),o.default.createElement(f.default,{appliedFilters:this.props.appliedFilters,availableMakes:this.props.availableMakes,availableModels:this.props.availableModels,delivery:this.props.delivery}),o.default.createElement("div",{className:"ch-container"},o.default.createElement(y.default,{appliedFilters:this.props.appliedFilters,availableMakes:this.props.availableMakes,availableModels:this.props.availableModels,searchPath:this.props.searchPath}),o.default.createElement(d.default,{appliedFilters:this.props.appliedFilters,count:this.props.count,delivery:this.props.delivery,searchPath:this.props.searchPath,searchTags:this.props.searchTags,searchTitle:this.props.searchTitle}),this.props.loading&&o.default.createElement("div",{className:"ch-relative"},o.default.createElement("div",{className:"ac-loading__wrapper"},o.default.createElement("span",{className:"ac-loading__spinner"}))),o.default.createElement(h.default,{count:this.props.count,delivery:this.props.delivery,searchResults:this.props.searchResults}),o.default.createElement(p.default,{id:"vehicle-search-filters"},o.default.createElement(m.default,{appliedFilters:this.props.appliedFilters,availableMakes:this.props.availableMakes,availableModels:this.props.availableModels,availableOptions:this.props.availableOptions,count:this.props.count,delivery:this.props.delivery,loading:this.props.loading,searchPath:this.props.searchPath,searchTags:this.props.searchTags,experiments:this.props.experiments})),o.default.createElement(b.default,n({},this.props.pagination,{baseUrl:"/used-cars/search?",onPageChanged:this.updateCurrentPage,parameters:this.getPaginationParameters()})),o.default.createElement(g.default,{delivery:this.props.delivery,isSERPS:!0})),o.default.createElement(p.default,{id:"finance-illustration"},o.default.createElement(E.default,null)))}}]),t}();k.displayName="VehicleSearchPage",k.propTypes={appliedFilters:i.default.object,availableMakes:i.default.array,availableModels:i.default.array,availableOptions:i.default.object,count:i.default.number,delivery:i.default.object,experiments:i.default.object,loading:i.default.bool,pagination:i.default.object,searchPath:i.default.string,searchResults:i.default.array,searchTags:i.default.array,searchTitle:i.default.string},t.default=k},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=f(r),o=f(a(1)),i=f(a(4)),s=f(a(36)),c=f(a(92)),u=f(a(132)),p=f(a(30));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.updateFixedHeader=function(){return!n.isFixed&&window.pageYOffset>=n.stickyOffset?(n.isFixed=!0,n.header.classList.add("ac-search__header--fixed")):n.isFixed&&window.pageYOffset<n.stickyOffset?(n.isFixed=!1,n.header.classList.remove("ac-search__header--fixed")):void 0},n.onFilterChanged=function(e,t){i.default.emit("searchCriteriaChange",function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e,t)),s.default.scrollToElement(document.querySelector("body"))},n.openSearchFiltersModal=function(){i.default.emit("openModal","vehicle-search-filters")},n.displayLabelFor=function(e,t){var a=Array.isArray(e)?e[0]:e,n=t.find(function(e){return e[1]===a});if(n)return n[0]},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.isFixed=!1,this.stickyOffset=this.calculateStickyOffset(),window.addEventListener("scroll",this.updateFixedHeader)}},{key:"calculateStickyOffset",value:function(){return document.querySelector(".ac-search__banner").getBoundingClientRect().height+document.querySelector(".ac-header").getBoundingClientRect().height}},{key:"renderMobileHeader",value:function(){return l.default.createElement("div",{className:"ac-search__mobile-header"},l.default.createElement("div",{className:"ac-search__mobile-sort"},l.default.createElement("label",{className:"ch-btn ac-search__mobile-sort-btn",htmlFor:"sort-order"},"Sort"),l.default.createElement(c.default,{appliedFilters:this.props.appliedFilters,delivery:this.props.delivery})),l.default.createElement("button",{type:"button",className:"ch-btn ac-search__mobile-filter-btn",onClick:this.openSearchFiltersModal},"Filter results"))}},{key:"renderLargeBreakpointHeader",value:function(){return l.default.createElement("div",{className:"ch-container ac-search__large-header"},l.default.createElement("div",{className:"ac-search__header-btn-wrapper"},l.default.createElement("label",{htmlFor:"make",className:"ch-reader"},"Make"),l.default.createElement(p.default,{ref:"make",id:"make",name:"make",className:"ac-search__header-btn-select",optionsForSelect:this.props.availableMakes,selectedOption:this.props.appliedFilters.make,onChange:this.onFilterChanged}),l.default.createElement("span",{className:"ch-btn ch-btn--sm"},this.props.appliedFilters.make?this.displayLabelFor(this.props.appliedFilters.make,this.props.availableMakes):"All makes")),l.default.createElement("div",{className:"ac-search__header-btn-wrapper"},l.default.createElement("label",{htmlFor:"model",className:"ch-reader"},"Model"),l.default.createElement(p.default,{ref:"model",id:"model",name:"model",className:"ac-search__header-btn-select",optionsForSelect:this.props.availableModels,selectedOption:this.props.appliedFilters.model,onChange:this.onFilterChanged}),l.default.createElement("span",{className:"ch-btn ch-btn--sm"},this.props.appliedFilters.model[0]?this.props.appliedFilters.model[0]:"All models")),l.default.createElement(u.default,{maxPrice:this.props.appliedFilters.maxPrice,minPrice:this.props.appliedFilters.minPrice,onChange:this.onFilterChanged,paymentType:this.props.appliedFilters.paymentType}),l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--sm ac-search__filters-btn",onClick:this.openSearchFiltersModal},"More filters"))}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"js-off--hide ac-search__wrapper"},l.default.createElement("div",{ref:function(t){return e.header=t},className:"ac-search__header"},this.renderMobileHeader(),this.renderLargeBreakpointHeader()))}}]),t}();h.displayName="VehicleSearchStickyHeader",h.propTypes={appliedFilters:o.default.object,availableMakes:o.default.array,availableModels:o.default.array,delivery:o.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(92)),s=c(a(91));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"renderSearchtagCount",value:function(){return l.default.createElement("p",{className:"ac-searchtags__count ac-hidden--sl ch-mb--0 ch-mr--4"},"Applied filters (",this.props.searchTags.length,")",l.default.createElement("a",{href:this.props.searchPath,className:"ch-ml--2 gtm-track","data-category":"Search","data-action":"Reset filters","data-label":"Reset (searchtags)"},"Remove all"))}},{key:"renderSearchtags",value:function(){if(this.props.searchTags.length>0)return l.default.createElement("div",{className:"js-off--hide ac-searchtags ac-searchtags--results"},this.renderSearchtagCount(),l.default.createElement("div",{className:"ac-searchtags__scroll-container"},l.default.createElement(s.default,{appliedFilters:this.props.appliedFilters,count:this.props.count,searchTags:this.props.searchTags})))}},{key:"render",value:function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"ac-results__header"},l.default.createElement("h1",{className:"ac-results__heading"},this.props.searchTitle),l.default.createElement("div",{className:"js-off--hide ac-hidden--sl ac-results__sort"},l.default.createElement("label",{className:"ch-reader",htmlFor:"sort-order"},"Sort"),l.default.createElement(i.default,{appliedFilters:this.props.appliedFilters,delivery:this.props.delivery}))),this.renderSearchtags())}}]),t}();u.displayName="VehicleSearchHeader",u.propTypes={appliedFilters:o.default.object,count:o.default.number,delivery:o.default.object,searchPath:o.default.string,searchTags:o.default.array,searchTitle:o.default.string},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(36)),s=c(a(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.scrollToAnchor=function(e){e.preventDefault(),n.props.trackingCategory&&s.default.event(n.props.trackingCategory,"Click",n.props.linkText);var t=document.getElementById(n.props.anchorId);i.default.scrollToElement(t)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("a",{ref:"link",href:"#"+this.props.anchorId,className:"ch-btn--block ch-btn--link ac-pricing__anchor-link",onClick:this.scrollToAnchor},this.props.linkText)}}]),t}();p.propTypes={anchorId:o.default.string,linkText:o.default.string,trackingCategory:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.showBranchName=function(){return!n.props.presentation||n.props.presentation&&!n.props.isEligibleForDelivery},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return this.showBranchName()?l.default.createElement("a",{ref:"link",href:this.props.url,className:"ac-productheader__branch"},this.props.name):null}}]),t}();c.propTypes={isEligibleForDelivery:o.default.bool,name:o.default.string,presentation:o.default.bool,url:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(4)),i=c(a(1)),s=c(a(20));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.openModal=function(e){e.preventDefault(),o.default.emit("openModal","road-tax-modal")},n.renderExBusinessWarning=function(){if(n.props.showExBusinessWarning)return l.default.createElement("p",null,"This vehicle has previously been registered to a business or a vehicle rental company, or been used by a business, so it may have been driven by more than one driver.")},n.renderTaxWarning=function(){if(n.props.showTaxWarning)return l.default.createElement("p",null,"* This vehicle is affected by the new 2017 road tax rules.\xa0",l.default.createElement("a",{href:"https://www.arnoldclark.com/newsroom/1111-a-guide-to-ved-road-tax-changes-coming-april-2017",onClick:n.openModal,ref:"roadTaxLink"},"Find out more"))},n.renderMPGWarning=function(){if(n.props.showMPGWarning)return l.default.createElement("p",{ref:"mpgWarning"},"** MPG figures are obtained in laboratory testing and intended for comparisons between vehicles. Please be aware they're not intended to represent real world efficiency.")},n.renderExBusinessWarning=function(){if(n.props.showExBusinessWarning)return l.default.createElement("p",{ref:"exBusinessWarning"},"This vehicle has previously been registered to a business or a vehicle rental company, or been used by a business, so it may have been driven by more than one driver.")},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return this.props.showTaxWarning||this.props.showMPGWarning||this.props.showExBusinessWarning?l.default.createElement("div",{className:"ch-container"},l.default.createElement("div",{className:"ac-disclaimer ac-card--padding-md"},this.renderExBusinessWarning(),this.renderTaxWarning(),this.renderMPGWarning()),l.default.createElement(s.default,{id:"road-tax-modal"},l.default.createElement("div",{className:"ac-modal ac-modal--mobile-full"},l.default.createElement("div",{className:"ac-road-tax"},l.default.createElement("h2",{className:"ac-road-tax__heading"},"New road tax rules for 2017",l.default.createElement("span",{className:"ac-road-tax__subheading"},"Get all the facts about changes to VED road tax coming April 2017.")),l.default.createElement("p",{className:"ac-road-tax__info"},"As of April 1st 2017, the way in which the government taxes vehicles will change. If you\u2019re planning on buying a new vehicle, it\u2019s useful to find out how these changes will impact how much you pay."),l.default.createElement("p",{className:"ac-road-tax__info"},"For vehicles first registered on or after April 1st 2017, the amount you pay for the first 12 months is based on CO2 emissions."),l.default.createElement("table",{className:"ac-table ac-table__bordered"},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("th",{width:"40%"},"CO2 emissions (g/km)"),l.default.createElement("th",{width:"30%"},"Petrol or Diesel"),l.default.createElement("th",{width:"30%"},"Alternative fuel")),l.default.createElement("tr",null,l.default.createElement("td",null,"0"),l.default.createElement("td",null,"\xa30"),l.default.createElement("td",null,"\xa30")),l.default.createElement("tr",null,l.default.createElement("td",null,"1-50"),l.default.createElement("td",null,"\xa310"),l.default.createElement("td",null,"\xa30")),l.default.createElement("tr",null,l.default.createElement("td",null,"51-75"),l.default.createElement("td",null,"\xa325"),l.default.createElement("td",null,"\xa315")),l.default.createElement("tr",null,l.default.createElement("td",null,"76-90"),l.default.createElement("td",null,"\xa3100"),l.default.createElement("td",null,"\xa390")),l.default.createElement("tr",null,l.default.createElement("td",null,"91-100"),l.default.createElement("td",null,"\xa3120"),l.default.createElement("td",null,"\xa3110")),l.default.createElement("tr",null,l.default.createElement("td",null,"101-110"),l.default.createElement("td",null,"\xa3140"),l.default.createElement("td",null,"\xa3130")),l.default.createElement("tr",null,l.default.createElement("td",null,"111-130"),l.default.createElement("td",null,"\xa3160"),l.default.createElement("td",null,"\xa3150")),l.default.createElement("tr",null,l.default.createElement("td",null,"131-150"),l.default.createElement("td",null,"\xa3200"),l.default.createElement("td",null,"\xa3190")),l.default.createElement("tr",null,l.default.createElement("td",null,"151-170"),l.default.createElement("td",null,"\xa3500"),l.default.createElement("td",null,"\xa3490")),l.default.createElement("tr",null,l.default.createElement("td",null,"171-190"),l.default.createElement("td",null,"\xa3800"),l.default.createElement("td",null,"\xa3790")),l.default.createElement("tr",null,l.default.createElement("td",null,"191-225"),l.default.createElement("td",null,"\xa31200"),l.default.createElement("td",null,"\xa31190")),l.default.createElement("tr",null,l.default.createElement("td",null,"226-255"),l.default.createElement("td",null,"\xa31700"),l.default.createElement("td",null,"\xa31690")),l.default.createElement("tr",null,l.default.createElement("td",null,"over 255 "),l.default.createElement("td",null,"\xa32000"),l.default.createElement("td",null,"\xa31990")))),l.default.createElement("p",{className:"ac-road-tax__info"},"The amount you pay each year after that depends on the type of fuel the vehicle uses."),l.default.createElement("table",{className:"ac-table ac-table__bordered"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Electric vehicle"),l.default.createElement("th",null,"Petrol or diesel"),l.default.createElement("th",null,"Alternative fuel"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"\xa30"),l.default.createElement("td",null,"\xa3140"),l.default.createElement("td",null,"\xa3130")))),l.default.createElement("p",{className:"ac-road-tax__info"},"Alternative fuel vehicles include hybrids, bi-ethanol and liquid petroleum gas."),l.default.createElement("h3",{className:"ch-h4"},"New vehicles that cost more than \xa340,000"),l.default.createElement("p",{className:"ac-road-tax__info"},"After the first 12 months, you\u2019ll pay a rate based on the fuel the vehicle uses and an additional rate of \xa3310 a year for the next 5 years."),l.default.createElement("table",{className:"ac-table ac-table__bordered"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Fuel type"),l.default.createElement("th",null,"Standard annual rate"),l.default.createElement("th",null,"Additional rate"),l.default.createElement("th",null,"Total annual payment"))),l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Electric"),l.default.createElement("td",null,"\xa30"),l.default.createElement("td",null,"\xa3310"),l.default.createElement("td",null,"\xa3310")),l.default.createElement("tr",null,l.default.createElement("td",null,"Alternative"),l.default.createElement("td",null,"\xa3130"),l.default.createElement("td",null,"\xa3310"),l.default.createElement("td",null,"\xa3440")),l.default.createElement("tr",null,l.default.createElement("td",null,"Petrol or diesel"),l.default.createElement("td",null,"\xa3140"),l.default.createElement("td",null,"\xa3310"),l.default.createElement("td",null,"\xa3450")))),l.default.createElement("p",{className:"ac-road-tax__info"},"This information is based on the Vehicle tax rates as described by GOV.UK"," "),l.default.createElement("p",null,"Source:"," ",l.default.createElement("a",{href:"https://www.gov.uk/vehicle-tax-rate-tables/overview"},"https://www.gov.uk/vehicle-tax-rate-tables/overview")))))):null}}]),t}();p.displayName="ComplianceWarning",p.propTypes={showExBusinessWarning:i.default.bool,showMPGWarning:i.default.bool,showTaxWarning:i.default.bool},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={delivery:n.props.delivery},n.updateSelectedDeliveryBranch=function(e){return n.setState({delivery:e})},n.removeDeliveryBranch=function(){return n.setState({delivery:""})},n.openDeliveryCentresModal=function(e){e.preventDefault(),i.default.emit("openModal","delivery-centres-modal")},n.emitResetEvent=function(e){e.preventDefault(),i.default.emit("deliveryCentreRemove")},n.modalLink=function(e){return l.default.createElement("a",{ref:"deliveryLink",href:"#",className:"gtm-track",onClick:n.openDeliveryCentresModal,"data-category":"Delivery Centres","data-action":"Clicked delivery link","data-label":"Check if this car can be delivered"},e)},n.renderText=function(){return n.state.delivery.presentation?n.modalLink(n.state.delivery.vehicleLocationText):n.props.delivery.zone?void 0:n.modalLink("Check if this car can be delivered")},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.on("deliveryLinkUpdate",this.updateSelectedDeliveryBranch),i.default.on("deliveryCentreRemove",this.removeDeliveryBranch)}},{key:"render",value:function(){return l.default.createElement("div",{className:"ac-delivery__link js-off--hide"},this.renderText())}}]),t}();u.displayName="DeliveryCentreLink",u.propTypes={delivery:o.default.object},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getValueFromString=function(e){return parseFloat(e.replace(/[\xa3,]/g,""))},n.submitEnquiryForm=function(){n.form.submit()},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.on("submitEnquiryForm",this.submitEnquiryForm)}},{key:"financeCalculated",value:function(){if(!this.props.finance.selectedFinance)return!1;var e=this.props.finance.selectedFinance;return this.props.finance[e].hasOwnProperty("calculator")}},{key:"render",value:function(){var e=this;return l.default.createElement("form",{action:this.props.enquiryPath,id:"enquiry_params",method:"POST",ref:function(t){return e.form=t}},l.default.createElement("input",{type:"hidden",value:this.props.authenticityToken,name:"authenticity_token"}),l.default.createElement("input",{type:"hidden",value:this.props.enquiry.dealbuilder,name:"enquiry[dealbuilder]"}),this.props.enquiry.deliveryCentre&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.deliveryCentre.id,name:"enquiry[delivery_centre_id]"}),l.default.createElement("input",{type:"hidden",value:this.props.enquiry.interestedInFinance,name:"enquiry[interested_in_finance]"}),l.default.createElement("input",{type:"hidden",value:this.financeCalculated(),name:"enquiry[enquiry_finance_attributes][calculated]"}),this.props.enquiry.finance.Description&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance.Description,name:"enquiry[enquiry_finance_attributes][description]"}),this.props.enquiry.finance["Monthly payment"]&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance["Monthly payment"],name:"enquiry[enquiry_finance_attributes][monthly_payment]"}),(this.props.enquiry.finance.Deposit||0===this.props.enquiry.finance.Deposit)&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance.Deposit,name:"enquiry[enquiry_finance_attributes][deposit]"}),this.props.enquiry.finance["Term (months)"]&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance["Term (months)"],name:"enquiry[enquiry_finance_attributes][term]"}),this.props.enquiry.finance["Annual mileage"]&&l.default.createElement("input",{type:"hidden",value:this.getValueFromString(this.props.enquiry.finance["Annual mileage"]),name:"enquiry[enquiry_finance_attributes][annual_mileage]"}),this.props.enquiry.finance["Guaranteed future value"]&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance["Guaranteed future value"],name:"enquiry[enquiry_finance_attributes][guaranteed_future_value]"}),this.props.enquiry.finance["Completion fee"]&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance["Completion fee"],name:"enquiry[enquiry_finance_attributes][completion_fee]"}),this.props.enquiry.finance["Fixed interest rate"]&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance["Fixed interest rate"],name:"enquiry[enquiry_finance_attributes][fixed_interest_rate]"}),this.props.enquiry.finance.apr&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance.apr,name:"enquiry[enquiry_finance_attributes][apr]"}),this.props.enquiry.finance["Excess mileage charge"]&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.finance["Excess mileage charge"],name:"enquiry[enquiry_finance_attributes][excess_mileage_charge]"}),this.props.enquiry.partExchange&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.partExchange.mileage,name:"enquiry[enquiry_part_exchange_attributes][mileage]"}),this.props.enquiry.partExchange&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.partExchange.registration,name:"enquiry[enquiry_part_exchange_attributes][registration]"}),this.props.enquiry.partExchange&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.partExchange.valuation,name:"enquiry[enquiry_part_exchange_attributes][valuation]"}),this.props.enquiry.partExchange&&l.default.createElement("input",{type:"hidden",value:this.props.enquiry.partExchange.settlementFigure,name:"enquiry[enquiry_part_exchange_attributes][settlement_figure]"}))}}]),t}();u.displayName="EnquiryParams",u.propTypes={authenticityToken:o.default.string,enquiry:o.default.object,enquiryPath:o.default.string,finance:o.default.object},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(8)),s=c(a(36));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={allowFullHeight:!1,isCollapsed:!0},n.scrollToSummaryTop=function(){var e=document.querySelector("[data-element=featured-spec]");s.default.scrollToElement(e)},n.toggleSpecCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed}),n.state.isCollapsed||n.scrollToSummaryTop()},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.refs.specList.scrollHeight<=360&&this.setState({allowFullHeight:!0})}},{key:"render",value:function(){return l.default.createElement("div",{"data-element":"featured-spec"},l.default.createElement("ul",{ref:"specList",className:(0,i.default)("ch-clearfix ch-list ac-product__featured",{"ac-product__featured--collapsed":this.state.isCollapsed},{"ac-product__featured--full-height":this.state.allowFullHeight})},this.props.hotSpec.map(function(e,t){return l.default.createElement("li",{key:t,ref:"hotSpecListItem"+t},e)}),this.props.featuredSpec.map(function(e,t){return l.default.createElement("li",{key:t,ref:"featuredSpecListItem"+t},e)})),l.default.createElement("button",{ref:"showMore",className:"ch-btn ch-btn--block ch-btn--sm ch-btn--link js-off--hide ac-product__featured-show-more",onClick:this.toggleSpecCollapsed},this.state.isCollapsed?"Show more":"Show less"))}}]),t}();p.propTypes={featuredSpec:o.default.array,hotSpec:o.default.array},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(199)),l=o(a(200));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"ch-row","data-element":"independent-review"},n.default.createElement("div",{className:"sm:ch-col--6"},n.default.createElement("h3",{className:"ac-independent-review__heading"},"Independent review")),n.default.createElement("div",{className:"sm:ch-col--6"},n.default.createElement("p",{className:"ac-independent-review__provider"},"Review courtesy of Car and Driving")),n.default.createElement("div",{className:"sm:ch-col--8"},e.videoUrl&&n.default.createElement(r.default,{videoUrl:e.videoUrl,placeholderImage:e.images.large[0]}),e.reviewContentMarkup&&n.default.createElement("span",null,n.default.createElement("h3",null,e.manufacturer," ",e.model),n.default.createElement(l.default,{reviewContentMarkup:e.reviewContentMarkup}))),n.default.createElement("div",{className:"sm:ch-col--4"},n.default.createElement("div",{className:"ch-clearfix ac-independent-review__photos"},n.default.createElement("div",{className:"ch-row ac-row--compact"},e.images.small.map(function(t,a){return n.default.createElement("a",{href:e.images.large[a],className:"xs:ch-col--6 ac-col--compact",target:"_blank",key:t},n.default.createElement("img",{src:t,alt:"",className:"ch-img--responsive ac-independent-review__photo-thumbnail"}))}))),e.scores&&n.default.createElement("dl",{className:"ac-independent-review__scores"},Object.keys(e.scores).map(function(t){return n.default.createElement("span",{key:t},n.default.createElement("dt",{className:"ac-independent-review__score-category"},t),n.default.createElement("dd",{className:"ac-independent-review__score"},e.scores[t]),n.default.createElement("dd",{className:"ac-independent-review__score-bar"},n.default.createElement("span",{style:{width:e.scores[t]}})))}))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={userRequestedVideo:!1},n.userRequestedVideo=function(){n.setState({userRequestedVideo:!0})},n.renderVideo=function(){return n.state.userRequestedVideo?l.default.createElement("iframe",{ref:"iframe",src:n.props.videoUrl+"&responsive=true&autostart=true",allowFullScreen:!0}):l.default.createElement("div",{ref:"placeholder",className:"ac-independent-review__video-placeholder gtm-track",style:{backgroundImage:'url("'+n.props.placeholderImage+'")'},onClick:n.userRequestedVideo,"data-category":"Independent review","data-action":"Played video","data-label":"Played video"})},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-independent-review__video ac-product__video-wrapper js-off--hide"},this.renderVideo())}}]),t}();c.propTypes={placeholderImage:o.default.string,videoUrl:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(8)),s=c(a(36));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isCollapsed:!0},n.toggleContentCollapsed=function(){n.state.isCollapsed||n.scrollToReviewTop(),n.setState({isCollapsed:!n.state.isCollapsed})},n.scrollToReviewTop=function(){var e=document.querySelector("[data-element=independent-review]");s.default.scrollToElement(e)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{ref:"reviewContent",className:(0,i.default)("ac-independent-review__content",{"ac-independent-review__content--collapsed":this.state.isCollapsed}),dangerouslySetInnerHTML:{__html:this.props.reviewContentMarkup}}),l.default.createElement("button",{ref:"showMore",type:"button",className:"ch-btn ch-btn--block ch-btn--sm ch-btn--link ac-independent-review__show-more js-off--hide gtm-track",onClick:this.toggleContentCollapsed,"data-category":"Independent review","data-action":"Expanded review","data-label":"Expanded review"},this.state.isCollapsed?"Show more":"Show less"))}}]),t}();p.propTypes={reviewContentMarkup:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=f(r),o=f(a(16)),i=f(a(8)),s=f(a(4)),c=f(a(3)),u=f(a(20)),p=f(a(12));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,f=Array(r),h=0;h<r;h++)f[h]=arguments[h];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),n.state={liveChatAvailable:!1,loading:!1,responseErrorMessage:"",showWhatsNext:!1,valuation:"",vehicle:""},n.liveChatAvailable=function(){n.setState({liveChatAvailable:!0})},n.requestValuation=function(e){e.preventDefault(),c.default.dataPush("PartExchangeVehicleRegistration",n.refs.registration.value),c.default.dataPush("PartExchangeVehicleMileage",n.refs.mileage.value),n.setState({loading:!0},n.makeAjaxRequest)},n.makeAjaxRequest=function(){o.default.post("/api/valuation.json").query({registration:n.refs.registration.value,mileage:n.refs.mileage.value}).end(function(e,t){return e?n.setError(e):t.ok?n.updateValuation(t.body):void 0})},n.updateValuation=function(e){s.default.emit("partExchangeValuationUpdated",{mileage:n.refs.mileage.value,registration:n.refs.registration.value,valuation:e.valuation}),c.default.dataPush("PartExchangeVehicleName",e.title),c.default.dataPush("PartExchangeVehicleValuation",e.valuation),c.default.event("Vehicle Page","Vehicle Valuation","Part Exchange"),n.setState({loading:!1,valuation:e.valuation,vehicle:e.title})},n.resetValuation=function(){s.default.emit("partExchangeValuationRemoved"),n.setState({responseErrorMessage:"",valuation:"",vehicle:""}),c.default.dataPush("PartExchangeVehicleRegistration",""),c.default.dataPush("PartExchangeVehicleMileage",""),c.default.dataPush("PartExchangeVehicleName",""),c.default.dataPush("PartExchangeVehicleValuation","")},n.setError=function(e){if(406===e.status)return c.default.event("Vehicle Page","Vehicle Valuation Failed","Part Exchange"),n.setState({loading:!1,responseErrorMessage:"Sorry, we couldn\u2019t value that vehicle online. Please get in touch to arrange a comprehensive valuation."});n.setState({loading:!1,responseErrorMessage:"Sorry, there was a problem getting your valuation. Please try again later."})},n.toggleWhatsNext=function(){n.setState({showWhatsNext:!n.state.showWhatsNext})},n.openAssumptionsModal=function(){s.default.emit("openModal","part-exchange-assumptions")},n.initiateLiveChat=function(){s.default.emit("initiateLiveChat")},n.renderForm=function(){return l.default.createElement("div",{className:"ch-container"},l.default.createElement("div",{className:"js-off--hide ac-partexchange ac-partexchange--home"},l.default.createElement("h2",{className:"ch-h3"},"Part exchange your car"),l.default.createElement("div",{className:"ch-row"},l.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--7"},l.default.createElement("p",{className:"ac-partexchange__intro"},"See how much your current car is worth by entering your registration number and mileage below.")),l.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--6"},l.default.createElement("div",{className:"ac-partexchange__inset"},n.renderErrorMessage(),l.default.createElement("form",{ref:"form",onSubmit:n.requestValuation},l.default.createElement("div",{className:"ch-row ac-row--compact"},l.default.createElement("div",{className:"ch-cl--xs-12 sm:ch-col--6 ac-col--compact"},l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"registration",className:"ch-reader"},"Registration"),l.default.createElement("input",{ref:"registration",name:"registration",placeholder:"Registration",className:"ch-form__control",required:!0}))),l.default.createElement("div",{className:"ch-cl--xs-12 sm:ch-col--6 ac-col--compact"},l.default.createElement("div",{className:"ch-form__group"},l.default.createElement("label",{htmlFor:"mileage",className:"ch-reader"},"Mileage"),l.default.createElement("input",{ref:"mileage",name:"mileage",placeholder:"Mileage",type:"number",className:"ch-form__control",required:!0})))),l.default.createElement("button",{type:"submit",className:(0,i.default)("ch-btn ch-btn--cta",{"ac-partexchange__valuation-btn--loading":n.state.loading})},"Get your valuation")))))))},n.renderErrorMessage=function(){if(n.state.responseErrorMessage)return l.default.createElement("div",{className:"ac-partexchange__error",ref:"error"},n.state.responseErrorMessage)},n.renderValuation=function(){return l.default.createElement("div",{className:"ch-container"},l.default.createElement("div",{className:"ac-partexchange"},l.default.createElement("h2",{className:"ch-h3"},"Part exchange your car"),l.default.createElement("div",{className:"ch-row"},l.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--6"},l.default.createElement("div",{ref:"valuation",className:"ch-text--center"},l.default.createElement("div",{className:"ac-partexchange__inset"},l.default.createElement("p",{className:"ac-partexchange__vehicle"},n.state.vehicle),l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--link ac-partexchange__wrong-car",onClick:n.resetValuation},"This isn\u2019t my car"),l.default.createElement("p",{className:"ac-partexchange__value"},l.default.createElement(p.default,{amount:n.state.valuation})),n.renderAssumptionsModal(),l.default.createElement("p",{className:"ac-partexchange__disclaimer"},"This valuation is an estimate based on"," ",l.default.createElement("button",{type:"button",className:"ch-btn ch-btn--link ac-partexchange__assumptions",onClick:n.openAssumptionsModal},"some assumptions")," ","we\u2019ve made and is subject to checks by our staff."),l.default.createElement("div",{className:"ac-partexchange__enquire"},l.default.createElement("button",{ref:"enquireButton",type:"button",onClick:n.submitEnquiryParamsForm,className:"ch-btn ch-btn--success gtm-track","data-category":"Button","data-action":"Click","data-label":"Enquire now (part exchange)"},"Send an enquiry"),n.renderLiveChatButton())),l.default.createElement("div",{className:"ac-partexchange__toggle"},l.default.createElement("button",{type:"button",className:"ch-btn ch-btm--sm ch-btn--link",onClick:n.toggleWhatsNext},"What happens next?")))),l.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--6"},l.default.createElement("div",{className:(0,i.default)("ac-partexchange__whatsnext",{"ac-partexchange__whatsnext--active":n.state.showWhatsNext})},l.default.createElement("h3",null,"What happens next?"),l.default.createElement("p",null,"You can discuss this valuation further by sending an enquiry or starting a live chat. A member of our team will be happy to answer any questions you have."),l.default.createElement("div",{className:"ac-partexchange__toggle"},l.default.createElement("button",{type:"button",className:"ch-btn ch-btm--sm ch-btn--link",onClick:n.toggleWhatsNext},"Back to valuation")))))))},n.renderAssumptionsModal=function(){return l.default.createElement(u.default,{id:"part-exchange-assumptions"},l.default.createElement("div",{className:"ac-modal ac-modal--wide ac-modal--padding ac-partexchange__assumptions-modal"},l.default.createElement("h1",null,"Assumptions we\u2019ve made about your car"),l.default.createElement("div",{className:"ch-row"},l.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--6"},l.default.createElement("ul",{className:"ch-list"},l.default.createElement("li",null,"You are the first owner"),l.default.createElement("li",null,"It has a full service history"),l.default.createElement("li",null,"Its MOT is valid for 30 days or more"),l.default.createElement("li",null,"It isn\u2019t an import"),l.default.createElement("li",null,"It isn\u2019t an insurance total loss"),l.default.createElement("li",null,"It has two keys"),l.default.createElement("li",null,"It doesn\u2019t have a full leather interior"))),l.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--6"},l.default.createElement("ul",{className:"ch-list"},l.default.createElement("li",null,"It doesn\u2019t have a manufacturer fitted sat nav"),l.default.createElement("li",null,"It doesn\u2019t have a personalised registration plate"),l.default.createElement("li",null,"It isn\u2019t a non-runner"),l.default.createElement("li",null,"It hasn\u2019t been used as a private hire, rental, tuition or police vehicle"))),l.default.createElement("div",{className:"xs:ch-col--12"},l.default.createElement("div",{className:"ac-partexchange--assumpions-disclaimer"},"If any of these assumptions are incorrect, please bring it up with a member of staff in branch.")))))},n.renderLiveChatButton=function(){if(n.state.liveChatAvailable)return l.default.createElement("button",{type:"button",onClick:n.initiateLiveChat,className:"ch-btn ch-btn--secondary gtm-track","data-category":"Vehicle Sales Funnel","data-action":"Live Chat","data-label":"Part exchange"},"Start a live chat")},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){s.default.on("liveChatAvailable",this.liveChatAvailable)}},{key:"submitEnquiryParamsForm",value:function(){s.default.emit("submitEnquiryForm")}},{key:"render",value:function(){return this.state.valuation?this.renderValuation():this.renderForm()}}]),t}();t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=O(l),i=O(a(118)),s=O(a(79)),c=O(a(90)),u=O(a(195)),p=O(a(93)),f=O(a(89)),d=O(a(203)),h=O(a(192)),m=O(a(129)),y=O(a(68)),b=O(a(86)),v=O(a(65)),_=O(a(87)),g=O(a(84)),E=O(a(193)),w=O(a(204));function O(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var N=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.renderResultsBanner=function(){if(n.props.gearboxBanner)return o.default.createElement(g.default,{backgroundColor:n.props.gearboxBanner.background_color,borderColor:n.props.gearboxBanner.border_color,linkText:n.props.gearboxBanner.call_to_action_text,linkTextColor:n.props.gearboxBanner.call_to_action_color,linkUrl:n.props.gearboxBanner.call_to_action_url,name:"gearbox-banner",target:"_blank",textBold:n.props.gearboxBanner.bold_text,textBoldColor:n.props.gearboxBanner.bold_text_color,textColor:n.props.gearboxBanner.text_color,textOne:n.props.gearboxBanner.text_one,textTwo:n.props.gearboxBanner.text_two})},k(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"ac-productheader__wrapper"},this.renderResultsBanner(),o.default.createElement("div",{className:"ch-container"},o.default.createElement("div",{className:"ac-productheader__image-wrapper"},o.default.createElement(i.default,null),o.default.createElement(s.default,{imageCount:this.props.photos.length,imagePath:this.props.photos[0],isAvailableSoon:this.props.isAvailableSoon,isAwaitingImages:this.props.isAwaitingImages,isReserved:this.props.isReserved,isStaffOffer:this.props.isStaffOffer,launchImageGallery:!0,originPage:"Product",photos:this.props.photos,thumbnails:this.props.thumbnails}),o.default.createElement(c.default,{citnowVideo:this.props.citnowVideo,originPage:"Product",stockReference:this.props.stockReference,videoWalkaround:this.props.videoWalkaround})),o.default.createElement("div",{className:"ac-productheader__content-wrapper"},o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"xs:ch-col--12"},o.default.createElement("div",{className:"ac-productheader__heading-wrapper"},o.default.createElement("h1",{className:"ac-vehicle__title"},this.props.plate," ",this.props.make," ",this.props.model,o.default.createElement("small",{className:"ac-vehicle__title-variant"},this.props.variant)),o.default.createElement(E.default,{name:this.props.branch.name,presentation:this.props.delivery.presentation,isEligibleForDelivery:this.props.isEligibleForDelivery,url:this.props.branch.url}),this.props.isEligibleForDelivery&&o.default.createElement(u.default,{delivery:this.props.delivery}),this.props.isEligibleForDelivery&&o.default.createElement(p.default,{branch:this.props.branch,delivery:this.props.delivery}))),this.props.reservationAvailable&&this.props.isEligibleForDealBuilder&&this.props.finance.selectedFinance&&o.default.createElement("div",{className:"xs:ch-col--12"},o.default.createElement(w.default,{scarcityValue:this.props.scarcityValue})),o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--7"},this.props.isReserved&&o.default.createElement(f.default,{enquiryUrl:this.props.enquiryUrl,make:this.props.make,model:this.props.model}),!this.props.isReserved&&o.default.createElement("div",{className:"ch-clearfix ac-productheader__pricing-wrapper"},o.default.createElement(d.default,n({},this.props.pricing,{isBusinessContractHire:this.props.isBusinessContractHire})),this.props.finance.hp&&this.props.finance.hp.hasOwnProperty("calculator")&&o.default.createElement("div",{className:"js-off--hide"},o.default.createElement(h.default,{anchorId:"finance",linkText:"Customise this car's finance"}))),this.props.isEligibleForDealBuilder&&this.props.finance.selectedFinance&&o.default.createElement("div",{className:"db-product-link__mobile-wrapper js-off--hide"},o.default.createElement(_.default,{nextSlot:this.props.testDrive.nextSlot,reservationAvailable:this.props.reservationAvailable,testDriveAvailable:this.props.testDrive.bookable})),this.props.isValueRange&&o.default.createElement("div",{className:"ac-promotion__container"},o.default.createElement(m.default,null)),this.props.finance.pcp&&!this.props.finance.pcp.hasOwnProperty("calculator")&&!this.props.isReserved&&o.default.createElement("div",{className:"ac-promotion__container"},o.default.createElement(h.default,{anchorId:"finance",linkText:"Finance your car with PCP"}))),o.default.createElement("div",{className:"xs:ch-col--12 md:ch-col--5"},o.default.createElement("div",{className:"ac-product__ctas"},this.props.phoneNumber&&o.default.createElement("p",null,"Call now on"," ",o.default.createElement(y.default,{number:this.props.phoneNumber,additionalClasses:"ac-product__ctas-phone"}),"*"),o.default.createElement("button",{type:"button",onClick:this.props.submitEnquiryParamsForm,className:"js-off--hide ch-btn ch-btn--cta ch-btn--block gtm-track","data-category":"Button","data-action":"Click","data-label":"Enquire now"},"Enquire now"),o.default.createElement("a",{href:this.props.enquiryPath,className:"js-on--hide ch-btn ch-btn--cta ch-btn--block"},"Enquire now"),o.default.createElement(b.default,{additionalClasses:"ac-chatbutton--header ch-btn--secondary ch-btn--sm ch-btn--block",buttonText:"Questions? Chat now",eventLabel:"Header Button CTA"})))),o.default.createElement("div",{className:"ac-productheader__shortlist-wrapper"},o.default.createElement(v.default,{stockReference:this.props.stockReference})))))}}]),t}();N.displayName="ProductHeader",t.default=N},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=h(r),o=h(a(1)),i=h(a(56)),s=h(a(58)),c=h(a(57)),u=h(a(126)),p=h(a(125)),f=h(a(127)),d=h(a(128));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.hideCashPrice=function(){return 0===n.props.cashPrice&&(n.props.businessVehicle||n.props.isBusinessContractHire)},n.renderFinance=function(){return n.props.monthlyPayment?l.default.createElement("div",{className:"ch-clearfix ac-pricing__finance"},l.default.createElement("div",{className:"ac-pricing__deposit-wrapper"},l.default.createElement(u.default,{ref:"deposit",amount:n.props.deposit,isBusinessContractHire:n.props.isBusinessContractHire})),l.default.createElement("div",{className:"ac-pricing__monthly-wrapper"},l.default.createElement(c.default,{ref:"monthlyPayment",amount:n.props.monthlyPayment,showTooltip:n.props.showTooltip,stockReference:n.props.stockReference}),n.props.businessVehicle&&n.props.businessContractHire&&l.default.createElement("span",{className:"ac-pricing__extras"},n.props.extras))):null},m(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ac-pricing"},l.default.createElement("div",{className:"ac-pricing__additional-pricing"},this.props.costNewPrice&&l.default.createElement(p.default,{ref:"costnew",amount:this.props.costNewPrice}),this.props.listPrice&&l.default.createElement(f.default,{amount:this.props.listPrice}),this.props.preSalePrice&&l.default.createElement(d.default,{amount:this.props.preSalePrice})),!this.hideCashPrice()&&l.default.createElement(i.default,{ref:"cashprice",amount:this.props.cashPrice,prefix:this.props.cashPricePrefix,suffix:this.props.extras,businessVehicle:this.props.businessVehicle}),this.props.saving&&l.default.createElement(s.default,{ref:"saving",amount:this.props.saving,prefix:this.props.savingPrefix,suffix:this.props.savingSuffix}),this.renderFinance())}}]),t}();y.propTypes={businessContractHire:o.default.bool,businessVehicle:o.default.bool,cashPrice:o.default.number,cashPricePrefix:o.default.string,costNewPrice:o.default.number,deposit:o.default.number,extras:o.default.string,isBusinessContractHire:o.default.bool,listPrice:o.default.number,monthlyPayment:o.default.number,preSalePrice:o.default.number,saving:o.default.number,savingPrefix:o.default.string,savingSuffix:o.default.string,showTooltip:o.default.bool,stockReference:o.default.string},t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.openDealBuilderModal=function(){s.default.event("UX - Deal Builder","Opened deal builder","Opened deal builder (reserve now)"),i.default.emit("openModal","deal-builder")},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"scarcity-container ch-pa--2 ch-mb--3"},l.default.createElement("div",null,l.default.createElement("p",{className:"ch-text--bold ch-color--ac-red ch-mb--1 scarcity-alert md:ch-text--left"},this.props.scarcityValue+" people looked at this vehicle in the last 24 hours"),l.default.createElement("p",{className:"ch-fs--3 ch-mb--1 md:ch-text--left"},"Reserve this car for a refundable fee of"," ",l.default.createElement("span",{className:"ch-text--bold ch"},"\xa399"))),l.default.createElement("a",{className:"ch-btn--link ch-fs--3 scarcity-reserve__link",onClick:this.openDealBuilderModal},"Reserve now"))}}]),t}();p.propTypes={scarcityValue:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(197)),l=o(a(198));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"ch-container"},n.default.createElement("div",{className:"ac-tabs"},n.default.createElement("input",{className:"ac-tab__radio",id:"tab1",type:"radio",name:"tabs",defaultChecked:!0}),n.default.createElement("label",{className:"ac-tab",htmlFor:"tab1"},"Summary"),n.default.createElement("input",{className:"ac-tab__radio",id:"tab2",type:"radio",name:"tabs"}),e.specification.standard&&n.default.createElement("label",{className:"ac-tab",htmlFor:"tab2"},"Standard",n.default.createElement("span",{className:"ac-hidden--sl"}," specification")),n.default.createElement("input",{className:"ac-tab__radio",id:"tab3",type:"radio",name:"tabs"}),e.specification.technical&&n.default.createElement("label",{className:"ac-tab",htmlFor:"tab3"},"Tech",n.default.createElement("span",{className:"ac-hidden--sl"},"nical specification")),n.default.createElement("input",{className:"ac-tab__radio",id:"tab4",type:"radio",name:"tabs"}),e.independentReview&&n.default.createElement("label",{className:"ac-tab ac-tab--review",htmlFor:"tab4"},n.default.createElement("span",{className:"ac-hidden--sl"},"Independent "),"review"),n.default.createElement("div",{className:"ac-tabs__panel",id:"content1"},n.default.createElement("div",{className:"ch-row"},n.default.createElement("div",{className:"xs:ch-col--12 sm:ch-col--6 lg:ch-col--5 print-container--vehicle-summary"},n.default.createElement("h3",null,"Vehicle summary"),n.default.createElement("table",{className:"ch-clearfix ac-product__summary"},n.default.createElement("tbody",null,Object.keys(e.specification.summary).map(function(t){return n.default.createElement("tr",{key:t},n.default.createElement("th",null,t),n.default.createElement("td",null,e.specification.summary[t]))})))),n.default.createElement("div",{className:"xs:ch-col--12 sm:ch-col--6 lg:ch-col--7 ac-product__featured"},n.default.createElement("h3",null,"Featured specification"),e.specification.hotSpec.length>0||e.specification.featured.length>0?n.default.createElement(r.default,{hotSpec:e.specification.hotSpec,featuredSpec:e.specification.featured}):e.specification.noFeaturedSpecText))),e.specification.standard&&n.default.createElement("div",{className:"ac-tabs__panel ac-spec__standard",id:"content2"},n.default.createElement("h3",{className:"ac-spec__caplabel"},"Standard specification"),n.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.specification.standard}}),n.default.createElement("small",{className:"ac-type--book"},"The vehicle information above was correct at time of manufacture. Please speak to the dealership for full current specification.")),e.specification.technical&&n.default.createElement("div",{className:"ac-tabs__panel ac-spec__tech",id:"content3"},n.default.createElement("h3",{className:"ac-spec__caplabel"},"Technical specification"),n.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.specification.technical}}),n.default.createElement("small",{className:"ac-type--book"},"The vehicle information above was correct at time of manufacture. Please speak to the dealership for full current specification.")),e.independentReview&&n.default.createElement("div",{className:"ac-tabs__panel",id:"content4"},n.default.createElement(l.default,e.independentReview))))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(4)),s=c(a(114));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.openRatingModal=function(e){e.preventDefault(),i.default.emit("openModal","rating")},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{ref:"link",className:"ac-branch__rating",onClick:this.openRatingModal},l.default.createElement("span",{className:"ac-branch__rating-text",ref:"ratingText"},this.props.rating?"Sales rating":"Sales rating coming soon"),this.props.rating&&l.default.createElement("span",null,l.default.createElement(s.default,{rating:this.props.rating}),l.default.createElement("span",{className:"ac-branch__rating-value",ref:"ratingValue"},this.props.rating)))}}]),t}();p.displayName="BranchRating",p.propTypes={rating:o.default.number},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(0)),r=l(a(20));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement(r.default,{id:"rating"},n.default.createElement("div",{className:"ac-modal ac-modal--padding ac-modal--mobile-full"},n.default.createElement("h3",null,"Our star ratings explained"),n.default.createElement("p",null,"Nothing provides a clearer picture of how good our customer service is than direct undiluted feedback from real customers. That\u2019s why we use the Arnold Clark Star Rating system. This gives each dealership a regularly assessed rating out of 5 that you can see at a glance. Here\u2019s how it works."),n.default.createElement("p",null,"The Star Rating is based on an email survey that we ask customers to complete 10 days after they have taken delivery of their vehicle. The Survey then needs to be returned to us within 14 days. To ensure that results are founded on a good number of current responses, we update Star Ratings every month, based on the previous four months of completed Surveys."),n.default.createElement("p",null,"So if you were to look at our current dealership Star Ratings they would be based on feedback from ",n.default.createElement("strong",null,"52,451 customers")," who bought their vehicle between"," ",n.default.createElement("strong",null,"1st July to 31st October 2017"),", providing an average score across our dealerships of ",n.default.createElement("strong",null,"95.90%")," and a Star Rating of ",n.default.createElement("strong",null,"4.8")," out of 5. A group of customers this size gives you an accurate and credible picture of customer service at Arnold Clark, delivered by the people best placed to evaluate it.")))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=(n=l)&&n.__esModule?n:{default:n};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isOpen:!0},n.closeBanner=function(){return n.setState({isOpen:!1})},i(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){return this.state.isOpen?o.default.createElement("div",{className:"ch-pv--2 ac-cookies"},o.default.createElement("div",{className:"ch-container"},o.default.createElement("p",{className:"ch-lh--body ch-mr--2 ch-mb--0"},"Cookies help us give you the best possible online experience. Read our ",o.default.createElement("a",{href:"/cookies"},"cookie policy"),"."),o.default.createElement("button",{className:"ac-cookies__close",onClick:this.closeBanner,type:"button"},o.default.createElement("span",{className:"ch-reader"},"Close")))):null}}]),t}();s.displayName="CookieBanner",t.default=s},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=u(l),i=u(a(15)),s=u(a(119)),c=u(a(121));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isBrowser:i.default.isBrowser()},n.updateWindowWidth=function(){n.setState({windowWidth:window.innerWidth})},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",this.updateWindowWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowWidth)}},{key:"render",value:function(){return this.state.isBrowser&&this.state.windowWidth<992?o.default.createElement(s.default,n({},this.props,{ref:"touchNav"})):o.default.createElement(c.default,{ref:"desktopNav"})}}]),t}();t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(133)),s=u(a(20)),c=u(a(67));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ch-clearfix ac-business-offers__wrapper"},this.props.specialOffers.map(function(e){return l.default.createElement("div",{className:"sm:ch-col--6 md:ch-col--4 lg:ch-col--3 ac-business-offer__wrapper",key:e.stockReference},l.default.createElement("div",{className:"ch-clearfix ac-business-offer__card"},l.default.createElement(i.default,e)))}),l.default.createElement(s.default,{id:"finance-illustration"},l.default.createElement(c.default,null)))}}]),t}();p.propTypes={specialOffers:o.default.array},t.default=p},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(3)),s=u(a(171)),c=u(a(172));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.nextView=function(e){var t=e.wantsToReserve,a=e.wantsTestDrive;return t||a?"Your enquiry":"Next steps"},n.dealIsFinanceable=function(){return n.props.dealTotal>=3e3},n.enquiryHasFinance=function(){return n.props.enquiry.finance.hasOwnProperty("Monthly payment")},n.financeCalculationRequired=function(){return n.enquiryHasFinance()&&n.props.enquiry.finance["Deal price"]!==n.props.dealTotal&&n.dealIsFinanceable()},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){i.default.pageview("/dealbuilder/","Deal Builder")}},{key:"render",value:function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"db-summary"},l.default.createElement("div",{className:"db-modal__content"},l.default.createElement(s.default,{dealTotal:this.props.dealTotal}))),l.default.createElement("div",{className:"db-summary__footer"},l.default.createElement(c.default,{financeCalculationRequired:this.financeCalculationRequired(),loading:this.props.loading,saveDeal:this.props.saveDeal,next:this.nextView(this.props.enquiry),enquiry:this.props.enquiry})))}}]),t}();f.displayName="Summary",f.propTypes={dealTotal:o.default.number,enquiry:o.default.object,saveDeal:o.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=c(r),o=c(a(1)),i=c(a(37)),s=c(a(83));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isValid:!0},n.onSubmit=function(e){var t=!0;return n.refs.firstName.handleValidation()||(t=!1),n.refs.lastName.handleValidation()||(t=!1),n.refs.postcode.handleValidation()||(t=!1),n.refs.contactNumber.handleValidation()||(t=!1),n.refs.contactEmail.handleValidation()||(t=!1),n.refs.recaptcha.validate()||(t=!1),t?n.setState({isValid:!0}):(e.preventDefault(),n.setState({isValid:!1}))},n.renderFinanceHiddenFields=function(){if(n.props.finance)return l.default.createElement("div",null,l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][description]",value:n.props.finance.description,ref:"financeDescription"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][calculated]",value:n.props.finance.calculated,ref:"financeCalculated"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][term]",value:n.props.finance.term,ref:"financeTerm"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][deposit]",value:n.props.finance.deposit,ref:"financeDeposit"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][annual_mileage]",value:n.props.finance.annual_mileage,ref:"financeAnnualMileage"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][monthly_payment]",value:n.props.finance.monthly_payment,ref:"financeMonthlyPayment"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][guaranteed_future_value]",value:n.props.finance.guaranteed_future_value,ref:"financeGuaranteedFutureValue"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][completion_fee]",value:n.props.finance.completion_fee,ref:"financeCompletionFee"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][fixed_interest_rate]",value:n.props.finance.fixed_interest_rate,ref:"financeFixedInterestRate"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][apr]",value:n.props.finance.apr,ref:"financeAPR"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_finance_attributes][excess_mileage_charge]",value:n.props.finance.excess_mileage_charge,ref:"financeExcessMileageCharge"}))},n.renderPartExchangeHiddenFields=function(){if(n.props.partExchange)return l.default.createElement("div",null,l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_part_exchange_attributes][registration]",value:n.props.partExchange.registration,ref:"partExchangeRegistration"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_part_exchange_attributes][mileage]",value:n.props.partExchange.mileage,ref:"partExchangeMileage"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_part_exchange_attributes][valuation]",value:n.props.partExchange.valuation,ref:"partExchangeValuation"}),l.default.createElement("input",{type:"hidden",name:"enquiry[enquiry_part_exchange_attributes][settlement_figure]",value:n.props.partExchange.settlement_figure,ref:"partExchangeSettlementFigure"}))},n.renderFormError=function(){if(!n.state.isValid)return l.default.createElement("p",{ref:"errorMessage",className:"ac-enquiry-form__error-msg--show"},"Oops! Some of your information isn\u2019t quite right. Please correct the fields above.")},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("form",{ref:"form",className:"ch-form__group ac-well--contact-form",id:"new_enquiry",action:this.props.action,acceptCharset:"UTF-8",method:"post",onSubmit:this.onSubmit},l.default.createElement("input",{name:"utf8",type:"hidden",value:"\u2713"}),l.default.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.authenticityToken}),l.default.createElement("input",{type:"hidden",name:"enquiry[stock_reference]",value:this.props.stockReference}),l.default.createElement("input",{type:"hidden",name:"enquiry[interested_in_finance]",value:this.props.interestedInFinance,ref:"interestedInFinance"}),l.default.createElement("input",{type:"hidden",name:"enquiry[delivery_centre_id]",value:this.props.deliveryCentreId,ref:"deliveryCentreId"}),l.default.createElement("input",{type:"hidden",name:"enquiry[dealbuilder]",value:this.props.dealbuilder,ref:"dealbuilder"}),this.renderFinanceHiddenFields(),this.renderPartExchangeHiddenFields(),l.default.createElement("div",{className:"md:ch-col--7"},l.default.createElement("fieldset",{className:"ac-enquiry-form--set"},l.default.createElement("legend",{className:"ch-reader"},"Your name"),l.default.createElement(i.default,{ref:"firstName",inputName:"enquiry[first_name]",inputId:"enquiry_first_name",labelName:"First name",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize",requiresValidation:!0,errorMessage:"What is your first name?"}),l.default.createElement(i.default,{ref:"lastName",inputName:"enquiry[last_name]",inputId:"enquiry_last_name",labelName:"Last name",additionalInputClasses:"ac-enquiry-form__input ac-input--capitalize",requiresValidation:!0,errorMessage:"What is your last name?"}))),l.default.createElement("div",{className:"md:ch-col--8"},l.default.createElement("fieldset",{className:"ac-enquiry-form--set"},l.default.createElement("legend",{className:"ch-reader"},"Your contact details"),l.default.createElement(i.default,{ref:"postcode",inputName:"enquiry[postcode]",inputId:"enquiry_postcode",labelName:"Postcode",additionalInputClasses:"ac-enquiry-form__input ac-enquiry-form__input--sm ac-input--uppercase",requiresValidation:!0,description:"To help us find your nearest branch.",errorMessage:"Please enter a valid postcode."}),l.default.createElement(i.default,{ref:"contactNumber",inputName:"enquiry[contact_number]",inputId:"enquiry_contact_number",labelName:"Phone number",inputType:"tel",additionalInputClasses:"ac-enquiry-form__input ac-enquiry-form__input--md",requiresValidation:!0,description:"We\u2019ll give you a call to discuss your enquiry.",errorMessage:"Please enter a valid phone number."}),l.default.createElement(i.default,{ref:"contactEmail",inputName:"enquiry[contact_email]",inputId:"enquiry_contact_email",labelName:"Email address",inputType:"email",additionalInputClasses:"ac-enquiry-form__input",requiresEmailValidation:!0,description:"We\u2019ll send a confirmation email to this address. We won\u2019t spam you.",errorMessage:"Please enter a valid email address."}))),l.default.createElement("div",{className:"md:ch-col--12"},l.default.createElement("fieldset",{className:"ac-enquiry--form-set"},l.default.createElement("legend",{className:"ch-reader"},"Comments"),l.default.createElement("label",{htmlFor:"enquiry_comments",className:"ch-label"},"Your message (optional)"),l.default.createElement("span",{className:"ac-input__description"},"If you have a specific question or comment, let us know."),l.default.createElement("textarea",{name:"enquiry[comments]",id:"enquiry_comments",className:"ac-enquiry-form__textarea ac-enquiry-form__comments",rows:"4"}))),l.default.createElement("fieldset",{className:"md:ch-col--11"},l.default.createElement("legend",{className:"ch-reader"},"Your video and newsletter preferences"),l.default.createElement("div",{className:"ch-checkbox ac-enquiry-form__checkbox"},l.default.createElement("label",{htmlFor:"personalised_video_checkbox"},l.default.createElement("input",{name:"enquiry[request_personalised_video]",type:"checkbox",id:"personalised_video_checkbox",className:"ch-checkbox__input"}),l.default.createElement("span",{className:"ch-checkbox__switch"}),"Want a closer look? We\u2019ll make a video of this car, just for you.")),l.default.createElement("div",{className:"ch-checkbox ac-enquiry-form__checkbox"},l.default.createElement("label",{htmlFor:"newsletter"},l.default.createElement("input",{name:"enquiry[newsletter]",type:"checkbox",id:"newsletter",className:"ch-checkbox__input"}),l.default.createElement("span",{className:"ch-checkbox__switch"}),"Subscribe to our newsletter for exclusive offers.")),l.default.createElement("span",{className:"ac-input__description"},"Help us fight against online spam robots."),l.default.createElement(s.default,{ref:"recaptcha",className:"g-recaptcha",isTest:this.props.isTest,recaptchaSiteKey:this.props.recaptchaSiteKey,errorMessage:"Please complete the reCAPTCHA."}),this.renderFormError(),l.default.createElement("button",{ref:"submitButton",name:"button",type:"submit",className:"ch-btn ch-btn--cta ch-btn--lg"},"Send your enquiry")))}}]),t}();p.propTypes={action:o.default.string,authenticityToken:o.default.string,deliveryCentreId:o.default.number,finance:o.default.object,interestedInFinance:o.default.bool,isTest:o.default.bool,partExchange:o.default.object,recaptchaSiteKey:o.default.string,stockReference:o.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(8));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isCollapsed:!0,showIcons:!1},n.lazyLoadIcons=function(){window.pageYOffset>=500&&!1===n.state.showIcons&&(window.removeEventListener("scroll",n.lazyLoadIcons),n.setState({showIcons:!0}))},n.toggleListCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.lazyLoadIcons)}},{key:"render",value:function(){return l.default.createElement("div",{ref:"alsoFrom",className:(0,o.default)("ac-alsofrom",{"ac-alsofrom--collapsed":this.state.isCollapsed,"ac-alsofrom--showicons":this.state.showIcons})},l.default.createElement("h2",{className:"ch-h3"},"Also from Arnold"),l.default.createElement("div",{className:"ch-row"},l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--contact gtm-track",href:"/customer-services","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Contact us"},"Contact us")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--careers gtm-track",href:"/careers","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Careers"},"Careers")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--vans gtm-track",href:"/van-store","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Vanstore"},"Vanstore")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--insurance gtm-track",href:"/insurance","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Insurance"},"Insurance")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--news gtm-track",href:"/newsroom","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Car news"},"Car news")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--finance gtm-track",href:"/car-finance","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Car finance"},"Car finance")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--hire gtm-track",href:"//www.acvm.com",target:"_blank","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Contract hire"},"Contract hire")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--parts gtm-track",href:"//www.autopartsuk.com",target:"_blank","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Parts"},"Parts")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--sales gtm-track",href:"/new-vans",target:"_blank","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"New vans"},"New vans")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--motability gtm-track",href:"/motability","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Motability"},"Motability")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--accessories gtm-track",href:"/servicing/accessories","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Accessories"},"Accessories")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--training gtm-track",href:"//www.gtg.co.uk",target:"_blank","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Training"},"Training")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--sell gtm-track",href:"/sell","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Sell your car"},"Sell your car")),l.default.createElement("div",{className:"sl:ch-col--6 lg:ch-col--4 ac-alsofrom__item"},l.default.createElement("a",{className:"ch-btn ch-btn--block ac-alsofrom__link ac-alsofrom__link--rental gtm-track",href:"//www.arnoldclarkrental.com",target:"_blank","data-category":"UX - Homepage","data-action":"Clicked Also From link","data-label":"Rental"},"Rental"))),l.default.createElement("button",{ref:"moreLink",type:"button",className:"ch-btn ch-btn--sm ch-btn--block ch-btn--link js-off--hide ac-alsofrom__more",onClick:this.toggleListCollapsed},this.state.isCollapsed?"Show more":"Show less"))}}]),t}();t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=u(r),o=u(a(1)),i=u(a(8)),s=u(a(15)),c=u(a(3));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isBrowser:s.default.isBrowser(),budgetPopupVisible:!1,paymentType:n.props.paymentType,minMonthlyOptions:n.props.monthlyOptions,maxMonthlyOptions:n.props.monthlyOptions,minCashOptions:n.props.cashOptions,maxCashOptions:n.props.cashOptions,minMonthlyValue:"",maxMonthlyValue:"",minCashValue:"",maxCashValue:""},n.onPayMonthly=function(){c.default.event("Budget selector","Changed to monthly payment","Homepage budget selector"),n.setState({paymentType:"monthly",maxMonthlyOptions:n.props.monthlyOptions,minMonthlyOptions:n.props.monthlyOptions})},n.onPayCash=function(){c.default.event("Budget selector","Changed to cash price","Homepage budget selector"),n.setState({paymentType:"cash",minCashOptions:n.props.cashOptions,maxCashOptions:n.props.cashOptions})},n.setMaxCashOptions=function(e){var t=n.props.cashOptions.indexOf(e);return n.setState({maxCashOptions:n.props.cashOptions.slice(t+1),minCashValue:e})},n.setMinCashOptions=function(e){var t=n.props.cashOptions.indexOf(e);return n.setState({minCashOptions:n.props.cashOptions.slice(0,t),maxCashValue:e})},n.setMinMonthlyOptions=function(e){var t=n.props.monthlyOptions.indexOf(e);return n.setState({minMonthlyOptions:n.props.monthlyOptions.slice(0,t),maxMonthlyValue:e})},n.setMaxMonthlyOptions=function(e){var t=n.props.monthlyOptions.indexOf(e);return n.setState({maxMonthlyOptions:n.props.monthlyOptions.slice(t+1),minMonthlyValue:e})},n.toggleBudgetPopup=function(){n.state.budgetPopupVisible?c.default.event("Budget selector","Closed budget selector","Homepage budget selector"):c.default.event("Budget selector","Opened budget selector","Homepage budget selector"),n.setState({budgetPopupVisible:!n.state.budgetPopupVisible})},n.showBudgetPopup=function(){n.setState({budgetPopupVisible:!0})},n.minPriceChanged=function(e){"cash"===n.state.paymentType?n.setMaxCashOptions(e.target.value):n.setMaxMonthlyOptions(e.target.value)},n.maxPriceChanged=function(e){"cash"===n.state.paymentType?n.setMinCashOptions(e.target.value):n.setMinMonthlyOptions(e.target.value)},n.emptyCashValues=function(){return"cash"===n.state.paymentType&&!n.state.minCashValue&&!n.state.maxCashValue},n.emptyMonthlyValues=function(){return"monthly"===n.state.paymentType&&!n.state.minMonthlyValue&&!n.state.maxMonthlyValue},n.emptyBudget=function(){return n.emptyCashValues()||n.emptyMonthlyValues()},n.minCashValue=function(){return n.state.minCashValue?"\xa3"+s.default.delimitWithCommas(n.state.minCashValue):"No min"},n.maxCashValue=function(){return n.state.maxCashValue?"\xa3"+s.default.delimitWithCommas(n.state.maxCashValue):"no max"},n.minMonthlyValue=function(){return n.state.minMonthlyValue?"\xa3"+s.default.delimitWithCommas(n.state.minMonthlyValue):"No min"},n.maxMonthlyValue=function(){return n.state.maxMonthlyValue?"\xa3"+s.default.delimitWithCommas(n.state.maxMonthlyValue):"no max"},n.summaryText=function(){return n.emptyBudget()?"Any price":"cash"===n.state.paymentType?n.minCashValue()+" - "+n.maxCashValue()+" cash price":n.minMonthlyValue()+" - "+n.maxMonthlyValue()+" per month"},n.labelSuffix=function(){return"cash"===n.state.paymentType?"price":"payment"},n.renderMinOptions=function(){return"cash"===n.state.paymentType?n.state.minCashOptions.map(function(e,t){return l.default.createElement("option",{key:"min"+t,ref:"min"+t,value:e},"\xa3"+s.default.delimitWithCommas(e))}):n.state.minMonthlyOptions.map(function(e,t){return l.default.createElement("option",{key:"min"+t,ref:"min"+t,value:e},"\xa3"+s.default.delimitWithCommas(e))})},n.renderMaxOptions=function(){return"cash"===n.state.paymentType?n.state.maxCashOptions.map(function(e,t){return l.default.createElement("option",{key:"max"+t,ref:"max"+t,value:e},"\xa3"+s.default.delimitWithCommas(e))}):n.state.maxMonthlyOptions.map(function(e,t){return l.default.createElement("option",{key:"max"+t,ref:"max"+t,value:e},"\xa3"+s.default.delimitWithCommas(e))})},n.renderMinSelectBox=function(){return n.state.isBrowser?l.default.createElement("div",{className:"ac-budgetchooser__minprice"},l.default.createElement("label",{ref:"minLabel",htmlFor:"minPrice"},"Minimum "+n.labelSuffix()),l.default.createElement("select",{ref:"minPrice",name:"min_price",key:"minPrice",value:"cash"===n.state.paymentType?n.state.minCashValue:n.state.minMonthlyValue,className:"ch-form__control ch-form__control--sm",onChange:n.minPriceChanged,tabIndex:"4"},l.default.createElement("option",{key:"No min",value:""},"No min"),n.renderMinOptions())):l.default.createElement("div",{className:"ac-budgetchooser__minprice"},l.default.createElement("label",{ref:"minLabel",htmlFor:"minPrice"},"Minimum"),l.default.createElement("input",{ref:"inputField",type:"text",name:"min_price",className:"ch-form__control"}))},n.renderMaxSelectBox=function(){return n.state.isBrowser?l.default.createElement("div",{className:"ac-budgetchooser__maxprice"},l.default.createElement("label",{ref:"maxLabel",htmlFor:"maxPrice"},"Maximum "+n.labelSuffix()),l.default.createElement("select",{ref:"maxPrice",name:"max_price",key:"maxPrice",value:"cash"===n.state.paymentType?n.state.maxCashValue:n.state.maxMonthlyValue,className:"ch-form__control ch-form__control--sm",onChange:n.maxPriceChanged,tabIndex:"5"},l.default.createElement("option",{key:"No max",value:""},"No max"),n.renderMaxOptions())):l.default.createElement("div",{className:"ac-budgetchooser__maxprice"},l.default.createElement("label",{ref:"maxLabel",htmlFor:"maxPrice"},"Maximum"),l.default.createElement("input",{ref:"inputField",type:"text",name:"max_price",className:"ch-form__control"}))},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{ref:"budgetSummary",className:"ac-searchmask__budget-summary",onClick:this.toggleBudgetPopup},this.summaryText()),l.default.createElement("div",{className:(0,i.default)("ac-searchmask__budget-popup",{"ac-searchmask__budget-popup--visible":this.state.budgetPopupVisible}),ref:"budgetPopUp"},l.default.createElement("div",{className:"ac-paymenttoggle",onFocus:this.showBudgetPopup},l.default.createElement("input",{ref:"monthlyPaymentsRadio",type:"radio",className:"ch-reader",name:"payment_type",tabIndex:"3",checked:"monthly"===this.state.paymentType,id:"payment-type-monthly",value:"monthly",onChange:this.onPayMonthly}),l.default.createElement("label",{htmlFor:"payment-type-monthly"},"Monthly payment"),l.default.createElement("input",{ref:"cashPriceRadio",type:"radio",className:"ch-reader",name:"payment_type",tabIndex:"3",checked:"cash"===this.state.paymentType,id:"payment-type-cash",value:"cash",onChange:this.onPayCash}),l.default.createElement("label",{htmlFor:"payment-type-cash"},"Cash price")),this.renderMinSelectBox(),this.renderMaxSelectBox()))}}]),t}();f.propTypes={cashOptions:o.default.array,monthlyOptions:o.default.array,paymentType:o.default.string},f.defaultProps={monthlyOptions:["70","80","90","100","110","120","130","140","150","160","170","180","190","200","225","250","275","300","350","400","450","500","600"],cashOptions:["1000","2000","3000","4000","5000","6000","7000","8000","9000","10000","11000","12000","13000","14000","15000","20000","25000","30000","35000","40000","50000","100000","150000"]},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=i(r),o=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={models:[],selectedModel:n.props.selectedModel,selectedMake:n.props.selectedMake},n.onMakeSelected=function(e){n.setState({selectedMake:e.target.value},n.getModelsFor(e.target.value))},n.onModelSelected=function(e){n.setState({selectedModel:e.target.value})},n.getModelsFor=function(e){return""===e?n.setState({models:[]}):n.setState({models:n.props.makesAndModels[e]})},n.renderMakeOptions=function(){return Object.keys(n.props.makesAndModels).map(function(e){return l.default.createElement("option",{ref:e,value:e,key:e},n.props.makesDisplay[e])})},n.renderModelOptions=function(){return n.state.models.map(function(e,t){return l.default.createElement("option",{key:e,ref:"option"+t},e)})},s(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.getModelsFor("")}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{className:"ch-form__group--sm xs:ch-col--12 md:ch-col--3 ac-col--compact"},l.default.createElement("label",{htmlFor:"make",className:"ch-reader"},"Make"),l.default.createElement("select",{ref:"makeSelector",name:"make",value:this.state.selectedMake,className:"ch-form__control",onChange:this.onMakeSelected,tabIndex:"1"},l.default.createElement("option",{key:"All makes",value:""},"All makes"),this.renderMakeOptions())),l.default.createElement("div",{className:"ch-form__group--sm xs:ch-col--12 md:ch-col--3 ac-col--compact"},l.default.createElement("label",{htmlFor:"model",className:"ch-reader"},"Model"),l.default.createElement("select",{ref:"modelSelector",name:"model",value:this.state.selectedModel,className:"ch-form__control",onChange:this.onModelSelected,tabIndex:"2"},l.default.createElement("option",{value:"",key:"All models"},"All models"),this.renderModelOptions())))}}]),t}();c.propTypes={makesAndModels:o.default.object,selectedMake:o.default.string,selectedModel:o.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=p(r),o=p(a(1)),i=p(a(117)),s=p(a(20)),c=p(a(67)),u=p(a(122));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={renderedOffers:n.props.offers.slice(0,4)},n.showAllOffers=function(){n.setState({renderedOffers:n.props.offers})},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement(l.default.Fragment,null,l.default.createElement(i.default,null,this.state.renderedOffers.map(function(t){return l.default.createElement("div",{className:"ac-offer",key:t.stockReference,ref:t.stockReference,onMouseEnter:e.showAllOffers},l.default.createElement(u.default,t))}),4===this.state.renderedOffers.length&&l.default.createElement("button",{ref:"showMoreOffersButton",className:"ch-btn ch-btn--sm ch-btn--link js-off--hide ac-offers__show-more-btn",onClick:this.showAllOffers},"Show more offers")),l.default.createElement(s.default,{id:"finance-illustration"},l.default.createElement(c.default,null)))}}]),t}();d.propTypes={offers:o.default.array},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=(s(r),s(a(1))),o=s(a(16)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={deliveryCentreName:"",partExchangeMileage:"",partExchangeRegistration:"",partExchangeValuation:""},n.checkForAvailableChatAgents=function(){if(n.props.isTesting)return clearInterval(n.state.intervalId);if(o.default.get("https://livechat.arnoldclark.com/system/egain/chat/entrypoint/agentAvailability/"+n.props.entryPointId).end(function(e,t){if(e)return i.default.emit("liveChatUnAvailable");t&&t.text.includes('available="true"')?i.default.emit("liveChatAvailable"):i.default.emit("liveChatUnavailable")}),!n.state.intervalId){var e=setInterval(n.checkForAvailableChatAgents,5e3);n.setState({intervalId:e})}},n.setDeliveryCentreName=function(e){n.setState({deliveryCentreName:e.name})},n.removeDeliveryCentreName=function(){n.setState({deliveryCentreName:""})},n.setPartExchangeValuation=function(e){n.setState({partExchangeMileage:e.mileage,partExchangeRegistration:e.registration,partExchangeValuation:e.valuation})},n.removePartExchangeValuation=function(){n.setState({partExchangeMileage:"",partExchangeRegistration:"",partExchangeValuation:""})},n.chatUrl=function(){var e=n.props.vehicle,t=encodeURIComponent(e.originationUrl),a="https://livechat.arnoldclark.com/system/templates/chat/v1.0.3/chat.html?subActivity=Chat&entryPointId="+n.props.entryPointId+"&templateName=v1.0.3&languageCode=en&countryCode=US&ver=v11&referer[URI]="+t+"&referer[Make]="+e.make+"&referer[Model]="+e.model+"&referer[Year]="+e.year+"&referer[VRN]="+e.registration;return e.onSale&&(a+="&referer[Sale]=This vehicle is on sale"),n.props.isPreviewCustomer&&(a+="&referer[Customer]=Preview customer"),n.props.isRealSaleCustomer&&(a+="&referer[Customer]=Real Sale customer"),n.state.deliveryCentreName&&(a+="&referer[DeliveryCentreName]="+n.state.deliveryCentreName),n.state.partExchangeMileage&&(a+="&referer[PartExchangeMileage]="+n.state.partExchangeMileage),n.state.partExchangeRegistration&&(a+="&referer[PartExchangeRegistration]="+n.state.partExchangeRegistration),n.state.partExchangeValuation&&(a+="&referer[PartExchangeValuation]="+n.state.partExchangeValuation),a},n.openLiveChatWindow=function(){if(!n.props.isTesting)return window.open(n.chatUrl(),"",n.props.chatWindowSettings)},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.checkForAvailableChatAgents(),i.default.on("initiateLiveChat",this.openLiveChatWindow),i.default.on("deliveryCentreSelected",this.setDeliveryCentreName),i.default.on("deliveryCentreRemove",this.removeDeliveryCentreName),i.default.on("partExchangeValuationUpdated",this.setPartExchangeValuation),i.default.on("partExchangeValuationRemoved",this.removePartExchangeValuation)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId),i.default.removeListener("initiateLiveChat"),i.default.removeListener("deliveryCentreSelected"),i.default.removeListener("deliveryCentreRemove"),i.default.removeListener("partExchangeValuationUpdated"),i.default.removeListener("partExchangeValuationRemoved")}},{key:"render",value:function(){return null}}]),t}();u.propTypes={chatWindowSettings:l.default.string,entryPointId:l.default.string,isPreviewCustomer:l.default.bool,isRealSaleCustomer:l.default.bool,isTesting:l.default.bool,vehicle:l.default.shape({make:l.default.string.isRequired,model:l.default.string.isRequired,year:l.default.string.isRequired,registration:l.default.string.isRequired,originationUrl:l.default.string.isRequired})},u.defaultProps={chatWindowSettings:"resizable=yes,toolbar=no,menubar=no,location=no,scrollbars=no,status=no,height=400,width=600"},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=(c(r),c(a(1))),o=c(a(16)),i=c(a(387)),s=c(a(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={deliveryCentreName:"",partExchangeMileage:"",partExchangeRegistration:"",partExchangeValuation:""},n.checkForAvailableChatAgents=function(){n.props.isTesting||o.default.get("https://jsonp.contactatonce.co.uk/PresencePostback.aspx").query({MerchantId:n.props.merchantId,ProviderId:n.props.providerId,PlacementId:n.props.placementId}).use(i.default).end(function(e,t){e||"online"===t.body.presenceStatus&&s.default.emit("liveChatAvailable")})},n.setDeliveryCentreName=function(e){n.setState({deliveryCentreName:e.name})},n.removeDeliveryCentreName=function(){n.setState({deliveryCentreName:""})},n.setPartExchangeValuation=function(e){n.setState({partExchangeMileage:e.mileage,partExchangeRegistration:e.registration,partExchangeValuation:e.valuation})},n.removePartExchangeValuation=function(){n.setState({partExchangeMileage:"",partExchangeRegistration:"",partExchangeValuation:""})},n.chatUrl=function(){var e=n.props.vehicle,t="https://dm1.contactatonce.co.uk/CaoClientContainer.aspx?MerchantId="+n.props.merchantId+"&Providerid="+n.props.providerId+"&ClientId="+n.props.gaClientId+"&Make="+e.make+"&Model="+e.model+"&Year="+e.year+"&VRN="+e.registration+"&OriginationUrl="+e.originationUrl+"&PlacementId="+n.props.placementId;return e.onSale&&(t+="&Sale=This vehicle is on sale"),n.props.isPreviewCustomer&&(t+="&Customer=Preview customer"),n.props.isRealSaleCustomer&&(t+="&Customer=Real Sale customer"),n.state.deliveryCentreName&&(t+="&DeliveryCentreName="+n.state.deliveryCentreName),n.state.partExchangeMileage&&(t+="&PartExchangeMileage="+n.state.partExchangeMileage),n.state.partExchangeRegistration&&(t+="&PartExchangeRegistration="+n.state.partExchangeRegistration),n.state.partExchangeValuation&&(t+="&PartExchangeValuation="+n.state.partExchangeValuation),t},n.openLiveChatWindow=function(){if(!n.props.isTesting)return window.open(n.chatUrl(),"",n.props.chatWindowSettings)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.checkForAvailableChatAgents(),s.default.on("initiateLiveChat",this.openLiveChatWindow),s.default.on("deliveryCentreSelected",this.setDeliveryCentreName),s.default.on("deliveryCentreRemove",this.removeDeliveryCentreName),s.default.on("partExchangeValuationUpdated",this.setPartExchangeValuation),s.default.on("partExchangeValuationRemoved",this.removePartExchangeValuation)}},{key:"componentWillUnmount",value:function(){s.default.removeListener("initiateLiveChat"),s.default.removeListener("deliveryCentreSelected"),s.default.removeListener("deliveryCentreRemove"),s.default.removeListener("partExchangeValuationUpdated"),s.default.removeListener("partExchangeValuationRemoved")}},{key:"render",value:function(){return null}}]),t}();p.propTypes={chatWindowSettings:l.default.string,gaClientId:l.default.string,isPreviewCustomer:l.default.bool,isRealSaleCustomer:l.default.bool,isTesting:l.default.bool,merchantId:l.default.string,placementId:l.default.string,providerId:l.default.string,vehicle:l.default.shape({make:l.default.string.isRequired,model:l.default.string.isRequired,year:l.default.string.isRequired,registration:l.default.string.isRequired,originationUrl:l.default.string.isRequired})},p.defaultProps={chatWindowSettings:"resizable=yes,toolbar=no,menubar=no,location=no,scrollbars=no,status=no,height=400,width=600"},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(4)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={agentsAvailable:!1},n.liveChatAvailable=function(){n.setState({agentsAvailable:!0})},n.liveChatUnavailable=function(){n.setState({agentsAvailable:!1})},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){o.default.on("liveChatAvailable",this.liveChatAvailable),o.default.on("liveChatUnavailable",this.liveChatUnavailable)}},{key:"componentWillUnmount",value:function(){o.default.removeListener("liveChatAvailable"),o.default.removeListener("liveChatUnavailable")}},{key:"initiateLiveChat",value:function(){i.default.event("Vehicle Sales Funnel","Live Chat","Popup CTA"),o.default.emit("initiateLiveChat")}},{key:"render",value:function(){return this.state.agentsAvailable?l.default.createElement("div",{className:"js-off--hide ac-livechat__popup ac-animation--fade-in-from-bottom",ref:"popup"},l.default.createElement("button",{className:"ch-btn ch-btn--sm ch-btn--primary ac-livechat__popup-text",onClick:this.initiateLiveChat,type:"button"},"Chat with us"),l.default.createElement("div",{className:"ch-hand ac-livechat__popup-circle",onClick:this.initiateLiveChat})):null}}]),t}();t.default=u},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=p(l),i=p(a(1)),s=p(a(4)),c=p(a(173)),u=p(a(255));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={loading:!0,results:[],shortlist:[]},n.readShortlist=function(){var e=localStorage.getItem("shortlist");return""===e||null===e?n.updateShortlist([]):e?n.updateShortlist(e.split(",")):void 0},n.writeShortlist=function(e){localStorage.setItem("shortlist",e.join())},n.updateShortlist=function(e){n.setState({shortlist:e},n.getResults(e))},n.getResults=function(e){if(0===e.length)return n.setState({loading:!1,results:[]});e.join()!==n.state.shortlist.join()&&(n.setState({loading:!0}),u.default.requestResults({keywords:e.join(" "),payment_type:"cash"}))},n.updateSearchResults=function(e){n.setState({loading:!1,results:e.searchResults}),n.state.shortlist.length!==e.searchResults.length&&n.removeInvalidStockRefs(e.searchResults)},n.removeInvalidStockRefs=function(e){var t=e.map(function(e){return e.stockReference});n.writeShortlist(t),n.setState({shortlist:t})},n.clearShortlist=function(){return s.default.emit("shortlistClear")},f(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){this.readShortlist(),s.default.on("shortlistUpdate",this.updateShortlist),s.default.on("vehicleSearchSuccess",this.updateSearchResults)}},{key:"render",value:function(){return o.default.createElement(c.default,n({},this.state,{clearShortlist:this.clearShortlist,delivery:this.props.delivery,experiments:this.props.experiments}))}}]),t}();d.displayName="ShortlistContainer",d.propTypes={delivery:i.default.object},d.defaultProps={delivery:{}},t.default=d},function(e,t,a){"use strict";var n=o(a(16)),r=o(a(15)),l=o(a(4));function o(e){return e&&e.__esModule?e:{default:e}}var i={},s=void 0;i.requestResults=function(e){var t=r.default.toQueryString(r.default.snakeCaseKeys(e));i.abortPreviousRequest(s),s=n.default.post("/used-cars/search.json").query(t).end(i.requestResponse)},i.abortPreviousRequest=function(e){if(e)return e.abort()},i.requestResponse=function(e,t){if(!e&&t.ok){var a=t.req.url.replace(".json",""),n=Object.assign(t.body,{url:a});l.default.emit("vehicleSearchSuccess",n)}},e.exports=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(4)),i=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={shortlist:[]},n.readShortlist=function(){var e=localStorage.getItem("shortlist");return""===e?n.updateShortlist([]):e?n.updateShortlist(e.split(",")):void 0},n.writeShortlist=function(e){localStorage.setItem("shortlist",e.join())},n.addToShortlist=function(e){if(!n.state.shortlist.includes(e)){i.default.event("Shortlist","Click","Add to shortlist");var t=[].concat(c(n.state.shortlist));t.push(e),n.updateShortlist(t)}},n.removeFromShortlist=function(e){if(n.state.shortlist.includes(e)){i.default.event("Shortlist","Click","Remove from shortlist");var t=[].concat(c(n.state.shortlist));t.splice(t.indexOf(e),1),n.updateShortlist(t)}},n.clearShortlist=function(){return n.updateShortlist([])},n.updateShortlist=function(e){n.setState({shortlist:e},n.sendShortlist),n.writeShortlist(e)},n.sendShortlist=function(){o.default.emit("shortlistUpdate",n.state.shortlist)},u(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){this.readShortlist(),o.default.on("shortlistAdd",this.addToShortlist),o.default.on("shortlistRemove",this.removeFromShortlist),o.default.on("shortlistClear",this.clearShortlist),window.addEventListener("storage",this.readShortlist)}},{key:"componentWillUnmount",value:function(){o.default.removeListener("shortlistAdd"),o.default.removeListener("shortlistRemove"),o.default.removeListener("shortlistClear"),window.removeEventListener("storage",this.readShortlist)}},{key:"render",value:function(){return 0===this.state.shortlist.length?null:l.default.createElement("a",{href:"/shortlist",className:"js-off--hide ch-btn ch-btn--primary ac-shortlist__indicator ac-animation--fade-in-from-bottom"},"Shortlist",l.default.createElement("span",{className:"ac-shortlist__count"},this.state.shortlist.length))}}]),t}();p.displayName="ShortlistListener",t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(0)),r=l(a(8));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=new RegExp("(^|,)"+e.selectedOption+"($|,)");return n.default.createElement("div",{className:"ac-filter__wrapper"},e.availableOptions.map(function(a){return n.default.createElement("button",{key:a,className:(0,r.default)("ch-btn ch-btn--sm ac-filter__button",{"ac-filter__button--selected":t.test(a[1])}),onClick:function(){return e.filterSelected(e.name,a[1])}},a[0])}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=m(l),i=m(a(1)),s=m(a(259)),c=m(a(15)),u=m(a(4)),p=m(a(3)),f=m(a(255)),d=m(a(187)),h=m(a(189));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var b=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={appliedFilters:n.props.initialAppliedFilters,availableMakes:n.props.availableMakes,availableModels:n.props.availableModels,count:n.props.count,delivery:n.props.delivery,gearboxBanner:n.props.gearboxBanner,loading:!1,pagination:n.props.pagination,searchResults:n.props.searchResults,searchTitle:n.props.searchTitle,title:n.props.title,virtualPagePath:n.props.virtualPagePath},n.requestSearchResults=function(e){("location"in e&&""===e.location||"deliveryOnly"in e&&""===e.deliveryOnly)&&(e.resetLocation=!0);var t=n.additionalFilterChangesFor(c.default.camelCaseKeys(e)),a=Object.assign({},n.state.appliedFilters,t);p.default.event("Search filters",Object.keys(e)[0],Object.values(e)[0]),f.default.requestResults(a),delete a.resetLocation,n.setState({appliedFilters:a,loading:!0})},n.userIsInExperimentAndRemovedMake=function(e){return n.props.experiments.multiselect&&1===n.props.experiments.multiselect.v&&e.make&&n.state.appliedFilters.make.length>=e.make.length},n.getNewModels=function(e){if(e.make===[""])return[""];var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(n.state.appliedFilters.model)),a=n.state.appliedFilters.make.filter(function(t){return!e.make.includes(t)});return n.state.availableModels.map(function(e){if(e[2]===a[0])return e[1]}).map(function(e){t.includes(e)&&t.splice(t.indexOf(e),1)}),t},n.additionalFilterChangesFor=function(e){return e.page||(e.page=1),n.userIsInExperimentAndRemovedMake(e)?e.model=n.getNewModels(e):(e.make&&!n.props.experiments.multiselect||e.make&&1!==n.props.experiments.multiselect.v)&&(e.model=[""]),"Vans"===e.searchType&&"monthly"===n.state.appliedFilters.paymentType&&(e.paymentType="cash"),"Motability"===e.searchType&&"monthly"===n.state.appliedFilters.paymentType&&(e.paymentType="cash"),e.paymentType&&(e.minPrice="",e.maxPrice=""),"monthly"===e.paymentType&&(e.sortOrder="monthly_payment_up"),"cash"===e.paymentType&&(e.sortOrder="price_up"),""===e.location&&(e.locationLat="",e.locationLng="",e.distance=""),""===e.branchName&&(e.branchId=""),e},n.updateSearchResults=function(e){n.setState({availableMakes:e.availableMakes,availableModels:e.availableModels,count:e.count,gearboxBanner:e.gearboxBanner,delivery:e.delivery,loading:!1,pagination:e.pagination,searchResults:e.searchResults,searchTitle:e.searchTitle,title:e.title,virtualPagePath:e.virtualPagePath}),n.sendVirtualPageview(e),n.updatePageTitle(e.title),n.updateBrowserUrl(e.url),n.props.experiments.multiselect&&1===n.props.experiments.multiselect.v?n.cleanseMultiMakeAndModels(e.availableMakes,e.availableModels):n.cleanseMakeModels(e.availableMakes,e.availableModels)},n.cleanseMultiMakeAndModels=function(e,t){var a=n.state.appliedFilters.make.filter(function(t){return e.map(function(e){return e[1]}).includes(t)}),r=n.state.appliedFilters.model.filter(function(e){return t.map(function(e){return e[1]}).includes(e)});return a.length!==n.state.appliedFilters.make.length?u.default.emit("searchCriteriaChange",{make:a}):r.length!==n.state.appliedFilters.model.length?u.default.emit("searchCriteriaChange",{model:r}):void 0},n.cleanseMakeModels=function(e,t){return e.toString().includes(n.state.appliedFilters.make)?t.toString().includes(n.state.appliedFilters.model)?void 0:u.default.emit("searchCriteriaChange",{model:""}):u.default.emit("searchCriteriaChange",{make:""})},n.updatePageTitle=function(e){return document.title=e},n.updateBrowserUrl=function(e){if(window.history)return window.history.pushState(n.state,"",e)},n.sendVirtualPageview=function(e){"undefined"!==typeof dataLayer&&dataLayer.push({branchDMSID:n.state.appliedFilters.branchId,deliveryZone:n.state.delivery.zone,deliveryCentre:n.state.delivery.centre,event:"VirtualPageview",vehiclesMake:n.appliedFilterMultipleCheckMake(),vehiclesModel:n.appliedFilterMultipleCheckModel(),vehicleStockRefs:n.state.searchResults.map(function(e){return e.stockReference}),virtualPagePath:e.virtualPagePath,virtualTitle:e.title})},n.listenForBrowserNavigation=function(){window.history&&"replaceState"in window.history&&(window.history.replaceState(n.state,""),window.addEventListener("popstate",n.popState))},n.popState=function(e){e.state&&(n.setState((0,s.default)(n.state,{$set:e.state})),n.sendVirtualPageview(e.state),n.updatePageTitle(e.state.title))},y(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){u.default.on("searchCriteriaChange",this.requestSearchResults),u.default.on("vehicleSearchSuccess",this.updateSearchResults),this.listenForBrowserNavigation()}},{key:"componentWillUnmount",value:function(){u.default.removeListener("searchCriteriaChange")}},{key:"appliedFilterMultipleCheckModel",value:function(){return Array.isArray(this.state.appliedFilters.model)?this.state.appliedFilters.model.join(", "):this.state.appliedFilters.model}},{key:"appliedFilterMultipleCheckMake",value:function(){return Array.isArray(this.state.appliedFilters.make)?this.state.appliedFilters.make.join(", "):this.state.appliedFilters.make}},{key:"render",value:function(){return o.default.createElement(d.default,{appliedFilters:this.state.appliedFilters},o.default.createElement(h.default,n({availableOptions:this.props.availableOptions,experiments:this.props.experiments,searchPath:this.props.searchPath},this.state)))}}]),t}();b.displayName="VehicleSearchContainer",b.propTypes={availableMakes:i.default.array,availableModels:i.default.array,availableOptions:i.default.object,count:i.default.number,delivery:i.default.object,experiments:i.default.object,gearboxBanner:i.default.object,initialAppliedFilters:i.default.object,inMobileUxSwiperExperiment:i.default.bool,pagination:i.default.object,searchPath:i.default.string,searchResults:i.default.array,searchTitle:i.default.string,source:i.default.string,title:i.default.string,virtualPagePath:i.default.string},t.default=b},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=p(l),i=p(a(1)),s=p(a(16)),c=p(a(3)),u=p(a(44));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return a=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.buildGoogleMap=function(){if(window.google&&window.MarkerClusterer){var e={zoom:4,center:{lat:55.95147772766445,lng:-4.131130480468755},mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,scrollwheel:!1},t={gridSize:60,maxZoom:13,styles:[{url:r.props.clusterMarkerIcon,width:40,height:40,fontFamily:'"Gotham A", "Gotham B", Gotham, "Montserrat", Verdana, sans-serif',textSize:15,textColor:"#ffde00"}]},a=new window.google.maps.InfoWindow({disableAutoPan:!0});window.google.maps.event.addListener(a,"domready",function(){var e=document.querySelector(".gm-style-iw").previousElementSibling,t=e.children[2].children[0],a=t.children[0],n=e.children[2].children[1],r=n.children[0];n.style.height=t.style.height="30px",n.style.width=t.style.width="30px",t.style.left="-20px",n.style.top=t.style.top="-2px",r.style.height=a.style.height="27px",r.style.width=a.style.width="30px",r.style.left=a.style.left="-1px",a.style.boxShadow="rgba(0, 0, 0, 0.2) -5px 5px 0px",a.style.transform="skewX(47deg)",r.style.boxShadow="rgba(0, 0, 0, 0.2) 5px 5px 0px",r.style.transform="skewX(-47deg)",e.children[3].style.display="none",e.children[2].style.zIndex="1",e.children[1].style.display="none",e.children[1].style.minWidth="220px"});var l={url:r.props.markerIcon,scaledSize:new google.maps.Size(55,50)},o=r.props.chargingPoints.map(function(e){var t=this,r=new window.google.maps.Marker({position:{lat:e[0],lng:e[1]},optimized:!1,icon:l});return r.addListener("click",function(){s.default.get("/api/charging_points/"+e[2]).end(function(e,l){!e&&l.ok&&(a.setContent(l.text),a.open(n,r),t.offsetMap(r.getPosition(),-200))})}),r},r);n=new window.google.maps.Map(r.refs.mapElement,e);var i=new window.MarkerClusterer(n,o,t);window.google.maps.event.addListener(n,"dragstart",function(){i.zoomOnClick_=!1}),window.google.maps.event.addListener(n,"mouseup",function(){setTimeout(function(){i.zoomOnClick_=!0},50)}),window.google.maps.event.addListenerOnce(n,"idle",function(){window.google.maps.event.addListenerOnce(n,"idle",function(){c.default.event("UX - Product","Interaction","Electric Vehicles Map")})})}},r.fixPositioningOfClusterMarkers=function(){window.ClusterIcon&&(window.ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2),t.y-=parseInt(this.height_),t})},r.offsetMap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=window.innerWidth>=992,l=n.getProjection().fromLatLngToPoint(e),o=a?r.refs.mapElement.offsetWidth/6:0,i=new window.google.maps.Point(o/Math.pow(2,n.getZoom()),t/Math.pow(2,n.getZoom()));n.panTo(n.getProjection().fromPointToLatLng(new window.google.maps.Point(l.x-i.x,l.y+i.y)))},r.goToLocation=function(e){var t=new window.google.maps.LatLngBounds;e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location),n.fitBounds(t),r.offsetMap(n.center)},f(r,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){this.buildGoogleMap(),this.fixPositioningOfClusterMarkers()}},{key:"render",value:function(){return o.default.createElement("div",{className:"ac-card ac-card-padding-lg js-off--hide ac-charging-points__wrapper"},o.default.createElement("div",{className:"ac-charging-points__mask"},o.default.createElement("h2",null,"Where can I charge it?"),o.default.createElement("label",null,"Location"),o.default.createElement(u.default,{ref:"locationInput",placeChanged:this.goToLocation})),o.default.createElement("div",{className:"ac-charging-points"},o.default.createElement("div",{ref:"mapElement",className:"ac-charging-points__map"})),o.default.createElement("div",{className:"ch-row"},o.default.createElement("div",{className:"xs:ch-col--12"},o.default.createElement("span",{className:"ch-small"},"Charging station data is provided by"," "),o.default.createElement("a",{href:"http://www.national-charge-point-registry.uk/",target:"_blank"},o.default.createElement("span",{className:"ac-visible--xs"},"NCPR"),o.default.createElement("span",{className:"ac-hidden--xs"},"National Charge Point Registry UK")))))}}]),t}();d.propTypes={chargingPoints:i.default.array,clusterMarkerIcon:i.default.string,markerIcon:i.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=v(l),i=v(a(1)),s=v(a(4)),c=v(a(259)),u=v(a(196)),p=v(a(202)),f=v(a(134)),d=v(a(205)),h=v(a(194)),m=v(a(85)),y=v(a(201)),b=v(a(87));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setInitialPhoneNumber=function(){return a.props.delivery.presentation?"01908 850793":a.props.vehicle.isNewVauxhall?"0141 302 4602":a.props.vehicle.isBusinessCar?"0141 314 5152":a.props.vehicle.branch.phone},a.setDeliveryOnly=function(){if(a.props.delivery.presentation)return{id:9999,name:"Delivery Centre"}},a.getValueFromString=function(e){return parseFloat(e.replace(/[\xa3,]/g,""))},a.updatePCP=function(e){var t=a.getValueFromString(e["Annual mileage"]);a.setState((0,c.default)(a.state,{finance:{pcp:{illustration:{$set:e},calculator:{initialDeposit:{$set:e.Deposit},initialTerm:{$set:e["Term (months)"]},initialAnnualMileage:{$set:t}}}},pricing:{deposit:{$set:e.Deposit},monthlyPayment:{$set:e["Monthly payment"]}}}))},a.updateHP=function(e){a.setState((0,c.default)(a.state,{finance:{hp:{illustration:{$set:e},calculator:{initialDeposit:{$set:e.Deposit},initialTerm:{$set:e["Term (months)"]}}}},pricing:{deposit:{$set:e.Deposit},monthlyPayment:{$set:e["Monthly payment"]}}}))},a.updatePl=function(e){a.setState((0,c.default)(a.state,{finance:{pl:{illustration:{$set:e},calculator:{initialDeposit:{$set:e.Deposit},initialTerm:{$set:e["Term (months)"]}}}},pricing:{deposit:{$set:e.Deposit},monthlyPayment:{$set:e["Monthly payment"]}}}))},a.updatePricing=function(e,t,n){a.setState((0,c.default)(a.state,{finance:{selectedFinance:{$set:e}},pricing:{deposit:{$set:t},monthlyPayment:{$set:n}}}))},a.addCustomerInfoToEnquiry=function(e,t){a.setState((0,c.default)(a.state,{enquiry:{customerDetails:{$merge:e},dealbuilder:{$set:!0}}}),t)},a.addFinanceToEnquiry=function(e){a.setState((0,c.default)(a.state,{enquiry:{finance:{$set:e},interestedInFinance:{$set:!0}}}))},a.removeFinanceFromEnquiry=function(){a.setState((0,c.default)(a.state,{enquiry:{finance:{$set:{}},interestedInFinance:{$set:!1}}}))},a.requiresPersonalLoan=function(e){return e<.05*-a.props.vehicle.pricing.cashPrice&&e>.15*-a.props.vehicle.pricing.cashPrice&&a.state.finance.selectedFinance},a.addPartExchange=function(e){return a.requiresPersonalLoan(e.equity)?a.setState((0,c.default)(a.state,{enquiry:{partExchange:{$set:e}},finance:{selectedFinance:{$set:"pl"}}})):a.setState((0,c.default)(a.state,{enquiry:{partExchange:{$set:e}},finance:{selectedFinance:{$set:a.initialSelectedFinance()}}}))},a.removePartExchange=function(){a.setState((0,c.default)(a.state,{enquiry:{$unset:["partExchange"]}}))},a.addSettlementFigure=function(e){a.setState((0,c.default)(a.state,{enquiry:{partExchange:{settlementFigure:{$set:e}}}}))},a.addTestDrive=function(e){a.setState((0,c.default)(a.state,{enquiry:{testDrive:{$set:e}}}))},a.toggleTestDrive=function(e){a.setState((0,c.default)(a.state,{enquiry:{wantsTestDrive:{$set:e}}}))},a.toggleReservation=function(e){a.setState((0,c.default)(a.state,{enquiry:{wantsToReserve:{$set:e}}}))},a.addDeliveryCentre=function(e){a.setState((0,c.default)(a.state,{enquiry:{deliveryCentre:{$set:e}},delivery:{centre:{$set:e}},phoneNumber:{$set:"01908 850793"}}))},a.removeDeliveryCentre=function(){a.setState((0,c.default)(a.state,{enquiry:{$unset:["deliveryCentre"]},phoneNumber:{$set:a.props.vehicle.branch.phone}}))},a.addServicePlan=function(e){a.setState((0,c.default)(a.state,{enquiry:{servicePlan:{$set:e}}}))},a.removeServicePlan=function(){a.setState((0,c.default)(a.state,{enquiry:{$unset:["servicePlan"]}}))},a.submitFinance=function(e){a.setState((0,c.default)(a.state,{enquiry:{finance:{$set:e},interestedInFinance:{$set:!0}}}),a.submitEnquiryParamsForm)},a.resetDealBuilderFinance=function(){"pl"===a.state.finance.selectedFinance&&a.setState((0,c.default)(a.state,{finance:{selectedFinance:{$set:a.initialSelectedFinance()}},enquiry:{$unset:["partExchange"]},pricing:{$set:a.props.vehicle.pricing}}),a.removeFinanceFromEnquiry())},a.state={enquiry:{customerDetails:{},dealbuilder:!1,deliveryCentre:a.setDeliveryOnly(),finance:{},interestedInFinance:!1,wantsTestDrive:!1,wantsToReserve:!1},delivery:a.props.delivery,finance:n({selectedFinance:a.initialSelectedFinance()},a.props.vehicle.finance),phoneNumber:a.setInitialPhoneNumber(),pricing:a.props.vehicle.pricing},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){s.default.on("deliveryCentreSelected",this.addDeliveryCentre),s.default.on("deliveryCentreRemove",this.removeDeliveryCentre),s.default.on("partExchangeValuationUpdated",this.addPartExchange),s.default.on("partExchangeValuationRemoved",this.removePartExchange),s.default.on("addedTestDrive",this.addTestDrive),s.default.on("settlementFigureUpdate",this.addSettlementFigure),s.default.on("calculatedHpUpdate",this.updateHP),s.default.on("calculatedPcpUpdate",this.updatePCP),s.default.on("calculatedPlUpdate",this.updatePl),s.default.on("changedFinance",this.updatePricing),s.default.on("addedFinance",this.addFinanceToEnquiry),s.default.on("resetFinance",this.removeFinanceFromEnquiry),s.default.on("servicePlanSelected",this.addServicePlan),s.default.on("removeServicePlan",this.removeServicePlan),s.default.on("submittedFinance",this.submitFinance),s.default.on("userClosedModal",this.resetDealBuilderFinance)}},{key:"initialSelectedFinance",value:function(){return this.props.vehicle.finance.contract_hire?"contract_hire":this.props.vehicle.finance.pcp?"pcp":this.props.vehicle.finance.hp?"hp":void 0}},{key:"submitEnquiryParamsForm",value:function(){s.default.emit("submitEnquiryForm")}},{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(u.default,{authenticityToken:this.props.authenticityToken,enquiry:this.state.enquiry,enquiryPath:this.props.enquiryPath,finance:this.state.finance}),o.default.createElement(p.default,n({},this.props.vehicle,{delivery:this.state.delivery,enquiryPath:this.props.enquiryPath,finance:this.state.finance,reservationAvailable:this.props.reservationAvailable,phoneNumber:this.state.phoneNumber,pricing:this.state.pricing,submitEnquiryParamsForm:this.submitEnquiryParamsForm,testDrive:this.props.testDrive})),this.props.vehicle.isEligibleForDealBuilder&&this.state.finance.selectedFinance&&o.default.createElement(f.default,{addCustomerInfoToEnquiry:this.addCustomerInfoToEnquiry,authenticityToken:this.props.authenticityToken,branch:{name:this.props.vehicle.branch.name,image:this.props.vehicle.branch.firstImage,address:this.props.vehicle.branch.address,phoneNumber:this.props.vehicle.branch.phone},branchPhoneNumber:this.props.vehicle.branch.phone,cashPrice:this.state.pricing.cashPrice,enquiry:this.state.enquiry,finance:this.state.finance,isEligibleForServicePlans:this.props.vehicle.isEligibleForServicePlans,reservationAvailable:this.props.reservationAvailable,isTest:this.props.isTest,make:this.props.vehicle.make,model:this.props.vehicle.model,photo:this.props.vehicle.photos[0],products:this.state.products,recaptchaSiteKey:this.props.recaptchaSiteKey,stockReference:this.props.vehicle.stockReference,testDrive:this.props.testDrive,toggleReservation:this.toggleReservation,toggleTestDrive:this.toggleTestDrive,variant:this.props.vehicle.variant}),this.props.vehicle.isEligibleForDealBuilder&&this.state.finance.selectedFinance&&o.default.createElement("div",{className:"db-product-link__wrapper js-off--hide"},o.default.createElement("div",{className:"ch-container"},o.default.createElement(b.default,{nextSlot:this.props.testDrive.nextSlot,reservationAvailable:this.props.reservationAvailable,testDriveAvailable:this.props.testDrive.bookable}))),o.default.createElement(d.default,{independentReview:this.props.vehicle.independentReview,specification:this.props.vehicle.specification}),this.props.vehicle.isEligibleForDealBuilder&&!this.state.finance.selectedFinance&&o.default.createElement(y.default,null),o.default.createElement(h.default,{showExBusinessWarning:this.props.vehicle.exBusinessVehicle,showMPGWarning:this.props.vehicle.hasMPG,showTaxWarning:this.props.vehicle.newRoadTaxRulesApply}),o.default.createElement(m.default,{finance:this.state.finance,stockReference:this.props.vehicle.stockReference,view:"productpage"}))}}]),t}();_.displayName="ProductPageContainer",_.propTypes={authenticityToken:i.default.string,delivery:i.default.object,enquiryPath:i.default.string,experiments:i.default.object,isTest:i.default.bool,recaptchaSiteKey:i.default.string,showServicePlans:i.default.bool,vehicle:i.default.object},t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n={"./application/branchRating":236,"./application/branchRating.js":236,"./application/branchRatingLightbox":237,"./application/branchRatingLightbox.js":237,"./application/cookieBanner":238,"./application/cookieBanner.js":238,"./application/deliveryCentreBanner":115,"./application/deliveryCentreBanner.js":115,"./application/hoc":116,"./application/hoc.js":116,"./application/horizontalScroller":117,"./application/horizontalScroller.js":117,"./application/imageGallery":118,"./application/imageGallery.js":118,"./application/imageThumbnail":79,"./application/imageThumbnail.js":79,"./application/input/keywordsInput":80,"./application/input/keywordsInput.js":80,"./application/input/locationFinder":44,"./application/input/locationFinder.js":44,"./application/input/multiSelectList":81,"./application/input/multiSelectList.js":81,"./application/input/paymentToggle":82,"./application/input/paymentToggle.js":82,"./application/input/recaptcha":83,"./application/input/recaptcha.js":83,"./application/input/selectList":30,"./application/input/selectList.js":30,"./application/input/textInput":37,"./application/input/textInput.js":37,"./application/modal":20,"./application/modal.js":20,"./application/money":12,"./application/money.js":12,"./application/nav/chooser":241,"./application/nav/chooser.js":241,"./application/nav/desktopNav":121,"./application/nav/desktopNav.js":121,"./application/nav/touchNav":119,"./application/nav/touchNav.js":119,"./application/nav/touchNavMenuItem":120,"./application/nav/touchNavMenuItem.js":120,"./application/offer/offerCard":122,"./application/offer/offerCard.js":122,"./application/pagination":66,"./application/pagination/":66,"./application/pagination/index":66,"./application/pagination/index.js":66,"./application/pagination/pageRange":124,"./application/pagination/pageRange.js":124,"./application/pagination/paginationButton":123,"./application/pagination/paginationButton.js":123,"./application/pricing/cashPrice":56,"./application/pricing/cashPrice.js":56,"./application/pricing/costNew":125,"./application/pricing/costNew.js":125,"./application/pricing/deposit":126,"./application/pricing/deposit.js":126,"./application/pricing/listPrice":127,"./application/pricing/listPrice.js":127,"./application/pricing/monthlyPayment":57,"./application/pricing/monthlyPayment.js":57,"./application/pricing/preSalePrice":128,"./application/pricing/preSalePrice.js":128,"./application/pricing/saving":58,"./application/pricing/saving.js":58,"./application/promoBanner":84,"./application/promoBanner.js":84,"./application/starRating":114,"./application/starRating.js":114,"./application/tooltip":59,"./application/tooltip.js":59,"./application/vehicle/valueRangePromotion":129,"./application/vehicle/valueRangePromotion.js":129,"./application/vehicle/vehicleBranch":130,"./application/vehicle/vehicleBranch.js":130,"./application/vehicle/vehicleTitle":64,"./application/vehicle/vehicleTitle.js":64,"./budgetChooser":131,"./budgetChooser.js":131,"./budgetChooserExperiment":132,"./budgetChooserExperiment.js":132,"./business/businessFeaturedDeals":242,"./business/businessFeaturedDeals.js":242,"./business/businessOfferCard":133,"./business/businessOfferCard.js":133,"./deal_builder/dealBuilderContainer":134,"./deal_builder/dealBuilderContainer.js":134,"./deal_builder/dealBuilderLink":87,"./deal_builder/dealBuilderLink.js":87,"./deal_builder/views/enquiry/additionalView":164,"./deal_builder/views/enquiry/additionalView.js":164,"./deal_builder/views/enquiry/addressView":168,"./deal_builder/views/enquiry/addressView.js":168,"./deal_builder/views/enquiry/contactView":163,"./deal_builder/views/enquiry/contactView.js":163,"./deal_builder/views/enquiry/enquiryContainer":161,"./deal_builder/views/enquiry/enquiryContainer.js":161,"./deal_builder/views/enquiry/nameView":162,"./deal_builder/views/enquiry/nameView.js":162,"./deal_builder/views/enquiry/noLongerAvailableView":170,"./deal_builder/views/enquiry/noLongerAvailableView.js":170,"./deal_builder/views/enquiry/paymentView":169,"./deal_builder/views/enquiry/paymentView.js":169,"./deal_builder/views/enquiry/reservationQuestion":165,"./deal_builder/views/enquiry/reservationQuestion.js":165,"./deal_builder/views/enquiry/testDriveQuestion":166,"./deal_builder/views/enquiry/testDriveQuestion.js":166,"./deal_builder/views/enquiry/testDriveView":167,"./deal_builder/views/enquiry/testDriveView.js":167,"./deal_builder/views/finance/financeContainer":143,"./deal_builder/views/finance/financeContainer.js":143,"./deal_builder/views/finance/financeQuestion":144,"./deal_builder/views/finance/financeQuestion.js":144,"./deal_builder/views/next_steps/emailContainer":159,"./deal_builder/views/next_steps/emailContainer.js":159,"./deal_builder/views/next_steps/financePreview":158,"./deal_builder/views/next_steps/financePreview.js":158,"./deal_builder/views/next_steps/nextSteps":154,"./deal_builder/views/next_steps/nextSteps.js":154,"./deal_builder/views/next_steps/partExchangePreview":156,"./deal_builder/views/next_steps/partExchangePreview.js":156,"./deal_builder/views/next_steps/servicePlanPreview":157,"./deal_builder/views/next_steps/servicePlanPreview.js":157,"./deal_builder/views/next_steps/successCard":160,"./deal_builder/views/next_steps/successCard.js":160,"./deal_builder/views/next_steps/vehiclePreview":155,"./deal_builder/views/next_steps/vehiclePreview.js":155,"./deal_builder/views/part_exchange/assumptions":139,"./deal_builder/views/part_exchange/assumptions.js":139,"./deal_builder/views/part_exchange/outstandingFinanceAmount":141,"./deal_builder/views/part_exchange/outstandingFinanceAmount.js":141,"./deal_builder/views/part_exchange/outstandingFinanceQuestion":140,"./deal_builder/views/part_exchange/outstandingFinanceQuestion.js":140,"./deal_builder/views/part_exchange/partExchangeContainer":135,"./deal_builder/views/part_exchange/partExchangeContainer.js":135,"./deal_builder/views/part_exchange/partExchangeEquity":142,"./deal_builder/views/part_exchange/partExchangeEquity.js":142,"./deal_builder/views/part_exchange/partExchangeQuestion":136,"./deal_builder/views/part_exchange/partExchangeQuestion.js":136,"./deal_builder/views/part_exchange/partExchangeValuation":138,"./deal_builder/views/part_exchange/partExchangeValuation.js":138,"./deal_builder/views/part_exchange/partExchangeValuationForm":137,"./deal_builder/views/part_exchange/partExchangeValuationForm.js":137,"./deal_builder/views/service_plans/servicePlans":153,"./deal_builder/views/service_plans/servicePlans.js":153,"./deal_builder/views/summary/balance":171,"./deal_builder/views/summary/balance.js":171,"./deal_builder/views/summary/enquiryButton":172,"./deal_builder/views/summary/enquiryButton.js":172,"./deal_builder/views/summary/summary":244,"./deal_builder/views/summary/summary.js":244,"./enquiries/enquiryForm":245,"./enquiries/enquiryForm.js":245,"./finance/calculator":45,"./finance/calculator.js":45,"./finance/contractHireFinance":146,"./finance/contractHireFinance.js":146,"./finance/finance":145,"./finance/finance.js":145,"./finance/financeContainer":85,"./finance/financeContainer.js":85,"./finance/financeDealBuilder":149,"./finance/financeDealBuilder.js":149,"./finance/financeLightbox":67,"./finance/financeLightbox.js":67,"./finance/hpFinance":147,"./finance/hpFinance.js":147,"./finance/hpFinanceDealBuilder":150,"./finance/hpFinanceDealBuilder.js":150,"./finance/illustration":27,"./finance/illustration.js":27,"./finance/pcpFinance":148,"./finance/pcpFinance.js":148,"./finance/pcpFinanceDealBuilder":151,"./finance/pcpFinanceDealBuilder.js":151,"./finance/plFinanceDealBuilder":152,"./finance/plFinanceDealBuilder.js":152,"./home/index/alsoFromArnold":246,"./home/index/alsoFromArnold.js":246,"./home/index/homeBudgetSelector":247,"./home/index/homeBudgetSelector.js":247,"./home/index/makeAndModelSelector":248,"./home/index/makeAndModelSelector.js":248,"./home/index/specialOffers":249,"./home/index/specialOffers.js":249,"./live_chat/chatButton":86,"./live_chat/chatButton.js":86,"./live_chat/ciscoLiveChatListener":250,"./live_chat/ciscoLiveChatListener.js":250,"./live_chat/liveChatListener":251,"./live_chat/liveChatListener.js":251,"./live_chat/liveChatPopUp":252,"./live_chat/liveChatPopUp.js":252,"./shortlist/shortlist":173,"./shortlist/shortlist.js":173,"./shortlist/shortlistButton":65,"./shortlist/shortlistButton.js":65,"./shortlist/shortlistContainer":254,"./shortlist/shortlistContainer.js":254,"./shortlist/shortlistListener":256,"./shortlist/shortlistListener.js":256,"./vehicle_search/filters/budgetFilter":175,"./vehicle_search/filters/budgetFilter.js":175,"./vehicle_search/filters/fallbackFilters":177,"./vehicle_search/filters/fallbackFilters.js":177,"./vehicle_search/filters/filterDropdown":178,"./vehicle_search/filters/filterDropdown.js":178,"./vehicle_search/filters/filterOptions":69,"./vehicle_search/filters/filterOptions.js":69,"./vehicle_search/filters/filterToggles":179,"./vehicle_search/filters/filterToggles.js":179,"./vehicle_search/filters/filters":180,"./vehicle_search/filters/filters.js":180,"./vehicle_search/filters/locationFilter":184,"./vehicle_search/filters/locationFilter.js":184,"./vehicle_search/filters/makeFilters":185,"./vehicle_search/filters/makeFilters.js":185,"./vehicle_search/filters/modelFilters":186,"./vehicle_search/filters/modelFilters.js":186,"./vehicle_search/filters/multiSelectFilterOptions":257,"./vehicle_search/filters/multiSelectFilterOptions.js":257,"./vehicle_search/filters/newBudgetChooser":176,"./vehicle_search/filters/newBudgetChooser.js":176,"./vehicle_search/filters/newFilters":183,"./vehicle_search/filters/newFilters.js":183,"./vehicle_search/filters/searchFilter":182,"./vehicle_search/filters/searchFilter.js":182,"./vehicle_search/filters/sliderFilter":70,"./vehicle_search/filters/sliderFilter.js":70,"./vehicle_search/searchPricing":174,"./vehicle_search/searchPricing.js":174,"./vehicle_search/searchTag":181,"./vehicle_search/searchTag.js":181,"./vehicle_search/searchTags":91,"./vehicle_search/searchTags.js":91,"./vehicle_search/searchTagsHelper":187,"./vehicle_search/searchTagsHelper.js":187,"./vehicle_search/sortOrder":92,"./vehicle_search/sortOrder.js":92,"./vehicle_search/vehicleReserved":89,"./vehicle_search/vehicleReserved.js":89,"./vehicle_search/vehicleResult":88,"./vehicle_search/vehicleResult.js":88,"./vehicle_search/vehicleResults":188,"./vehicle_search/vehicleResults.js":188,"./vehicle_search/vehicleSearchContainer":258,"./vehicle_search/vehicleSearchContainer.js":258,"./vehicle_search/vehicleSearchHeader":191,"./vehicle_search/vehicleSearchHeader.js":191,"./vehicle_search/vehicleSearchPage":189,"./vehicle_search/vehicleSearchPage.js":189,"./vehicle_search/vehicleSearchStickyHeader":190,"./vehicle_search/vehicleSearchStickyHeader.js":190,"./vehicles/show/anchorLink":192,"./vehicles/show/anchorLink.js":192,"./vehicles/show/branchName":193,"./vehicles/show/branchName.js":193,"./vehicles/show/complianceWarning":194,"./vehicles/show/complianceWarning.js":194,"./vehicles/show/deliveryCentreLink":195,"./vehicles/show/deliveryCentreLink.js":195,"./vehicles/show/deliveryCentreModal":93,"./vehicles/show/deliveryCentreModal.js":93,"./vehicles/show/electricMap":260,"./vehicles/show/electricMap.js":260,"./vehicles/show/enquiryParams":196,"./vehicles/show/enquiryParams.js":196,"./vehicles/show/featuredSpec":197,"./vehicles/show/featuredSpec.js":197,"./vehicles/show/independentReview":198,"./vehicles/show/independentReview.js":198,"./vehicles/show/independentReviewContent":200,"./vehicles/show/independentReviewContent.js":200,"./vehicles/show/independentReviewVideo":199,"./vehicles/show/independentReviewVideo.js":199,"./vehicles/show/partExchange":201,"./vehicles/show/partExchange.js":201,"./vehicles/show/phoneNumber":68,"./vehicles/show/phoneNumber.js":68,"./vehicles/show/productHeader":202,"./vehicles/show/productHeader.js":202,"./vehicles/show/productPageContainer":261,"./vehicles/show/productPageContainer.js":261,"./vehicles/show/productPricing":203,"./vehicles/show/productPricing.js":203,"./vehicles/show/productScarcity":204,"./vehicles/show/productScarcity.js":204,"./vehicles/show/specification":205,"./vehicles/show/specification.js":205,"./vehicles/show/videoLinks":90,"./vehicles/show/videoLinks.js":90};function r(e){return a(l(e))}function l(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=371},,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ValidPostcode=/^([A-Za-z][A-Ha-hJ-Yj-y]?[0-9][A-Za-z0-9]? ?[0-9][A-Za-z]{2}|[Gg][Ii][Rr] ?0[Aa]{2})$/,t.ValidPhoneNumber=/^[+]{0,1}[0-9]{7,15}$/,t.ValidEmailAddress=/^.+@.+\..+/},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={term:null,deposit:null,annualMileage:null};function t(){dataLayer.push({event:"GAEvent",eventCategory:"Finance",eventAction:"PCP Calculator Request",eventLabel:"HTTP Error",financeType:"Calculated PCP",financeTerm:e.term,financeAnnualMileage:e.annualMileage,financeDeposit:e.deposit}),n.default.emit("failedPcpUpdate","Unable to fetch PCP quote at this time. Please try again later.")}function a(t){dataLayer.push({event:"GAEvent",eventCategory:"Finance",eventAction:"PCP Calculator Request",eventLabel:"Failed to calculate quote",financeType:"Calculated PCP",financeTerm:e.term,financeAnnualMileage:e.annualMileage,financeDeposit:e.deposit}),n.default.emit("failedPcpUpdate",t.body.errors)}function l(t){dataLayer.push(function(t){return{event:"GAEvent",eventCategory:"Finance",eventAction:"PCP Calculator Request",eventLabel:"Success",financeType:"Calculated PCP",financeTerm:e.term,financeAnnualMileage:e.annualMileage,financeDeposit:e.deposit,financeMonthlyPayment:t.body.data.monthlyPayment?t.body.data.monthlyPayment.value:0,financeFutureValue:t.body.data.guaranteedFutureValue?t.body.data.guaranteedFutureValue.value:0}}(t)),n.default.emit("calculatedPcpUpdate",t.body.data)}function o(e,n){return e?t():n.body.errors?a(n):l(n)}function i(e,t){var a=t.body;return a.errors?n.default.emit("failedHpUpdate",[a.errors[0].detail]):n.default.emit("calculatedHpUpdate",a.data)}function s(e,t){var a=t.body;return a.errors?n.default.emit("failedPlUpdate",[a.errors[0].detail]):n.default.emit("calculatedPlUpdate",a.data)}return{pcpRequest:function(t){e.term=t.term,e.deposit=t.deposit,e.annualMileage=t.annual_mileage,n.default.emit("requestedPcpUpdate"),r.default.post("/api/pcp_finance").send(t).set("Accept","application/json").end(o)},hpRequest:function(t){e.term=t.term,e.deposit=t.deposit,e.annualMileage=null,r.default.get("/vehicles/"+t.stockReference+"/hp_finance.json").query(t).end(i)},plRequest:function(t){e.term=t.term,e.deposit=t.deposit,e.annualMileage=null,r.default.get("/vehicles/"+t.stockReference+"/pl_finance.json").query(t).end(s)}}};var n=l(a(4)),r=l(a(16));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.saveDeal=function(e){r.default.post("/api/deals").send({authenticity_token:e.authenticityToken,deal:function(e){return n({},e.enquiry.partExchange&&{part_exchange:l.default.snakeCaseKeys(e.enquiry.partExchange)},e.enquiry.finance&&{finance:function(e){return n({},e.enquiry.finance["Annual mileage"]&&{annual_mileage:(t=e.enquiry.finance["Annual mileage"],parseFloat(t.replace(/[\xa3,]/g,"")))},{apr:e.enquiry.finance.apr,calculated:function(e){if(!e.finance.selectedFinance)return!1;var t=e.finance.selectedFinance;return e.finance[t].hasOwnProperty("calculator")}(e),completion_fee:e.enquiry.finance["Completion fee"],deposit:e.enquiry.finance.Deposit,description:e.enquiry.finance.Description,excess_mileage_charge:e.enquiry.finance["Excess mileage charge"],fixed_interest_rate:e.enquiry.finance["Fixed interest rate"],guaranteed_future_value:e.enquiry.finance["Guaranteed future value"],monthly_payment:e.enquiry.finance["Monthly payment"],term:e.enquiry.finance["Term (months)"]});var t}(e)},e.enquiry.servicePlan&&{service_plan:l.default.snakeCaseKeys(e.enquiry.servicePlan)},{stock_reference:e.stockReference})}(e)}).end(function(t,a){e.setReference(a.body.reference)})};var r=o(a(16)),l=o(a(15));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";var n=a(16),r=a(15);function l(){}e.exports=function(e){return e.jspCallbackId="__jsp"+r.uuid.generate().replace(/-/g,""),window[e.jspCallbackId]=function(e){var t={body:e};this._jspCleanup(),this._jspCallback.apply(this,[null,t])}.bind(e),e.end=function(e){var t=this._query.join("&"),a=document.getElementsByTagName("script")[0]||document.head,r=document.createElement("script"),o=this;this._jspCallback=e,t=n.serializeObject(t),this.url+=~this.url.indexOf("?")?"&"+t:"?"+t,r.src=this.url,a.parentNode.insertBefore(r,a),this._jspCleanup=function(){r.parentNode&&r.parentNode.removeChild(r),window[o.jspCallbackId]=l,o._timer&&clearTimeout(o._timer)},o._timeout&&!o._timer&&(o._timer=setTimeout(function(){o._jspCleanup(),o.timedout=!0,o.abort()},250))}.bind(e),e.query({callback:e.jspCallbackId}),e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";if("addEventListener"in window&&"classList"in document.documentElement&&"localStorage"in window&&"querySelector"in document){a(422),a(530);var n=a(371);a(402).useContext(n),a(531)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";if(window.console){var n="Hi there! Are you looking for a career building industry-leading digital products?\nDon\u2019t be fooled by the fact we sell cars. Car retailing has gone digital and so have we.\nWe are currently recruiting in a variety of roles to enable us to create innovative\nways to forge the connection between our people and our customers.\nSee https://careers.arnoldclark.com/jobs.aspx and select the department \u2018IT\u2019.";if("code"in KeyboardEvent.prototype){console.log("\n%cArnold Clark\n\n\n%c"+n,"font-family: Helvetica, Arial, sans-serif;background-color: #2d3737;color: #ffde00;font-size: x-large;padding: 0.5em;font-style: italic;","font-family: Helvetica, Arial, sans-serif;font-size: medium;color: black;padding: 0.5em;")}else console.log(n)}}],[421]);